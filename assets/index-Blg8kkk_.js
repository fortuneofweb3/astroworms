var IL=Object.defineProperty;var kL=(t,e,n)=>e in t?IL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cn=(t,e,n)=>kL(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var DA={exports:{}},rg={},OA={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),AL=Symbol.for("react.portal"),CL=Symbol.for("react.fragment"),NL=Symbol.for("react.strict_mode"),ML=Symbol.for("react.profiler"),RL=Symbol.for("react.provider"),xL=Symbol.for("react.context"),DL=Symbol.for("react.forward_ref"),OL=Symbol.for("react.suspense"),PL=Symbol.for("react.memo"),LL=Symbol.for("react.lazy"),R1=Symbol.iterator;function $L(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var PA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LA=Object.assign,$A={};function hu(t,e,n){this.props=t,this.context=e,this.refs=$A,this.updater=n||PA}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BA(){}BA.prototype=hu.prototype;function aS(t,e,n){this.props=t,this.context=e,this.refs=$A,this.updater=n||PA}var lS=aS.prototype=new BA;lS.constructor=aS;LA(lS,hu.prototype);lS.isPureReactComponent=!0;var x1=Array.isArray,UA=Object.prototype.hasOwnProperty,cS={current:null},FA={key:!0,ref:!0,__self:!0,__source:!0};function jA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)UA.call(e,r)&&!FA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tf,type:t,key:s,ref:o,props:i,_owner:cS.current}}function BL(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function UL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D1=/\/+/g;function Yy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UL(""+t.key):e.toString(36)}function Bh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tf:case AL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yy(o,0):r,x1(i)?(n="",t!=null&&(n=t.replace(D1,"$&/")+"/"),Bh(i,e,n,"",function(c){return c})):i!=null&&(uS(i)&&(i=BL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yy(s,a);o+=Bh(s,e,n,l,i)}else if(l=$L(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yy(s,a++),o+=Bh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function th(t,e,n){if(t==null)return t;var r=[],i=0;return Bh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},Uh={transition:null},jL={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:cS};function zA(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:th,forEach:function(t,e,n){th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!uS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=hu;Ve.Fragment=CL;Ve.Profiler=ML;Ve.PureComponent=aS;Ve.StrictMode=NL;Ve.Suspense=OL;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jL;Ve.act=zA;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)UA.call(e,l)&&!FA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tf,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:xL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RL,_context:t},t.Consumer=t};Ve.createElement=jA;Ve.createFactory=function(t){var e=jA.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:DL,render:t}};Ve.isValidElement=uS;Ve.lazy=function(t){return{$$typeof:LL,_payload:{_status:-1,_result:t},_init:FL}};Ve.memo=function(t,e){return{$$typeof:PL,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};Ve.unstable_act=zA;Ve.useCallback=function(t,e){return Dr.current.useCallback(t,e)};Ve.useContext=function(t){return Dr.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Dr.current.useEffect(t,e)};Ve.useId=function(){return Dr.current.useId()};Ve.useImperativeHandle=function(t,e,n){return Dr.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Dr.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return Dr.current.useReducer(t,e,n)};Ve.useRef=function(t){return Dr.current.useRef(t)};Ve.useState=function(t){return Dr.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return Dr.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return Dr.current.useTransition()};Ve.version="18.3.1";OA.exports=Ve;var ce=OA.exports;const le=_l(ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zL=ce,WL=Symbol.for("react.element"),VL=Symbol.for("react.fragment"),HL=Object.prototype.hasOwnProperty,GL=zL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qL={key:!0,ref:!0,__self:!0,__source:!0};function WA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HL.call(e,r)&&!qL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WL,type:t,key:s,ref:o,props:i,_owner:GL.current}}rg.Fragment=VL;rg.jsx=WA;rg.jsxs=WA;DA.exports=rg;var Zi=DA.exports,Sw={},VA={exports:{}},vi={},HA={exports:{}},GA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var j=M.length;M.push(B);e:for(;0<j;){var P=j-1>>>1,m=M[P];if(0<i(m,B))M[P]=B,M[j]=m,j=P;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],j=M.pop();if(j!==B){M[0]=j;e:for(var P=0,m=M.length,L=m>>>1;P<L;){var q=2*(P+1)-1,Q=M[q],ne=q+1,Ce=M[ne];if(0>i(Q,j))ne<m&&0>i(Ce,Q)?(M[P]=Ce,M[ne]=j,P=ne):(M[P]=Q,M[q]=j,P=q);else if(ne<m&&0>i(Ce,j))M[P]=Ce,M[ne]=j,P=ne;else break e}}return B}function i(M,B){var j=M.sortIndex-B.sortIndex;return j!==0?j:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,w=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=M)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(M){if(T=!1,b(M),!w)if(n(l)!==null)w=!0,N(E);else{var B=n(c);B!==null&&O(C,B.startTime-M)}}function E(M,B){w=!1,T&&(T=!1,S(z),z=-1),h=!0;var j=f;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||M&&!V());){var P=d.callback;if(typeof P=="function"){d.callback=null,f=d.priorityLevel;var m=P(d.expirationTime<=B);B=t.unstable_now(),typeof m=="function"?d.callback=m:d===n(l)&&r(l),b(B)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var q=n(c);q!==null&&O(C,q.startTime-B),L=!1}return L}finally{d=null,f=j,h=!1}}var I=!1,k=null,z=-1,D=5,F=-1;function V(){return!(t.unstable_now()-F<D)}function G(){if(k!==null){var M=t.unstable_now();F=M;var B=!0;try{B=k(!0,M)}finally{B?x():(I=!1,k=null)}}else I=!1}var x;if(typeof y=="function")x=function(){y(G)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,v=p.port2;p.port1.onmessage=G,x=function(){v.postMessage(null)}}else x=function(){A(G,0)};function N(M){k=M,I||(I=!0,x())}function O(M,B){z=A(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){w||h||(w=!0,N(E))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var j=f;f=B;try{return M()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=f;f=M;try{return B()}finally{f=j}},t.unstable_scheduleCallback=function(M,B,j){var P=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?P+j:P):j=P,M){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=j+m,M={id:u++,callback:B,priorityLevel:M,startTime:j,expirationTime:m,sortIndex:-1},j>P?(M.sortIndex=j,e(c,M),n(l)===null&&M===n(c)&&(T?(S(z),z=-1):T=!0,O(C,j-P))):(M.sortIndex=m,e(l,M),w||h||(w=!0,N(E))),M},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(M){var B=f;return function(){var j=f;f=B;try{return M.apply(this,arguments)}finally{f=j}}}})(GA);HA.exports=GA;var KL=HA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL=ce,gi=KL;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qA=new Set,Ud={};function Sl(t,e){Dc(t,e),Dc(t+"Capture",e)}function Dc(t,e){for(Ud[t]=e,t=0;t<e.length;t++)qA.add(e[t])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bw=Object.prototype.hasOwnProperty,QL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O1={},P1={};function JL(t){return bw.call(P1,t)?!0:bw.call(O1,t)?!1:QL.test(t)?P1[t]=!0:(O1[t]=!0,!1)}function ZL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XL(t,e,n,r){if(e===null||typeof e>"u"||ZL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var dS=/[\-:]([a-z])/g;function fS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dS,fS);cr[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dS,fS);cr[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dS,fS);cr[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function hS(t,e,n,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XL(e,n,i,r)&&(n=null),r||i===null?JL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Eo=YL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),pS=Symbol.for("react.strict_mode"),Ew=Symbol.for("react.profiler"),KA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),mS=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Iw=Symbol.for("react.suspense_list"),gS=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),QA=Symbol.for("react.offscreen"),L1=Symbol.iterator;function xu(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,Qy;function Ku(t){if(Qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qy=e&&e[1]||""}return`
`+Qy+t}var Jy=!1;function Zy(t,e){if(!t||Jy)return"";Jy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function e$(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=Zy(t.type,!1),t;case 11:return t=Zy(t.type.render,!1),t;case 1:return t=Zy(t.type,!0),t;default:return""}}function kw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Zl:return"Portal";case Ew:return"Profiler";case pS:return"StrictMode";case Tw:return"Suspense";case Iw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YA:return(t.displayName||"Context")+".Consumer";case KA:return(t._context.displayName||"Context")+".Provider";case mS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gS:return e=t.displayName||null,e!==null?e:kw(t.type)||"Memo";case Oo:e=t._payload,t=t._init;try{return kw(t(e))}catch{}}return null}function t$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kw(e);case 8:return e===pS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n$(t){var e=JA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rh(t){t._valueTracker||(t._valueTracker=n$(t))}function ZA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aw(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XA(t,e){e=e.checked,e!=null&&hS(t,"checked",e,!1)}function Cw(t,e){XA(t,e);var n=ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nw(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nw(t,e,n){(e!=="number"||Lp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yu=Array.isArray;function wc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(Yu(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ua(n)}}function eC(t,e){var n=ua(e.value),r=ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function F1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ih,nC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ih=ih||document.createElement("div"),ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r$=["Webkit","ms","Moz","O"];Object.keys(fd).forEach(function(t){r$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fd[e]=fd[t]})});function rC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fd.hasOwnProperty(t)&&fd[t]?(""+e).trim():e+"px"}function iC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var i$=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xw(t,e){if(e){if(i$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Dw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ow=null;function yS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pw=null,vc=null,_c=null;function j1(t){if(t=Af(t)){if(typeof Pw!="function")throw Error(se(280));var e=t.stateNode;e&&(e=lg(e),Pw(t.stateNode,t.type,e))}}function sC(t){vc?_c?_c.push(t):_c=[t]:vc=t}function oC(){if(vc){var t=vc,e=_c;if(_c=vc=null,j1(t),e)for(t=0;t<e.length;t++)j1(e[t])}}function aC(t,e){return t(e)}function lC(){}var Xy=!1;function cC(t,e,n){if(Xy)return t(e,n);Xy=!0;try{return aC(t,e,n)}finally{Xy=!1,(vc!==null||_c!==null)&&(lC(),oC())}}function jd(t,e){var n=t.stateNode;if(n===null)return null;var r=lg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Lw=!1;if(ho)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){Lw=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Lw=!1}function s$(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var hd=!1,$p=null,Bp=!1,$w=null,o$={onError:function(t){hd=!0,$p=t}};function a$(t,e,n,r,i,s,o,a,l){hd=!1,$p=null,s$.apply(o$,arguments)}function l$(t,e,n,r,i,s,o,a,l){if(a$.apply(this,arguments),hd){if(hd){var c=$p;hd=!1,$p=null}else throw Error(se(198));Bp||(Bp=!0,$w=c)}}function bl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(bl(t)!==t)throw Error(se(188))}function c$(t){var e=t.alternate;if(!e){if(e=bl(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z1(i),t;if(s===r)return z1(i),e;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function dC(t){return t=c$(t),t!==null?fC(t):null}function fC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fC(t);if(e!==null)return e;t=t.sibling}return null}var hC=gi.unstable_scheduleCallback,W1=gi.unstable_cancelCallback,u$=gi.unstable_shouldYield,d$=gi.unstable_requestPaint,cn=gi.unstable_now,f$=gi.unstable_getCurrentPriorityLevel,wS=gi.unstable_ImmediatePriority,pC=gi.unstable_UserBlockingPriority,Up=gi.unstable_NormalPriority,h$=gi.unstable_LowPriority,mC=gi.unstable_IdlePriority,ig=null,Cs=null;function p$(t){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(ig,t,void 0,(t.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:y$,m$=Math.log,g$=Math.LN2;function y$(t){return t>>>=0,t===0?32:31-(m$(t)/g$|0)|0}var sh=64,oh=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qu(a):(s&=o,s!==0&&(r=Qu(s)))}else o=n&~i,o!==0?r=Qu(o):s!==0&&(r=Qu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ts(e),i=1<<n,r|=t[n],e&=~i;return r}function w$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ts(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=w$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gC(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function e0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function If(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ts(e),t[e]=n}function _$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ts(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ts(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ht=0;function yC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wC,_S,vC,_C,SC,Uw=!1,ah=[],Qo=null,Jo=null,Zo=null,zd=new Map,Wd=new Map,$o=[],S$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V1(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":zd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(e.pointerId)}}function Ou(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Af(e),e!==null&&_S(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b$(t,e,n,r,i){switch(e){case"focusin":return Qo=Ou(Qo,t,e,n,r,i),!0;case"dragenter":return Jo=Ou(Jo,t,e,n,r,i),!0;case"mouseover":return Zo=Ou(Zo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zd.set(s,Ou(zd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wd.set(s,Ou(Wd.get(s)||null,t,e,n,r,i)),!0}return!1}function bC(t){var e=Ba(t.target);if(e!==null){var n=bl(e);if(n!==null){if(e=n.tag,e===13){if(e=uC(n),e!==null){t.blockedOn=e,SC(t.priority,function(){vC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ow=r,n.target.dispatchEvent(r),Ow=null}else return e=Af(n),e!==null&&_S(e),t.blockedOn=n,!1;e.shift()}return!0}function H1(t,e,n){Fh(t)&&n.delete(e)}function E$(){Uw=!1,Qo!==null&&Fh(Qo)&&(Qo=null),Jo!==null&&Fh(Jo)&&(Jo=null),Zo!==null&&Fh(Zo)&&(Zo=null),zd.forEach(H1),Wd.forEach(H1)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,Uw||(Uw=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,E$)))}function Vd(t){function e(i){return Pu(i,t)}if(0<ah.length){Pu(ah[0],t);for(var n=1;n<ah.length;n++){var r=ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&Pu(Qo,t),Jo!==null&&Pu(Jo,t),Zo!==null&&Pu(Zo,t),zd.forEach(e),Wd.forEach(e),n=0;n<$o.length;n++)r=$o[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$o.length&&(n=$o[0],n.blockedOn===null);)bC(n),n.blockedOn===null&&$o.shift()}var Sc=Eo.ReactCurrentBatchConfig,jp=!0;function T$(t,e,n,r){var i=ht,s=Sc.transition;Sc.transition=null;try{ht=1,SS(t,e,n,r)}finally{ht=i,Sc.transition=s}}function I$(t,e,n,r){var i=ht,s=Sc.transition;Sc.transition=null;try{ht=4,SS(t,e,n,r)}finally{ht=i,Sc.transition=s}}function SS(t,e,n,r){if(jp){var i=Fw(t,e,n,r);if(i===null)u0(t,e,r,zp,n),V1(t,r);else if(b$(i,t,e,n,r))r.stopPropagation();else if(V1(t,r),e&4&&-1<S$.indexOf(t)){for(;i!==null;){var s=Af(i);if(s!==null&&wC(s),s=Fw(t,e,n,r),s===null&&u0(t,e,r,zp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else u0(t,e,r,null,n)}}var zp=null;function Fw(t,e,n,r){if(zp=null,t=yS(r),t=Ba(t),t!==null)if(e=bl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zp=t,null}function EC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f$()){case wS:return 1;case pC:return 4;case Up:case h$:return 16;case mC:return 536870912;default:return 16}default:return 16}}var jo=null,bS=null,jh=null;function TC(){if(jh)return jh;var t,e=bS,n=e.length,r,i="value"in jo?jo.value:jo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jh=i.slice(t,1<r?1-r:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function G1(){return!1}function _i(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:G1,this.isPropagationStopped=G1,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ES=_i(pu),kf=Ht({},pu,{view:0,detail:0}),k$=_i(kf),t0,n0,Lu,sg=Ht({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lu&&(Lu&&t.type==="mousemove"?(t0=t.screenX-Lu.screenX,n0=t.screenY-Lu.screenY):n0=t0=0,Lu=t),t0)},movementY:function(t){return"movementY"in t?t.movementY:n0}}),q1=_i(sg),A$=Ht({},sg,{dataTransfer:0}),C$=_i(A$),N$=Ht({},kf,{relatedTarget:0}),r0=_i(N$),M$=Ht({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),R$=_i(M$),x$=Ht({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D$=_i(x$),O$=Ht({},pu,{data:0}),K1=_i(O$),P$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$$[t])?!!e[t]:!1}function TS(){return B$}var U$=Ht({},kf,{key:function(t){if(t.key){var e=P$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TS,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F$=_i(U$),j$=Ht({},sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=_i(j$),z$=Ht({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TS}),W$=_i(z$),V$=Ht({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),H$=_i(V$),G$=Ht({},sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q$=_i(G$),K$=[9,13,27,32],IS=ho&&"CompositionEvent"in window,pd=null;ho&&"documentMode"in document&&(pd=document.documentMode);var Y$=ho&&"TextEvent"in window&&!pd,IC=ho&&(!IS||pd&&8<pd&&11>=pd),Q1=" ",J1=!1;function kC(t,e){switch(t){case"keyup":return K$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ec=!1;function Q$(t,e){switch(t){case"compositionend":return AC(e);case"keypress":return e.which!==32?null:(J1=!0,Q1);case"textInput":return t=e.data,t===Q1&&J1?null:t;default:return null}}function J$(t,e){if(ec)return t==="compositionend"||!IS&&kC(t,e)?(t=TC(),jh=bS=jo=null,ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IC&&e.locale!=="ko"?null:e.data;default:return null}}var Z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z$[t.type]:e==="textarea"}function CC(t,e,n,r){sC(r),e=Wp(e,"onChange"),0<e.length&&(n=new ES("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var md=null,Hd=null;function X$(t){UC(t,0)}function og(t){var e=rc(t);if(ZA(e))return t}function eB(t,e){if(t==="change")return e}var NC=!1;if(ho){var i0;if(ho){var s0="oninput"in document;if(!s0){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),s0=typeof X1.oninput=="function"}i0=s0}else i0=!1;NC=i0&&(!document.documentMode||9<document.documentMode)}function eT(){md&&(md.detachEvent("onpropertychange",MC),Hd=md=null)}function MC(t){if(t.propertyName==="value"&&og(Hd)){var e=[];CC(e,Hd,t,yS(t)),cC(X$,e)}}function tB(t,e,n){t==="focusin"?(eT(),md=e,Hd=n,md.attachEvent("onpropertychange",MC)):t==="focusout"&&eT()}function nB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return og(Hd)}function rB(t,e){if(t==="click")return og(e)}function iB(t,e){if(t==="input"||t==="change")return og(e)}function sB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:sB;function Gd(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bw.call(e,i)||!as(t[i],e[i]))return!1}return!0}function tT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nT(t,e){var n=tT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tT(n)}}function RC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xC(){for(var t=window,e=Lp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lp(t.document)}return e}function kS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oB(t){var e=xC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RC(n.ownerDocument.documentElement,n)){if(r!==null&&kS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nT(n,s);var o=nT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aB=ho&&"documentMode"in document&&11>=document.documentMode,tc=null,jw=null,gd=null,zw=!1;function rT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zw||tc==null||tc!==Lp(r)||(r=tc,"selectionStart"in r&&kS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&Gd(gd,r)||(gd=r,r=Wp(jw,"onSelect"),0<r.length&&(e=new ES("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tc)))}function ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nc={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},o0={},DC={};ho&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function ag(t){if(o0[t])return o0[t];if(!nc[t])return t;var e=nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DC)return o0[t]=e[n];return t}var OC=ag("animationend"),PC=ag("animationiteration"),LC=ag("animationstart"),$C=ag("transitionend"),BC=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(t,e){BC.set(t,e),Sl(e,[t])}for(var a0=0;a0<iT.length;a0++){var l0=iT[a0],lB=l0.toLowerCase(),cB=l0[0].toUpperCase()+l0.slice(1);ga(lB,"on"+cB)}ga(OC,"onAnimationEnd");ga(PC,"onAnimationIteration");ga(LC,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga($C,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function sT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l$(r,e,void 0,t),t.currentTarget=null}function UC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sT(i,a,c),s=l}}}if(Bp)throw t=$w,Bp=!1,$w=null,t}function At(t,e){var n=e[qw];n===void 0&&(n=e[qw]=new Set);var r=t+"__bubble";n.has(r)||(FC(e,t,2,!1),n.add(r))}function c0(t,e,n){var r=0;e&&(r|=4),FC(n,t,r,e)}var uh="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[uh]){t[uh]=!0,qA.forEach(function(n){n!=="selectionchange"&&(uB.has(n)||c0(n,!1,t),c0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uh]||(e[uh]=!0,c0("selectionchange",!1,e))}}function FC(t,e,n,r){switch(EC(e)){case 1:var i=T$;break;case 4:i=I$;break;default:i=SS}n=i.bind(null,e,n,t),i=void 0,!Lw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cC(function(){var c=s,u=yS(n),d=[];e:{var f=BC.get(t);if(f!==void 0){var h=ES,w=t;switch(t){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":h=F$;break;case"focusin":w="focus",h=r0;break;case"focusout":w="blur",h=r0;break;case"beforeblur":case"afterblur":h=r0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=C$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=W$;break;case OC:case PC:case LC:h=R$;break;case $C:h=H$;break;case"scroll":h=k$;break;case"wheel":h=q$;break;case"copy":case"cut":case"paste":h=D$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Y1}var T=(e&4)!==0,A=!T&&t==="scroll",S=T?f!==null?f+"Capture":null:f;T=[];for(var y=c,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,S!==null&&(C=jd(y,S),C!=null&&T.push(Kd(y,C,b)))),A)break;y=y.return}0<T.length&&(f=new h(f,w,null,n,u),d.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Ow&&(w=n.relatedTarget||n.fromElement)&&(Ba(w)||w[po]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=c,w=w?Ba(w):null,w!==null&&(A=bl(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=c),h!==w)){if(T=q1,C="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=Y1,C="onPointerLeave",S="onPointerEnter",y="pointer"),A=h==null?f:rc(h),b=w==null?f:rc(w),f=new T(C,y+"leave",h,n,u),f.target=A,f.relatedTarget=b,C=null,Ba(u)===c&&(T=new T(S,y+"enter",w,n,u),T.target=b,T.relatedTarget=A,C=T),A=C,h&&w)t:{for(T=h,S=w,y=0,b=T;b;b=xl(b))y++;for(b=0,C=S;C;C=xl(C))b++;for(;0<y-b;)T=xl(T),y--;for(;0<b-y;)S=xl(S),b--;for(;y--;){if(T===S||S!==null&&T===S.alternate)break t;T=xl(T),S=xl(S)}T=null}else T=null;h!==null&&oT(d,f,h,T,!1),w!==null&&A!==null&&oT(d,A,w,T,!0)}}e:{if(f=c?rc(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=eB;else if(Z1(f))if(NC)E=iB;else{E=nB;var I=tB}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=rB);if(E&&(E=E(t,c))){CC(d,E,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Nw(f,"number",f.value)}switch(I=c?rc(c):window,t){case"focusin":(Z1(I)||I.contentEditable==="true")&&(tc=I,jw=c,gd=null);break;case"focusout":gd=jw=tc=null;break;case"mousedown":zw=!0;break;case"contextmenu":case"mouseup":case"dragend":zw=!1,rT(d,n,u);break;case"selectionchange":if(aB)break;case"keydown":case"keyup":rT(d,n,u)}var k;if(IS)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else ec?kC(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(IC&&n.locale!=="ko"&&(ec||z!=="onCompositionStart"?z==="onCompositionEnd"&&ec&&(k=TC()):(jo=u,bS="value"in jo?jo.value:jo.textContent,ec=!0)),I=Wp(c,z),0<I.length&&(z=new K1(z,t,null,n,u),d.push({event:z,listeners:I}),k?z.data=k:(k=AC(n),k!==null&&(z.data=k)))),(k=Y$?Q$(t,n):J$(t,n))&&(c=Wp(c,"onBeforeInput"),0<c.length&&(u=new K1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}UC(d,e)})}function Kd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jd(t,n),s!=null&&r.unshift(Kd(t,s,i)),s=jd(t,e),s!=null&&r.push(Kd(t,s,i))),t=t.return}return r}function xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jd(n,s),l!=null&&o.unshift(Kd(n,l,a))):i||(l=jd(n,s),l!=null&&o.push(Kd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dB=/\r\n?/g,fB=/\u0000|\uFFFD/g;function aT(t){return(typeof t=="string"?t:""+t).replace(dB,`
`).replace(fB,"")}function dh(t,e,n){if(e=aT(e),aT(t)!==e&&n)throw Error(se(425))}function Vp(){}var Ww=null,Vw=null;function Hw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gw=typeof setTimeout=="function"?setTimeout:void 0,hB=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,pB=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(t){return lT.resolve(null).then(t).catch(mB)}:Gw;function mB(t){setTimeout(function(){throw t})}function d0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vd(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mu=Math.random().toString(36).slice(2),_s="__reactFiber$"+mu,Yd="__reactProps$"+mu,po="__reactContainer$"+mu,qw="__reactEvents$"+mu,gB="__reactListeners$"+mu,yB="__reactHandles$"+mu;function Ba(t){var e=t[_s];if(e)return e;for(var n=t.parentNode;n;){if(e=n[po]||n[_s]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cT(t);t!==null;){if(n=t[_s])return n;t=cT(t)}return e}t=n,n=t.parentNode}return null}function Af(t){return t=t[_s]||t[po],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function lg(t){return t[Yd]||null}var Kw=[],ic=-1;function ya(t){return{current:t}}function Rt(t){0>ic||(t.current=Kw[ic],Kw[ic]=null,ic--)}function Tt(t,e){ic++,Kw[ic]=t.current,t.current=e}var da={},Er=ya(da),Qr=ya(!1),rl=da;function Oc(t,e){var n=t.type.contextTypes;if(!n)return da;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(t){return t=t.childContextTypes,t!=null}function Hp(){Rt(Qr),Rt(Er)}function uT(t,e,n){if(Er.current!==da)throw Error(se(168));Tt(Er,e),Tt(Qr,n)}function jC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,t$(t)||"Unknown",i));return Ht({},n,r)}function Gp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||da,rl=Er.current,Tt(Er,t),Tt(Qr,Qr.current),!0}function dT(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=jC(t,e,rl),r.__reactInternalMemoizedMergedChildContext=t,Rt(Qr),Rt(Er),Tt(Er,t)):Rt(Qr),Tt(Qr,n)}var Qs=null,cg=!1,f0=!1;function zC(t){Qs===null?Qs=[t]:Qs.push(t)}function wB(t){cg=!0,zC(t)}function wa(){if(!f0&&Qs!==null){f0=!0;var t=0,e=ht;try{var n=Qs;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,cg=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),hC(wS,wa),i}finally{ht=e,f0=!1}}return null}var sc=[],oc=0,qp=null,Kp=0,Ai=[],Ci=0,il=null,ro=1,io="";function ka(t,e){sc[oc++]=Kp,sc[oc++]=qp,qp=t,Kp=e}function WC(t,e,n){Ai[Ci++]=ro,Ai[Ci++]=io,Ai[Ci++]=il,il=t;var r=ro;t=io;var i=32-ts(r)-1;r&=~(1<<i),n+=1;var s=32-ts(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ro=1<<32-ts(e)+i|n<<i|r,io=s+t}else ro=1<<s|n<<i|r,io=t}function AS(t){t.return!==null&&(ka(t,1),WC(t,1,0))}function CS(t){for(;t===qp;)qp=sc[--oc],sc[oc]=null,Kp=sc[--oc],sc[oc]=null;for(;t===il;)il=Ai[--Ci],Ai[Ci]=null,io=Ai[--Ci],Ai[Ci]=null,ro=Ai[--Ci],Ai[Ci]=null}var ui=null,ci=null,Bt=!1,Yi=null;function VC(t,e){var n=Ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ui=t,ci=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ui=t,ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=il!==null?{id:ro,overflow:io}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ui=t,ci=null,!0):!1;default:return!1}}function Yw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qw(t){if(Bt){var e=ci;if(e){var n=e;if(!fT(t,e)){if(Yw(t))throw Error(se(418));e=Xo(n.nextSibling);var r=ui;e&&fT(t,e)?VC(r,n):(t.flags=t.flags&-4097|2,Bt=!1,ui=t)}}else{if(Yw(t))throw Error(se(418));t.flags=t.flags&-4097|2,Bt=!1,ui=t}}}function hT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ui=t}function fh(t){if(t!==ui)return!1;if(!Bt)return hT(t),Bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hw(t.type,t.memoizedProps)),e&&(e=ci)){if(Yw(t))throw HC(),Error(se(418));for(;e;)VC(t,e),e=Xo(e.nextSibling)}if(hT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ci=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ci=null}}else ci=ui?Xo(t.stateNode.nextSibling):null;return!0}function HC(){for(var t=ci;t;)t=Xo(t.nextSibling)}function Pc(){ci=ui=null,Bt=!1}function NS(t){Yi===null?Yi=[t]:Yi.push(t)}var vB=Eo.ReactCurrentBatchConfig;function $u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pT(t){var e=t._init;return e(t._payload)}function GC(t){function e(S,y){if(t){var b=S.deletions;b===null?(S.deletions=[y],S.flags|=16):b.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=ra(S,y),S.index=0,S.sibling=null,S}function s(S,y,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<y?(S.flags|=2,y):b):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,y,b,C){return y===null||y.tag!==6?(y=v0(b,S.mode,C),y.return=S,y):(y=i(y,b),y.return=S,y)}function l(S,y,b,C){var E=b.type;return E===Xl?u(S,y,b.props.children,C,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oo&&pT(E)===y.type)?(C=i(y,b.props),C.ref=$u(S,y,b),C.return=S,C):(C=Yh(b.type,b.key,b.props,null,S.mode,C),C.ref=$u(S,y,b),C.return=S,C)}function c(S,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=_0(b,S.mode,C),y.return=S,y):(y=i(y,b.children||[]),y.return=S,y)}function u(S,y,b,C,E){return y===null||y.tag!==7?(y=el(b,S.mode,C,E),y.return=S,y):(y=i(y,b),y.return=S,y)}function d(S,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=v0(""+y,S.mode,b),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nh:return b=Yh(y.type,y.key,y.props,null,S.mode,b),b.ref=$u(S,null,y),b.return=S,b;case Zl:return y=_0(y,S.mode,b),y.return=S,y;case Oo:var C=y._init;return d(S,C(y._payload),b)}if(Yu(y)||xu(y))return y=el(y,S.mode,b,null),y.return=S,y;hh(S,y)}return null}function f(S,y,b,C){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(S,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nh:return b.key===E?l(S,y,b,C):null;case Zl:return b.key===E?c(S,y,b,C):null;case Oo:return E=b._init,f(S,y,E(b._payload),C)}if(Yu(b)||xu(b))return E!==null?null:u(S,y,b,C,null);hh(S,b)}return null}function h(S,y,b,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(b)||null,a(y,S,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case nh:return S=S.get(C.key===null?b:C.key)||null,l(y,S,C,E);case Zl:return S=S.get(C.key===null?b:C.key)||null,c(y,S,C,E);case Oo:var I=C._init;return h(S,y,b,I(C._payload),E)}if(Yu(C)||xu(C))return S=S.get(b)||null,u(y,S,C,E,null);hh(y,C)}return null}function w(S,y,b,C){for(var E=null,I=null,k=y,z=y=0,D=null;k!==null&&z<b.length;z++){k.index>z?(D=k,k=null):D=k.sibling;var F=f(S,k,b[z],C);if(F===null){k===null&&(k=D);break}t&&k&&F.alternate===null&&e(S,k),y=s(F,y,z),I===null?E=F:I.sibling=F,I=F,k=D}if(z===b.length)return n(S,k),Bt&&ka(S,z),E;if(k===null){for(;z<b.length;z++)k=d(S,b[z],C),k!==null&&(y=s(k,y,z),I===null?E=k:I.sibling=k,I=k);return Bt&&ka(S,z),E}for(k=r(S,k);z<b.length;z++)D=h(k,S,z,b[z],C),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?z:D.key),y=s(D,y,z),I===null?E=D:I.sibling=D,I=D);return t&&k.forEach(function(V){return e(S,V)}),Bt&&ka(S,z),E}function T(S,y,b,C){var E=xu(b);if(typeof E!="function")throw Error(se(150));if(b=E.call(b),b==null)throw Error(se(151));for(var I=E=null,k=y,z=y=0,D=null,F=b.next();k!==null&&!F.done;z++,F=b.next()){k.index>z?(D=k,k=null):D=k.sibling;var V=f(S,k,F.value,C);if(V===null){k===null&&(k=D);break}t&&k&&V.alternate===null&&e(S,k),y=s(V,y,z),I===null?E=V:I.sibling=V,I=V,k=D}if(F.done)return n(S,k),Bt&&ka(S,z),E;if(k===null){for(;!F.done;z++,F=b.next())F=d(S,F.value,C),F!==null&&(y=s(F,y,z),I===null?E=F:I.sibling=F,I=F);return Bt&&ka(S,z),E}for(k=r(S,k);!F.done;z++,F=b.next())F=h(k,S,z,F.value,C),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?z:F.key),y=s(F,y,z),I===null?E=F:I.sibling=F,I=F);return t&&k.forEach(function(G){return e(S,G)}),Bt&&ka(S,z),E}function A(S,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Xl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nh:e:{for(var E=b.key,I=y;I!==null;){if(I.key===E){if(E=b.type,E===Xl){if(I.tag===7){n(S,I.sibling),y=i(I,b.props.children),y.return=S,S=y;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oo&&pT(E)===I.type){n(S,I.sibling),y=i(I,b.props),y.ref=$u(S,I,b),y.return=S,S=y;break e}n(S,I);break}else e(S,I);I=I.sibling}b.type===Xl?(y=el(b.props.children,S.mode,C,b.key),y.return=S,S=y):(C=Yh(b.type,b.key,b.props,null,S.mode,C),C.ref=$u(S,y,b),C.return=S,S=C)}return o(S);case Zl:e:{for(I=b.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(S,y.sibling),y=i(y,b.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=_0(b,S.mode,C),y.return=S,S=y}return o(S);case Oo:return I=b._init,A(S,y,I(b._payload),C)}if(Yu(b))return w(S,y,b,C);if(xu(b))return T(S,y,b,C);hh(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,b),y.return=S,S=y):(n(S,y),y=v0(b,S.mode,C),y.return=S,S=y),o(S)):n(S,y)}return A}var Lc=GC(!0),qC=GC(!1),Yp=ya(null),Qp=null,ac=null,MS=null;function RS(){MS=ac=Qp=null}function xS(t){var e=Yp.current;Rt(Yp),t._currentValue=e}function Jw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bc(t,e){Qp=t,MS=ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Oi(t){var e=t._currentValue;if(MS!==t)if(t={context:t,memoizedValue:e,next:null},ac===null){if(Qp===null)throw Error(se(308));ac=t,Qp.dependencies={lanes:0,firstContext:t}}else ac=ac.next=t;return e}var Ua=null;function DS(t){Ua===null?Ua=[t]:Ua.push(t)}function KC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,DS(e)):(n.next=i.next,i.next=n),e.interleaved=n,mo(t,r)}function mo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function OS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ea(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mo(t,n)}return i=r.interleaved,i===null?(e.next=e,DS(r)):(e.next=i.next,i.next=e),r.interleaved=e,mo(t,n)}function Wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vS(t,n)}}function mT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jp(t,e,n,r){var i=t.updateQueue;Po=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(f=e,h=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){d=w.call(h,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,f=typeof w=="function"?w.call(h,d,f):w,f==null)break e;d=Ht({},d,f);break e;case 2:Po=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ol|=o,t.lanes=o,t.memoizedState=d}}function gT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var Cf={},Ns=ya(Cf),Qd=ya(Cf),Jd=ya(Cf);function Fa(t){if(t===Cf)throw Error(se(174));return t}function PS(t,e){switch(Tt(Jd,e),Tt(Qd,t),Tt(Ns,Cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rw(e,t)}Rt(Ns),Tt(Ns,e)}function $c(){Rt(Ns),Rt(Qd),Rt(Jd)}function QC(t){Fa(Jd.current);var e=Fa(Ns.current),n=Rw(e,t.type);e!==n&&(Tt(Qd,t),Tt(Ns,n))}function LS(t){Qd.current===t&&(Rt(Ns),Rt(Qd))}var zt=ya(0);function Zp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h0=[];function $S(){for(var t=0;t<h0.length;t++)h0[t]._workInProgressVersionPrimary=null;h0.length=0}var Vh=Eo.ReactCurrentDispatcher,p0=Eo.ReactCurrentBatchConfig,sl=0,Vt=null,Ln=null,Gn=null,Xp=!1,yd=!1,Zd=0,_B=0;function ur(){throw Error(se(321))}function BS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function US(t,e,n,r,i,s){if(sl=s,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vh.current=t===null||t.memoizedState===null?TB:IB,t=n(r,i),yd){s=0;do{if(yd=!1,Zd=0,25<=s)throw Error(se(301));s+=1,Gn=Ln=null,e.updateQueue=null,Vh.current=kB,t=n(r,i)}while(yd)}if(Vh.current=em,e=Ln!==null&&Ln.next!==null,sl=0,Gn=Ln=Vt=null,Xp=!1,e)throw Error(se(300));return t}function FS(){var t=Zd!==0;return Zd=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Vt.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function Pi(){if(Ln===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Ln.next;var e=Gn===null?Vt.memoizedState:Gn.next;if(e!==null)Gn=e,Ln=t;else{if(t===null)throw Error(se(310));Ln=t,t={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Gn===null?Vt.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function Xd(t,e){return typeof e=="function"?e(t):e}function m0(t){var e=Pi(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((sl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Vt.lanes|=u,ol|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,as(r,e.memoizedState)||(Gr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Vt.lanes|=s,ol|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function g0(t){var e=Pi(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);as(s,e.memoizedState)||(Gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JC(){}function ZC(t,e){var n=Vt,r=Pi(),i=e(),s=!as(r.memoizedState,i);if(s&&(r.memoizedState=i,Gr=!0),r=r.queue,jS(tN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,ef(9,eN.bind(null,n,r,i,e),void 0,null),Jn===null)throw Error(se(349));sl&30||XC(n,e,i)}return i}function XC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eN(t,e,n,r){e.value=n,e.getSnapshot=r,nN(e)&&rN(t)}function tN(t,e,n){return n(function(){nN(e)&&rN(t)})}function nN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function rN(t){var e=mo(t,1);e!==null&&ns(e,t,1,-1)}function yT(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},e.queue=t,t=t.dispatch=EB.bind(null,Vt,t),[e.memoizedState,t]}function ef(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iN(){return Pi().memoizedState}function Hh(t,e,n,r){var i=gs();Vt.flags|=t,i.memoizedState=ef(1|e,n,void 0,r===void 0?null:r)}function ug(t,e,n,r){var i=Pi();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,r!==null&&BS(r,o.deps)){i.memoizedState=ef(e,n,s,r);return}}Vt.flags|=t,i.memoizedState=ef(1|e,n,s,r)}function wT(t,e){return Hh(8390656,8,t,e)}function jS(t,e){return ug(2048,8,t,e)}function sN(t,e){return ug(4,2,t,e)}function oN(t,e){return ug(4,4,t,e)}function aN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lN(t,e,n){return n=n!=null?n.concat([t]):null,ug(4,4,aN.bind(null,e,t),n)}function zS(){}function cN(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uN(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dN(t,e,n){return sl&21?(as(n,e)||(n=gC(),Vt.lanes|=n,ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=n)}function SB(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=p0.transition;p0.transition={};try{t(!1),e()}finally{ht=n,p0.transition=r}}function fN(){return Pi().memoizedState}function bB(t,e,n){var r=na(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hN(t))pN(e,n);else if(n=KC(t,e,n,r),n!==null){var i=Rr();ns(n,t,r,i),mN(n,e,r)}}function EB(t,e,n){var r=na(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hN(t))pN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(i.next=i,DS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KC(t,e,i,r),n!==null&&(i=Rr(),ns(n,t,r,i),mN(n,e,r))}}function hN(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function pN(t,e){yd=Xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vS(t,n)}}var em={readContext:Oi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},TB={readContext:Oi,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:Oi,useEffect:wT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,aN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bB.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:yT,useDebugValue:zS,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=yT(!1),e=t[0];return t=SB.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,i=gs();if(Bt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Jn===null)throw Error(se(349));sl&30||XC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wT(tN.bind(null,r,s,t),[t]),r.flags|=2048,ef(9,eN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gs(),e=Jn.identifierPrefix;if(Bt){var n=io,r=ro;n=(r&~(1<<32-ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_B++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IB={readContext:Oi,useCallback:cN,useContext:Oi,useEffect:jS,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:uN,useReducer:m0,useRef:iN,useState:function(){return m0(Xd)},useDebugValue:zS,useDeferredValue:function(t){var e=Pi();return dN(e,Ln.memoizedState,t)},useTransition:function(){var t=m0(Xd)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:ZC,useId:fN,unstable_isNewReconciler:!1},kB={readContext:Oi,useCallback:cN,useContext:Oi,useEffect:jS,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:uN,useReducer:g0,useRef:iN,useState:function(){return g0(Xd)},useDebugValue:zS,useDeferredValue:function(t){var e=Pi();return Ln===null?e.memoizedState=t:dN(e,Ln.memoizedState,t)},useTransition:function(){var t=g0(Xd)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:ZC,useId:fN,unstable_isNewReconciler:!1};function Gi(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dg={isMounted:function(t){return(t=t._reactInternals)?bl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=na(t),s=uo(r,i);s.payload=e,n!=null&&(s.callback=n),e=ea(t,s,i),e!==null&&(ns(e,t,i,r),Wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=na(t),s=uo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ea(t,s,i),e!==null&&(ns(e,t,i,r),Wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rr(),r=na(t),i=uo(n,r);i.tag=2,e!=null&&(i.callback=e),e=ea(t,i,r),e!==null&&(ns(e,t,r,n),Wh(e,t,r))}};function vT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gd(n,r)||!Gd(i,s):!0}function gN(t,e,n){var r=!1,i=da,s=e.contextType;return typeof s=="object"&&s!==null?s=Oi(s):(i=Jr(e)?rl:Er.current,r=e.contextTypes,s=(r=r!=null)?Oc(t,i):da),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _T(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dg.enqueueReplaceState(e,e.state,null)}function Xw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},OS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Oi(s):(s=Jr(e)?rl:Er.current,i.context=Oc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dg.enqueueReplaceState(i,i.state,null),Jp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bc(t,e){try{var n="",r=e;do n+=e$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function y0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ev(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AB=typeof WeakMap=="function"?WeakMap:Map;function yN(t,e,n){n=uo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nm||(nm=!0,uv=r),ev(t,e)},n}function wN(t,e,n){n=uo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ev(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ev(t,e),typeof r!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ST(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jB.bind(null,t,e,n),e.then(t,t))}function bT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ET(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=uo(-1,1),e.tag=2,ea(n,e,1))),n.lanes|=1),t)}var CB=Eo.ReactCurrentOwner,Gr=!1;function Ar(t,e,n,r){e.child=t===null?qC(e,null,n,r):Lc(e,t.child,n,r)}function TT(t,e,n,r,i){n=n.render;var s=e.ref;return bc(e,i),r=US(t,e,n,r,s,i),n=FS(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,go(t,e,i)):(Bt&&n&&AS(e),e.flags|=1,Ar(t,e,r,i),e.child)}function IT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!QS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vN(t,e,s,r,i)):(t=Yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gd,n(o,r)&&t.ref===e.ref)return go(t,e,i)}return e.flags|=1,t=ra(s,r),t.ref=e.ref,t.return=e,e.child=t}function vN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gd(s,r)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,go(t,e,i)}return tv(t,e,n,r,i)}function _N(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(cc,si),si|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(cc,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tt(cc,si),si|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tt(cc,si),si|=r;return Ar(t,e,i,n),e.child}function SN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tv(t,e,n,r,i){var s=Jr(n)?rl:Er.current;return s=Oc(e,s),bc(e,i),n=US(t,e,n,r,s,i),r=FS(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,go(t,e,i)):(Bt&&r&&AS(e),e.flags|=1,Ar(t,e,n,i),e.child)}function kT(t,e,n,r,i){if(Jr(n)){var s=!0;Gp(e)}else s=!1;if(bc(e,i),e.stateNode===null)Gh(t,e),gN(e,n,r),Xw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Oi(c):(c=Jr(n)?rl:Er.current,c=Oc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_T(e,o,r,c),Po=!1;var f=e.memoizedState;o.state=f,Jp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Qr.current||Po?(typeof u=="function"&&(Zw(e,n,u,r),l=e.memoizedState),(a=Po||vT(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gi(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=Jr(n)?rl:Er.current,l=Oc(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_T(e,o,r,l),Po=!1,f=e.memoizedState,o.state=f,Jp(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||Qr.current||Po?(typeof h=="function"&&(Zw(e,n,h,r),w=e.memoizedState),(c=Po||vT(e,n,c,r,f,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return nv(t,e,n,r,s,i)}function nv(t,e,n,r,i,s){SN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dT(e,n,!1),go(t,e,s);r=e.stateNode,CB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lc(e,t.child,null,s),e.child=Lc(e,null,a,s)):Ar(t,e,a,s),e.memoizedState=r.state,i&&dT(e,n,!0),e.child}function bN(t){var e=t.stateNode;e.pendingContext?uT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uT(t,e.context,!1),PS(t,e.containerInfo)}function AT(t,e,n,r,i){return Pc(),NS(i),e.flags|=256,Ar(t,e,n,r),e.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function EN(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(zt,i&1),t===null)return Qw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pg(o,r,0,null),t=el(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iv(n),e.memoizedState=rv,t):WS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ra(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ra(a,s):(s=el(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?iv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rv,r}return s=t.child,t=s.sibling,r=ra(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function WS(t,e){return e=pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ph(t,e,n,r){return r!==null&&NS(r),Lc(e,t.child,null,n),t=WS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=y0(Error(se(422))),ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pg({mode:"visible",children:r.children},i,0,null),s=el(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Lc(e,t.child,null,o),e.child.memoizedState=iv(o),e.memoizedState=rv,s);if(!(e.mode&1))return ph(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(se(419)),r=y0(s,r,void 0),ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gr||a){if(r=Jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mo(t,i),ns(r,t,i,-1))}return YS(),r=y0(Error(se(421))),ph(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ci=Xo(i.nextSibling),ui=e,Bt=!0,Yi=null,t!==null&&(Ai[Ci++]=ro,Ai[Ci++]=io,Ai[Ci++]=il,ro=t.id,io=t.overflow,il=e),e=WS(e,r.children),e.flags|=4096,e)}function CT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jw(t.return,e,n)}function w0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ar(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CT(t,n,e);else if(t.tag===19)CT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),w0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}w0(e,!0,n,null,s);break;case"together":w0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function go(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=ra(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ra(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MB(t,e,n){switch(e.tag){case 3:bN(e),Pc();break;case 5:QC(e);break;case 1:Jr(e.type)&&Gp(e);break;case 4:PS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(Yp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?EN(t,e,n):(Tt(zt,zt.current&1),t=go(t,e,n),t!==null?t.sibling:null);Tt(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,_N(t,e,n)}return go(t,e,n)}var IN,sv,kN,AN;IN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sv=function(){};kN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fa(Ns.current);var s=null;switch(n){case"input":i=Aw(t,i),r=Aw(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=Mw(t,i),r=Mw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vp)}xw(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ud.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ud.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&At("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};AN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bu(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RB(t,e,n){var r=e.pendingProps;switch(CS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Jr(e.type)&&Hp(),dr(e),null;case 3:return r=e.stateNode,$c(),Rt(Qr),Rt(Er),$S(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yi!==null&&(hv(Yi),Yi=null))),sv(t,e),dr(e),null;case 5:LS(e);var i=Fa(Jd.current);if(n=e.type,t!==null&&e.stateNode!=null)kN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return dr(e),null}if(t=Fa(Ns.current),fh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_s]=e,r[Yd]=s,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(i=0;i<Ju.length;i++)At(Ju[i],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":$1(r,s),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},At("invalid",r);break;case"textarea":U1(r,s),At("invalid",r)}xw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",""+a]):Ud.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&At("scroll",r)}switch(n){case"input":rh(r),B1(r,s,!0);break;case"textarea":rh(r),F1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_s]=e,t[Yd]=r,IN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dw(n,r),n){case"dialog":At("cancel",t),At("close",t),i=r;break;case"iframe":case"object":case"embed":At("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ju.length;i++)At(Ju[i],t);i=r;break;case"source":At("error",t),i=r;break;case"img":case"image":case"link":At("error",t),At("load",t),i=r;break;case"details":At("toggle",t),i=r;break;case"input":$1(t,r),i=Aw(t,r),At("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),At("invalid",t);break;case"textarea":U1(t,r),i=Mw(t,r),At("invalid",t);break;default:i=r}xw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fd(t,l):typeof l=="number"&&Fd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ud.hasOwnProperty(s)?l!=null&&s==="onScroll"&&At("scroll",t):l!=null&&hS(t,s,l,o))}switch(n){case"input":rh(t),B1(t,r,!1);break;case"textarea":rh(t),F1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ua(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wc(t,!!r.multiple,s,!1):r.defaultValue!=null&&wc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)AN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Fa(Jd.current),Fa(Ns.current),fh(e)){if(r=e.stateNode,n=e.memoizedProps,r[_s]=e,(s=r.nodeValue!==n)&&(t=ui,t!==null))switch(t.tag){case 3:dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_s]=e,e.stateNode=r}return dr(e),null;case 13:if(Rt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bt&&ci!==null&&e.mode&1&&!(e.flags&128))HC(),Pc(),e.flags|=98560,s=!1;else if(s=fh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[_s]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),s=!1}else Yi!==null&&(hv(Yi),Yi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?Bn===0&&(Bn=3):YS())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return $c(),sv(t,e),t===null&&qd(e.stateNode.containerInfo),dr(e),null;case 10:return xS(e.type._context),dr(e),null;case 17:return Jr(e.type)&&Hp(),dr(e),null;case 19:if(Rt(zt),s=e.memoizedState,s===null)return dr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bu(s,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zp(t),o!==null){for(e.flags|=128,Bu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&cn()>Uc&&(e.flags|=128,r=!0,Bu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Bt)return dr(e),null}else 2*cn()-s.renderingStartTime>Uc&&n!==1073741824&&(e.flags|=128,r=!0,Bu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=cn(),e.sibling=null,n=zt.current,Tt(zt,r?n&1|2:n&1),e):(dr(e),null);case 22:case 23:return KS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?si&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function xB(t,e){switch(CS(e),e.tag){case 1:return Jr(e.type)&&Hp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),Rt(Qr),Rt(Er),$S(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LS(e),null;case 13:if(Rt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(zt),null;case 4:return $c(),null;case 10:return xS(e.type._context),null;case 22:case 23:return KS(),null;case 24:return null;default:return null}}var mh=!1,vr=!1,DB=typeof WeakSet=="function"?WeakSet:Set,me=null;function lc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function ov(t,e,n){try{n()}catch(r){tn(t,e,r)}}var NT=!1;function OB(t,e){if(Ww=jp,t=xC(),kS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vw={focusedElem:t,selectionRange:n},jp=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,A=w.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:Gi(e.type,T),A);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(C){tn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return w=NT,NT=!1,w}function wd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ov(e,n,s)}i=i.next}while(i!==r)}}function fg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function av(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CN(t){var e=t.alternate;e!==null&&(t.alternate=null,CN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_s],delete e[Yd],delete e[qw],delete e[gB],delete e[yB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NN(t){return t.tag===5||t.tag===3||t.tag===4}function MT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vp));else if(r!==4&&(t=t.child,t!==null))for(lv(t,e,n),t=t.sibling;t!==null;)lv(t,e,n),t=t.sibling}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}var er=null,Ki=!1;function ko(t,e,n){for(n=n.child;n!==null;)MN(t,e,n),n=n.sibling}function MN(t,e,n){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(ig,n)}catch{}switch(n.tag){case 5:vr||lc(n,e);case 6:var r=er,i=Ki;er=null,ko(t,e,n),er=r,Ki=i,er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?d0(t.parentNode,n):t.nodeType===1&&d0(t,n),Vd(t)):d0(er,n.stateNode));break;case 4:r=er,i=Ki,er=n.stateNode.containerInfo,Ki=!0,ko(t,e,n),er=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ov(n,e,o),i=i.next}while(i!==r)}ko(t,e,n);break;case 1:if(!vr&&(lc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tn(n,e,a)}ko(t,e,n);break;case 21:ko(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,ko(t,e,n),vr=r):ko(t,e,n);break;default:ko(t,e,n)}}function RT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DB),e.forEach(function(r){var i=WB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,Ki=!1;break e;case 3:er=a.stateNode.containerInfo,Ki=!0;break e;case 4:er=a.stateNode.containerInfo,Ki=!0;break e}a=a.return}if(er===null)throw Error(se(160));MN(s,o,i),er=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RN(e,t),e=e.sibling}function RN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wi(e,t),fs(t),r&4){try{wd(3,t,t.return),fg(3,t)}catch(T){tn(t,t.return,T)}try{wd(5,t,t.return)}catch(T){tn(t,t.return,T)}}break;case 1:Wi(e,t),fs(t),r&512&&n!==null&&lc(n,n.return);break;case 5:if(Wi(e,t),fs(t),r&512&&n!==null&&lc(n,n.return),t.flags&32){var i=t.stateNode;try{Fd(i,"")}catch(T){tn(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XA(i,s),Dw(a,o);var c=Dw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?iC(i,d):u==="dangerouslySetInnerHTML"?nC(i,d):u==="children"?Fd(i,d):hS(i,u,d,c)}switch(a){case"input":Cw(i,s);break;case"textarea":eC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?wc(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?wc(i,!!s.multiple,s.defaultValue,!0):wc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yd]=s}catch(T){tn(t,t.return,T)}}break;case 6:if(Wi(e,t),fs(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){tn(t,t.return,T)}}break;case 3:if(Wi(e,t),fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vd(e.containerInfo)}catch(T){tn(t,t.return,T)}break;case 4:Wi(e,t),fs(t);break;case 13:Wi(e,t),fs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(GS=cn())),r&4&&RT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(c=vr)||u,Wi(e,t),vr=c):Wi(e,t),fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(me=t,u=t.child;u!==null;){for(d=me=u;me!==null;){switch(f=me,h=f.child,f.tag){case 0:case 11:case 14:case 15:wd(4,f,f.return);break;case 1:lc(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){tn(r,n,T)}}break;case 5:lc(f,f.return);break;case 22:if(f.memoizedState!==null){DT(d);continue}}h!==null?(h.return=f,me=h):DT(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rC("display",o))}catch(T){tn(t,t.return,T)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){tn(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wi(e,t),fs(t),r&4&&RT(t);break;case 21:break;default:Wi(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NN(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fd(i,""),r.flags&=-33);var s=MT(t);cv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=MT(t);lv(t,a,o);break;default:throw Error(se(161))}}catch(l){tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PB(t,e,n){me=t,xN(t)}function xN(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=mh;var c=vr;if(mh=o,(vr=l)&&!c)for(me=i;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?OT(i):l!==null?(l.return=o,me=l):OT(i);for(;s!==null;)me=s,xN(s),s=s.sibling;me=i,mh=a,vr=c}xT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):xT(t)}}function xT(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||fg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}vr||e.flags&512&&av(e)}catch(f){tn(e,e.return,f)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function DT(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function OT(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fg(4,e)}catch(l){tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tn(e,i,l)}}var s=e.return;try{av(e)}catch(l){tn(e,s,l)}break;case 5:var o=e.return;try{av(e)}catch(l){tn(e,o,l)}}}catch(l){tn(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var LB=Math.ceil,tm=Eo.ReactCurrentDispatcher,VS=Eo.ReactCurrentOwner,xi=Eo.ReactCurrentBatchConfig,nt=0,Jn=null,xn=null,ar=0,si=0,cc=ya(0),Bn=0,tf=null,ol=0,hg=0,HS=0,vd=null,Fr=null,GS=0,Uc=1/0,Ys=null,nm=!1,uv=null,ta=null,gh=!1,zo=null,rm=0,_d=0,dv=null,qh=-1,Kh=0;function Rr(){return nt&6?cn():qh!==-1?qh:qh=cn()}function na(t){return t.mode&1?nt&2&&ar!==0?ar&-ar:vB.transition!==null?(Kh===0&&(Kh=gC()),Kh):(t=ht,t!==0||(t=window.event,t=t===void 0?16:EC(t.type)),t):1}function ns(t,e,n,r){if(50<_d)throw _d=0,dv=null,Error(se(185));If(t,n,r),(!(nt&2)||t!==Jn)&&(t===Jn&&(!(nt&2)&&(hg|=n),Bn===4&&Bo(t,ar)),Zr(t,r),n===1&&nt===0&&!(e.mode&1)&&(Uc=cn()+500,cg&&wa()))}function Zr(t,e){var n=t.callbackNode;v$(t,e);var r=Fp(t,t===Jn?ar:0);if(r===0)n!==null&&W1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&W1(n),e===1)t.tag===0?wB(PT.bind(null,t)):zC(PT.bind(null,t)),pB(function(){!(nt&6)&&wa()}),n=null;else{switch(yC(r)){case 1:n=wS;break;case 4:n=pC;break;case 16:n=Up;break;case 536870912:n=mC;break;default:n=Up}n=FN(n,DN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DN(t,e){if(qh=-1,Kh=0,nt&6)throw Error(se(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=Fp(t,t===Jn?ar:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=im(t,r);else{e=r;var i=nt;nt|=2;var s=PN();(Jn!==t||ar!==e)&&(Ys=null,Uc=cn()+500,Xa(t,e));do try{UB();break}catch(a){ON(t,a)}while(!0);RS(),tm.current=s,nt=i,xn!==null?e=0:(Jn=null,ar=0,e=Bn)}if(e!==0){if(e===2&&(i=Bw(t),i!==0&&(r=i,e=fv(t,i))),e===1)throw n=tf,Xa(t,0),Bo(t,r),Zr(t,cn()),n;if(e===6)Bo(t,r);else{if(i=t.current.alternate,!(r&30)&&!$B(i)&&(e=im(t,r),e===2&&(s=Bw(t),s!==0&&(r=s,e=fv(t,s))),e===1))throw n=tf,Xa(t,0),Bo(t,r),Zr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Aa(t,Fr,Ys);break;case 3:if(Bo(t,r),(r&130023424)===r&&(e=GS+500-cn(),10<e)){if(Fp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gw(Aa.bind(null,t,Fr,Ys),e);break}Aa(t,Fr,Ys);break;case 4:if(Bo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ts(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LB(r/1960))-r,10<r){t.timeoutHandle=Gw(Aa.bind(null,t,Fr,Ys),r);break}Aa(t,Fr,Ys);break;case 5:Aa(t,Fr,Ys);break;default:throw Error(se(329))}}}return Zr(t,cn()),t.callbackNode===n?DN.bind(null,t):null}function fv(t,e){var n=vd;return t.current.memoizedState.isDehydrated&&(Xa(t,e).flags|=256),t=im(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&hv(e)),t}function hv(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function $B(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!as(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bo(t,e){for(e&=~HS,e&=~hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ts(e),r=1<<n;t[n]=-1,e&=~r}}function PT(t){if(nt&6)throw Error(se(327));Ec();var e=Fp(t,0);if(!(e&1))return Zr(t,cn()),null;var n=im(t,e);if(t.tag!==0&&n===2){var r=Bw(t);r!==0&&(e=r,n=fv(t,r))}if(n===1)throw n=tf,Xa(t,0),Bo(t,e),Zr(t,cn()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Aa(t,Fr,Ys),Zr(t,cn()),null}function qS(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(Uc=cn()+500,cg&&wa())}}function al(t){zo!==null&&zo.tag===0&&!(nt&6)&&Ec();var e=nt;nt|=1;var n=xi.transition,r=ht;try{if(xi.transition=null,ht=1,t)return t()}finally{ht=r,xi.transition=n,nt=e,!(nt&6)&&wa()}}function KS(){si=cc.current,Rt(cc)}function Xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hB(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(CS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hp();break;case 3:$c(),Rt(Qr),Rt(Er),$S();break;case 5:LS(r);break;case 4:$c();break;case 13:Rt(zt);break;case 19:Rt(zt);break;case 10:xS(r.type._context);break;case 22:case 23:KS()}n=n.return}if(Jn=t,xn=t=ra(t.current,null),ar=si=e,Bn=0,tf=null,HS=hg=ol=0,Fr=vd=null,Ua!==null){for(e=0;e<Ua.length;e++)if(n=Ua[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ua=null}return t}function ON(t,e){do{var n=xn;try{if(RS(),Vh.current=em,Xp){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xp=!1}if(sl=0,Gn=Ln=Vt=null,yd=!1,Zd=0,VS.current=null,n===null||n.return===null){Bn=1,tf=e,xn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=bT(o);if(h!==null){h.flags&=-257,ET(h,o,a,s,e),h.mode&1&&ST(s,c,e),e=h,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){ST(s,c,e),YS();break e}l=Error(se(426))}}else if(Bt&&a.mode&1){var A=bT(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ET(A,o,a,s,e),NS(Bc(l,a));break e}}s=l=Bc(l,a),Bn!==4&&(Bn=2),vd===null?vd=[s]:vd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=yN(s,l,e);mT(s,S);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ta===null||!ta.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=wN(s,a,e);mT(s,C);break e}}s=s.return}while(s!==null)}$N(n)}catch(E){e=E,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function PN(){var t=tm.current;return tm.current=em,t===null?em:t}function YS(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Jn===null||!(ol&268435455)&&!(hg&268435455)||Bo(Jn,ar)}function im(t,e){var n=nt;nt|=2;var r=PN();(Jn!==t||ar!==e)&&(Ys=null,Xa(t,e));do try{BB();break}catch(i){ON(t,i)}while(!0);if(RS(),nt=n,tm.current=r,xn!==null)throw Error(se(261));return Jn=null,ar=0,Bn}function BB(){for(;xn!==null;)LN(xn)}function UB(){for(;xn!==null&&!u$();)LN(xn)}function LN(t){var e=UN(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?$N(t):xn=e,VS.current=null}function $N(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xB(n,e),n!==null){n.flags&=32767,xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,xn=null;return}}else if(n=RB(n,e,si),n!==null){xn=n;return}if(e=e.sibling,e!==null){xn=e;return}xn=e=t}while(e!==null);Bn===0&&(Bn=5)}function Aa(t,e,n){var r=ht,i=xi.transition;try{xi.transition=null,ht=1,FB(t,e,n,r)}finally{xi.transition=i,ht=r}return null}function FB(t,e,n,r){do Ec();while(zo!==null);if(nt&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_$(t,s),t===Jn&&(xn=Jn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,FN(Up,function(){return Ec(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var o=ht;ht=1;var a=nt;nt|=4,VS.current=null,OB(t,n),RN(n,t),oB(Vw),jp=!!Ww,Vw=Ww=null,t.current=n,PB(n),d$(),nt=a,ht=o,xi.transition=s}else t.current=n;if(gh&&(gh=!1,zo=t,rm=i),s=t.pendingLanes,s===0&&(ta=null),p$(n.stateNode),Zr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nm)throw nm=!1,t=uv,uv=null,t;return rm&1&&t.tag!==0&&Ec(),s=t.pendingLanes,s&1?t===dv?_d++:(_d=0,dv=t):_d=0,wa(),null}function Ec(){if(zo!==null){var t=yC(rm),e=xi.transition,n=ht;try{if(xi.transition=null,ht=16>t?16:t,zo===null)var r=!1;else{if(t=zo,zo=null,rm=0,nt&6)throw Error(se(331));var i=nt;for(nt|=4,me=t.current;me!==null;){var s=me,o=s.child;if(me.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(me=c;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:wd(8,u,s)}var d=u.child;if(d!==null)d.return=u,me=d;else for(;me!==null;){u=me;var f=u.sibling,h=u.return;if(CN(u),u===c){me=null;break}if(f!==null){f.return=h,me=f;break}me=h}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,me=o;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wd(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,me=S;break e}me=s.return}}var y=t.current;for(me=y;me!==null;){o=me;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,me=b;else e:for(o=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fg(9,a)}}catch(E){tn(a,a.return,E)}if(a===o){me=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,me=C;break e}me=a.return}}if(nt=i,wa(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(ig,t)}catch{}r=!0}return r}finally{ht=n,xi.transition=e}}return!1}function LT(t,e,n){e=Bc(n,e),e=yN(t,e,1),t=ea(t,e,1),e=Rr(),t!==null&&(If(t,1,e),Zr(t,e))}function tn(t,e,n){if(t.tag===3)LT(t,t,n);else for(;e!==null;){if(e.tag===3){LT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ta===null||!ta.has(r))){t=Bc(n,t),t=wN(e,t,1),e=ea(e,t,1),t=Rr(),e!==null&&(If(e,1,t),Zr(e,t));break}}e=e.return}}function jB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&n,Jn===t&&(ar&n)===n&&(Bn===4||Bn===3&&(ar&130023424)===ar&&500>cn()-GS?Xa(t,0):HS|=n),Zr(t,e)}function BN(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var n=Rr();t=mo(t,e),t!==null&&(If(t,e,n),Zr(t,n))}function zB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BN(t,n)}function WB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),BN(t,n)}var UN;UN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gr=!1,MB(t,e,n);Gr=!!(t.flags&131072)}else Gr=!1,Bt&&e.flags&1048576&&WC(e,Kp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gh(t,e),t=e.pendingProps;var i=Oc(e,Er.current);bc(e,n),i=US(null,e,r,t,i,n);var s=FS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(r)?(s=!0,Gp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OS(e),i.updater=dg,e.stateNode=i,i._reactInternals=e,Xw(e,r,t,n),e=nv(null,e,r,!0,s,n)):(e.tag=0,Bt&&s&&AS(e),Ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HB(r),t=Gi(r,t),i){case 0:e=tv(null,e,r,t,n);break e;case 1:e=kT(null,e,r,t,n);break e;case 11:e=TT(null,e,r,t,n);break e;case 14:e=IT(null,e,r,Gi(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),kT(t,e,r,i,n);case 3:e:{if(bN(e),t===null)throw Error(se(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YC(t,e),Jp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bc(Error(se(423)),e),e=AT(t,e,r,n,i);break e}else if(r!==i){i=Bc(Error(se(424)),e),e=AT(t,e,r,n,i);break e}else for(ci=Xo(e.stateNode.containerInfo.firstChild),ui=e,Bt=!0,Yi=null,n=qC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pc(),r===i){e=go(t,e,n);break e}Ar(t,e,r,n)}e=e.child}return e;case 5:return QC(e),t===null&&Qw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hw(r,i)?o=null:s!==null&&Hw(r,s)&&(e.flags|=32),SN(t,e),Ar(t,e,o,n),e.child;case 6:return t===null&&Qw(e),null;case 13:return EN(t,e,n);case 4:return PS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lc(e,null,r,n):Ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),TT(t,e,r,i,n);case 7:return Ar(t,e,e.pendingProps,n),e.child;case 8:return Ar(t,e,e.pendingProps.children,n),e.child;case 12:return Ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(Yp,r._currentValue),r._currentValue=o,s!==null)if(as(s.value,o)){if(s.children===i.children&&!Qr.current){e=go(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=uo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jw(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bc(e,n),i=Oi(i),r=r(i),e.flags|=1,Ar(t,e,r,n),e.child;case 14:return r=e.type,i=Gi(r,e.pendingProps),i=Gi(r.type,i),IT(t,e,r,i,n);case 15:return vN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),Gh(t,e),e.tag=1,Jr(r)?(t=!0,Gp(e)):t=!1,bc(e,n),gN(e,r,i),Xw(e,r,i,n),nv(null,e,r,!0,t,n);case 19:return TN(t,e,n);case 22:return _N(t,e,n)}throw Error(se(156,e.tag))};function FN(t,e){return hC(t,e)}function VB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(t,e,n,r){return new VB(t,e,n,r)}function QS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HB(t){if(typeof t=="function")return QS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mS)return 11;if(t===gS)return 14}return 2}function ra(t,e){var n=t.alternate;return n===null?(n=Ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")QS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xl:return el(n.children,i,s,e);case pS:o=8,i|=8;break;case Ew:return t=Ni(12,n,e,i|2),t.elementType=Ew,t.lanes=s,t;case Tw:return t=Ni(13,n,e,i),t.elementType=Tw,t.lanes=s,t;case Iw:return t=Ni(19,n,e,i),t.elementType=Iw,t.lanes=s,t;case QA:return pg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KA:o=10;break e;case YA:o=9;break e;case mS:o=11;break e;case gS:o=14;break e;case Oo:o=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Ni(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function el(t,e,n,r){return t=Ni(7,t,r,e),t.lanes=n,t}function pg(t,e,n,r){return t=Ni(22,t,r,e),t.elementType=QA,t.lanes=n,t.stateNode={isHidden:!1},t}function v0(t,e,n){return t=Ni(6,t,null,e),t.lanes=n,t}function _0(t,e,n){return e=Ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e0(0),this.expirationTimes=e0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function JS(t,e,n,r,i,s,o,a,l){return t=new GB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},OS(s),t}function qB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jN(t){if(!t)return da;t=t._reactInternals;e:{if(bl(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Jr(n))return jC(t,n,e)}return e}function zN(t,e,n,r,i,s,o,a,l){return t=JS(n,r,!0,t,i,s,o,a,l),t.context=jN(null),n=t.current,r=Rr(),i=na(n),s=uo(r,i),s.callback=e??null,ea(n,s,i),t.current.lanes=i,If(t,i,r),Zr(t,r),t}function mg(t,e,n,r){var i=e.current,s=Rr(),o=na(i);return n=jN(n),e.context===null?e.context=n:e.pendingContext=n,e=uo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ea(i,e,o),t!==null&&(ns(t,i,o,s),Wh(t,i,o)),o}function sm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $T(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ZS(t,e){$T(t,e),(t=t.alternate)&&$T(t,e)}function KB(){return null}var WN=typeof reportError=="function"?reportError:function(t){console.error(t)};function XS(t){this._internalRoot=t}gg.prototype.render=XS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));mg(t,e,null,null)};gg.prototype.unmount=XS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){mg(null,t,null,null)}),e[po]=null}};function gg(t){this._internalRoot=t}gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=_C();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$o.length&&e!==0&&e<$o[n].priority;n++);$o.splice(n,0,t),n===0&&bC(t)}};function eb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BT(){}function YB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=sm(o);s.call(c)}}var o=zN(e,r,t,0,null,!1,!1,"",BT);return t._reactRootContainer=o,t[po]=o.current,qd(t.nodeType===8?t.parentNode:t),al(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sm(l);a.call(c)}}var l=JS(t,0,!1,null,null,!1,!1,"",BT);return t._reactRootContainer=l,t[po]=l.current,qd(t.nodeType===8?t.parentNode:t),al(function(){mg(e,l,n,r)}),l}function wg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sm(o);a.call(l)}}mg(e,o,t,i)}else o=YB(n,e,t,i,r);return sm(o)}wC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qu(e.pendingLanes);n!==0&&(vS(e,n|1),Zr(e,cn()),!(nt&6)&&(Uc=cn()+500,wa()))}break;case 13:al(function(){var r=mo(t,1);if(r!==null){var i=Rr();ns(r,t,1,i)}}),ZS(t,1)}};_S=function(t){if(t.tag===13){var e=mo(t,134217728);if(e!==null){var n=Rr();ns(e,t,134217728,n)}ZS(t,134217728)}};vC=function(t){if(t.tag===13){var e=na(t),n=mo(t,e);if(n!==null){var r=Rr();ns(n,t,e,r)}ZS(t,e)}};_C=function(){return ht};SC=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};Pw=function(t,e,n){switch(e){case"input":if(Cw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lg(r);if(!i)throw Error(se(90));ZA(r),Cw(r,i)}}}break;case"textarea":eC(t,n);break;case"select":e=n.value,e!=null&&wc(t,!!n.multiple,e,!1)}};aC=qS;lC=al;var QB={usingClientEntryPoint:!1,Events:[Af,rc,lg,sC,oC,qS]},Uu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JB={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dC(t),t===null?null:t.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||KB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{ig=yh.inject(JB),Cs=yh}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QB;vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eb(e))throw Error(se(200));return qB(t,e,null,n)};vi.createRoot=function(t,e){if(!eb(t))throw Error(se(299));var n=!1,r="",i=WN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=JS(t,1,!1,null,null,n,!1,r,i),t[po]=e.current,qd(t.nodeType===8?t.parentNode:t),new XS(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=dC(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return al(t)};vi.hydrate=function(t,e,n){if(!yg(e))throw Error(se(200));return wg(null,t,e,!0,n)};vi.hydrateRoot=function(t,e,n){if(!eb(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zN(e,null,t,1,n??null,i,!1,s,o),t[po]=e.current,qd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gg(e)};vi.render=function(t,e,n){if(!yg(e))throw Error(se(200));return wg(null,t,e,!1,n)};vi.unmountComponentAtNode=function(t){if(!yg(t))throw Error(se(40));return t._reactRootContainer?(al(function(){wg(null,null,t,!1,function(){t._reactRootContainer=null,t[po]=null})}),!0):!1};vi.unstable_batchedUpdates=qS;vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yg(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return wg(t,e,n,!1,r)};vi.version="18.3.1-next-f1338f8080-20240426";function VN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VN)}catch(t){console.error(t)}}VN(),VA.exports=vi;var HN=VA.exports,UT=HN;Sw.createRoot=UT.createRoot,Sw.hydrateRoot=UT.hydrateRoot;var jn={},vg={};vg.byteLength=e4;vg.toByteArray=n4;vg.fromByteArray=s4;var Ss=[],Ii=[],ZB=typeof Uint8Array<"u"?Uint8Array:Array,S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dl=0,XB=S0.length;Dl<XB;++Dl)Ss[Dl]=S0[Dl],Ii[S0.charCodeAt(Dl)]=Dl;Ii[45]=62;Ii[95]=63;function GN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function e4(t){var e=GN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function t4(t,e,n){return(e+n)*3/4-n}function n4(t){var e,n=GN(t),r=n[0],i=n[1],s=new ZB(t4(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Ii[t.charCodeAt(l)]<<18|Ii[t.charCodeAt(l+1)]<<12|Ii[t.charCodeAt(l+2)]<<6|Ii[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ii[t.charCodeAt(l)]<<2|Ii[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Ii[t.charCodeAt(l)]<<10|Ii[t.charCodeAt(l+1)]<<4|Ii[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function r4(t){return Ss[t>>18&63]+Ss[t>>12&63]+Ss[t>>6&63]+Ss[t&63]}function i4(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(r4(r));return i.join("")}function s4(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(i4(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Ss[e>>2]+Ss[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ss[e>>10]+Ss[e>>4&63]+Ss[e<<2&63]+"=")),i.join("")}var tb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */tb.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,s=h&(1<<-u)-1,h>>=-u,u+=a;u>0;s=s*256+t[e+d],d+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(h?-1:1)*o*Math.pow(2,s-r)};tb.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,w=r?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+h]=a&255,h+=w,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+h]=o&255,h+=w,o/=256,c-=8);t[n+h-w]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=vg,n=tb,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const R=new s(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,s.prototype),Object.setPrototypeOf(R,g),R.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');const g=new s(R);return Object.setPrototypeOf(g,u.prototype),g}function u(R,g,_){if(typeof R=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(R)}return d(R,g,_)}u.poolSize=8192;function d(R,g,_){if(typeof R=="string")return T(R,g);if(o.isView(R))return S(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(ni(R,o)||R&&ni(R.buffer,o)||typeof a<"u"&&(ni(R,a)||R&&ni(R.buffer,a)))return y(R,g,_);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=R.valueOf&&R.valueOf();if($!=null&&$!==R)return u.from($,g,_);const W=b(R);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return u.from(R[Symbol.toPrimitive]("string"),g,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}u.from=function(R,g,_){return d(R,g,_)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function f(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function h(R,g,_){return f(R),R<=0?c(R):g!==void 0?typeof _=="string"?c(R).fill(g,_):c(R).fill(g):c(R)}u.alloc=function(R,g,_){return h(R,g,_)};function w(R){return f(R),c(R<0?0:C(R)|0)}u.allocUnsafe=function(R){return w(R)},u.allocUnsafeSlow=function(R){return w(R)};function T(R,g){if((typeof g!="string"||g==="")&&(g="utf8"),!u.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const _=I(R,g)|0;let $=c(_);const W=$.write(R,g);return W!==_&&($=$.slice(0,W)),$}function A(R){const g=R.length<0?0:C(R.length)|0,_=c(g);for(let $=0;$<g;$+=1)_[$]=R[$]&255;return _}function S(R){if(ni(R,s)){const g=new s(R);return y(g.buffer,g.byteOffset,g.byteLength)}return A(R)}function y(R,g,_){if(g<0||R.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<g+(_||0))throw new RangeError('"length" is outside of buffer bounds');let $;return g===void 0&&_===void 0?$=new s(R):_===void 0?$=new s(R,g):$=new s(R,g,_),Object.setPrototypeOf($,u.prototype),$}function b(R){if(u.isBuffer(R)){const g=C(R.length)|0,_=c(g);return _.length===0||R.copy(_,0,0,g),_}if(R.length!==void 0)return typeof R.length!="number"||$t(R.length)?c(0):A(R);if(R.type==="Buffer"&&Array.isArray(R.data))return A(R.data)}function C(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function E(R){return+R!=R&&(R=0),u.alloc(+R)}u.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==u.prototype},u.compare=function(g,_){if(ni(g,s)&&(g=u.from(g,g.offset,g.byteLength)),ni(_,s)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(g)||!u.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===_)return 0;let $=g.length,W=_.length;for(let K=0,X=Math.min($,W);K<X;++K)if(g[K]!==_[K]){$=g[K],W=_[K];break}return $<W?-1:W<$?1:0},u.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(g,_){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return u.alloc(0);let $;if(_===void 0)for(_=0,$=0;$<g.length;++$)_+=g[$].length;const W=u.allocUnsafe(_);let K=0;for($=0;$<g.length;++$){let X=g[$];if(ni(X,s))K+X.length>W.length?(u.isBuffer(X)||(X=u.from(X)),X.copy(W,K)):s.prototype.set.call(W,X,K);else if(u.isBuffer(X))X.copy(W,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=X.length}return W};function I(R,g){if(u.isBuffer(R))return R.length;if(o.isView(R)||ni(R,o))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const _=R.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&_===0)return 0;let W=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return Lt(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Ft(R).length;default:if(W)return $?-1:Lt(R).length;g=(""+g).toLowerCase(),W=!0}}u.byteLength=I;function k(R,g,_){let $=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,g>>>=0,_<=g))return"";for(R||(R="utf8");;)switch(R){case"hex":return m(this,g,_);case"utf8":case"utf-8":return O(this,g,_);case"ascii":return j(this,g,_);case"latin1":case"binary":return P(this,g,_);case"base64":return N(this,g,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,g,_);default:if($)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),$=!0}}u.prototype._isBuffer=!0;function z(R,g,_){const $=R[g];R[g]=R[_],R[_]=$}u.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<g;_+=2)z(this,_,_+1);return this},u.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<g;_+=4)z(this,_,_+3),z(this,_+1,_+2);return this},u.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<g;_+=8)z(this,_,_+7),z(this,_+1,_+6),z(this,_+2,_+5),z(this,_+3,_+4);return this},u.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?O(this,0,g):k.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(g){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:u.compare(this,g)===0},u.prototype.inspect=function(){let g="";const _=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(g+=" ... "),"<Buffer "+g+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(g,_,$,W,K){if(ni(g,s)&&(g=u.from(g,g.offset,g.byteLength)),!u.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(_===void 0&&(_=0),$===void 0&&($=g?g.length:0),W===void 0&&(W=0),K===void 0&&(K=this.length),_<0||$>g.length||W<0||K>this.length)throw new RangeError("out of range index");if(W>=K&&_>=$)return 0;if(W>=K)return-1;if(_>=$)return 1;if(_>>>=0,$>>>=0,W>>>=0,K>>>=0,this===g)return 0;let X=K-W,Pe=$-_;const De=Math.min(X,Pe),Me=this.slice(W,K),kt=g.slice(_,$);for(let Ne=0;Ne<De;++Ne)if(Me[Ne]!==kt[Ne]){X=Me[Ne],Pe=kt[Ne];break}return X<Pe?-1:Pe<X?1:0};function D(R,g,_,$,W){if(R.length===0)return-1;if(typeof _=="string"?($=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,$t(_)&&(_=W?0:R.length-1),_<0&&(_=R.length+_),_>=R.length){if(W)return-1;_=R.length-1}else if(_<0)if(W)_=0;else return-1;if(typeof g=="string"&&(g=u.from(g,$)),u.isBuffer(g))return g.length===0?-1:F(R,g,_,$,W);if(typeof g=="number")return g=g&255,typeof s.prototype.indexOf=="function"?W?s.prototype.indexOf.call(R,g,_):s.prototype.lastIndexOf.call(R,g,_):F(R,[g],_,$,W);throw new TypeError("val must be string, number or Buffer")}function F(R,g,_,$,W){let K=1,X=R.length,Pe=g.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(R.length<2||g.length<2)return-1;K=2,X/=2,Pe/=2,_/=2}function De(kt,Ne){return K===1?kt[Ne]:kt.readUInt16BE(Ne*K)}let Me;if(W){let kt=-1;for(Me=_;Me<X;Me++)if(De(R,Me)===De(g,kt===-1?0:Me-kt)){if(kt===-1&&(kt=Me),Me-kt+1===Pe)return kt*K}else kt!==-1&&(Me-=Me-kt),kt=-1}else for(_+Pe>X&&(_=X-Pe),Me=_;Me>=0;Me--){let kt=!0;for(let Ne=0;Ne<Pe;Ne++)if(De(R,Me+Ne)!==De(g,Ne)){kt=!1;break}if(kt)return Me}return-1}u.prototype.includes=function(g,_,$){return this.indexOf(g,_,$)!==-1},u.prototype.indexOf=function(g,_,$){return D(this,g,_,$,!0)},u.prototype.lastIndexOf=function(g,_,$){return D(this,g,_,$,!1)};function V(R,g,_,$){_=Number(_)||0;const W=R.length-_;$?($=Number($),$>W&&($=W)):$=W;const K=g.length;$>K/2&&($=K/2);let X;for(X=0;X<$;++X){const Pe=parseInt(g.substr(X*2,2),16);if($t(Pe))return X;R[_+X]=Pe}return X}function G(R,g,_,$){return It(Lt(g,R.length-_),R,_,$)}function x(R,g,_,$){return It(Jt(g),R,_,$)}function p(R,g,_,$){return It(Ft(g),R,_,$)}function v(R,g,_,$){return It(eh(g,R.length-_),R,_,$)}u.prototype.write=function(g,_,$,W){if(_===void 0)W="utf8",$=this.length,_=0;else if($===void 0&&typeof _=="string")W=_,$=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite($)?($=$>>>0,W===void 0&&(W="utf8")):(W=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-_;if(($===void 0||$>K)&&($=K),g.length>0&&($<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let X=!1;for(;;)switch(W){case"hex":return V(this,g,_,$);case"utf8":case"utf-8":return G(this,g,_,$);case"ascii":case"latin1":case"binary":return x(this,g,_,$);case"base64":return p(this,g,_,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,g,_,$);default:if(X)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),X=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(R,g,_){return g===0&&_===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(g,_))}function O(R,g,_){_=Math.min(R.length,_);const $=[];let W=g;for(;W<_;){const K=R[W];let X=null,Pe=K>239?4:K>223?3:K>191?2:1;if(W+Pe<=_){let De,Me,kt,Ne;switch(Pe){case 1:K<128&&(X=K);break;case 2:De=R[W+1],(De&192)===128&&(Ne=(K&31)<<6|De&63,Ne>127&&(X=Ne));break;case 3:De=R[W+1],Me=R[W+2],(De&192)===128&&(Me&192)===128&&(Ne=(K&15)<<12|(De&63)<<6|Me&63,Ne>2047&&(Ne<55296||Ne>57343)&&(X=Ne));break;case 4:De=R[W+1],Me=R[W+2],kt=R[W+3],(De&192)===128&&(Me&192)===128&&(kt&192)===128&&(Ne=(K&15)<<18|(De&63)<<12|(Me&63)<<6|kt&63,Ne>65535&&Ne<1114112&&(X=Ne))}}X===null?(X=65533,Pe=1):X>65535&&(X-=65536,$.push(X>>>10&1023|55296),X=56320|X&1023),$.push(X),W+=Pe}return B($)}const M=4096;function B(R){const g=R.length;if(g<=M)return String.fromCharCode.apply(String,R);let _="",$=0;for(;$<g;)_+=String.fromCharCode.apply(String,R.slice($,$+=M));return _}function j(R,g,_){let $="";_=Math.min(R.length,_);for(let W=g;W<_;++W)$+=String.fromCharCode(R[W]&127);return $}function P(R,g,_){let $="";_=Math.min(R.length,_);for(let W=g;W<_;++W)$+=String.fromCharCode(R[W]);return $}function m(R,g,_){const $=R.length;(!g||g<0)&&(g=0),(!_||_<0||_>$)&&(_=$);let W="";for(let K=g;K<_;++K)W+=Zt[R[K]];return W}function L(R,g,_){const $=R.slice(g,_);let W="";for(let K=0;K<$.length-1;K+=2)W+=String.fromCharCode($[K]+$[K+1]*256);return W}u.prototype.slice=function(g,_){const $=this.length;g=~~g,_=_===void 0?$:~~_,g<0?(g+=$,g<0&&(g=0)):g>$&&(g=$),_<0?(_+=$,_<0&&(_=0)):_>$&&(_=$),_<g&&(_=g);const W=this.subarray(g,_);return Object.setPrototypeOf(W,u.prototype),W};function q(R,g,_){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+g>_)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(g,_,$){g=g>>>0,_=_>>>0,$||q(g,_,this.length);let W=this[g],K=1,X=0;for(;++X<_&&(K*=256);)W+=this[g+X]*K;return W},u.prototype.readUintBE=u.prototype.readUIntBE=function(g,_,$){g=g>>>0,_=_>>>0,$||q(g,_,this.length);let W=this[g+--_],K=1;for(;_>0&&(K*=256);)W+=this[g+--_]*K;return W},u.prototype.readUint8=u.prototype.readUInt8=function(g,_){return g=g>>>0,_||q(g,1,this.length),this[g]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(g,_){return g=g>>>0,_||q(g,2,this.length),this[g]|this[g+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(g,_){return g=g>>>0,_||q(g,2,this.length),this[g]<<8|this[g+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(g,_){return g=g>>>0,_||q(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(g,_){return g=g>>>0,_||q(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},u.prototype.readBigUInt64LE=zi(function(g){g=g>>>0,Ws(g,"offset");const _=this[g],$=this[g+7];(_===void 0||$===void 0)&&_t(g,this.length-8);const W=_+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,K=this[++g]+this[++g]*2**8+this[++g]*2**16+$*2**24;return BigInt(W)+(BigInt(K)<<BigInt(32))}),u.prototype.readBigUInt64BE=zi(function(g){g=g>>>0,Ws(g,"offset");const _=this[g],$=this[g+7];(_===void 0||$===void 0)&&_t(g,this.length-8);const W=_*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],K=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+$;return(BigInt(W)<<BigInt(32))+BigInt(K)}),u.prototype.readIntLE=function(g,_,$){g=g>>>0,_=_>>>0,$||q(g,_,this.length);let W=this[g],K=1,X=0;for(;++X<_&&(K*=256);)W+=this[g+X]*K;return K*=128,W>=K&&(W-=Math.pow(2,8*_)),W},u.prototype.readIntBE=function(g,_,$){g=g>>>0,_=_>>>0,$||q(g,_,this.length);let W=_,K=1,X=this[g+--W];for(;W>0&&(K*=256);)X+=this[g+--W]*K;return K*=128,X>=K&&(X-=Math.pow(2,8*_)),X},u.prototype.readInt8=function(g,_){return g=g>>>0,_||q(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},u.prototype.readInt16LE=function(g,_){g=g>>>0,_||q(g,2,this.length);const $=this[g]|this[g+1]<<8;return $&32768?$|4294901760:$},u.prototype.readInt16BE=function(g,_){g=g>>>0,_||q(g,2,this.length);const $=this[g+1]|this[g]<<8;return $&32768?$|4294901760:$},u.prototype.readInt32LE=function(g,_){return g=g>>>0,_||q(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},u.prototype.readInt32BE=function(g,_){return g=g>>>0,_||q(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},u.prototype.readBigInt64LE=zi(function(g){g=g>>>0,Ws(g,"offset");const _=this[g],$=this[g+7];(_===void 0||$===void 0)&&_t(g,this.length-8);const W=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+($<<24);return(BigInt(W)<<BigInt(32))+BigInt(_+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),u.prototype.readBigInt64BE=zi(function(g){g=g>>>0,Ws(g,"offset");const _=this[g],$=this[g+7];(_===void 0||$===void 0)&&_t(g,this.length-8);const W=(_<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(W)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+$)}),u.prototype.readFloatLE=function(g,_){return g=g>>>0,_||q(g,4,this.length),n.read(this,g,!0,23,4)},u.prototype.readFloatBE=function(g,_){return g=g>>>0,_||q(g,4,this.length),n.read(this,g,!1,23,4)},u.prototype.readDoubleLE=function(g,_){return g=g>>>0,_||q(g,8,this.length),n.read(this,g,!0,52,8)},u.prototype.readDoubleBE=function(g,_){return g=g>>>0,_||q(g,8,this.length),n.read(this,g,!1,52,8)};function Q(R,g,_,$,W,K){if(!u.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>W||g<K)throw new RangeError('"value" argument is out of bounds');if(_+$>R.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(g,_,$,W){if(g=+g,_=_>>>0,$=$>>>0,!W){const Pe=Math.pow(2,8*$)-1;Q(this,g,_,$,Pe,0)}let K=1,X=0;for(this[_]=g&255;++X<$&&(K*=256);)this[_+X]=g/K&255;return _+$},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(g,_,$,W){if(g=+g,_=_>>>0,$=$>>>0,!W){const Pe=Math.pow(2,8*$)-1;Q(this,g,_,$,Pe,0)}let K=$-1,X=1;for(this[_+K]=g&255;--K>=0&&(X*=256);)this[_+K]=g/X&255;return _+$},u.prototype.writeUint8=u.prototype.writeUInt8=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,1,255,0),this[_]=g&255,_+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,2,65535,0),this[_]=g&255,this[_+1]=g>>>8,_+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,2,65535,0),this[_]=g>>>8,this[_+1]=g&255,_+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,4,4294967295,0),this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255,_+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,4,4294967295,0),this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4};function ne(R,g,_,$,W){Ut(g,$,W,R,_,7);let K=Number(g&BigInt(4294967295));R[_++]=K,K=K>>8,R[_++]=K,K=K>>8,R[_++]=K,K=K>>8,R[_++]=K;let X=Number(g>>BigInt(32)&BigInt(4294967295));return R[_++]=X,X=X>>8,R[_++]=X,X=X>>8,R[_++]=X,X=X>>8,R[_++]=X,_}function Ce(R,g,_,$,W){Ut(g,$,W,R,_,7);let K=Number(g&BigInt(4294967295));R[_+7]=K,K=K>>8,R[_+6]=K,K=K>>8,R[_+5]=K,K=K>>8,R[_+4]=K;let X=Number(g>>BigInt(32)&BigInt(4294967295));return R[_+3]=X,X=X>>8,R[_+2]=X,X=X>>8,R[_+1]=X,X=X>>8,R[_]=X,_+8}u.prototype.writeBigUInt64LE=zi(function(g,_=0){return ne(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=zi(function(g,_=0){return Ce(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(g,_,$,W){if(g=+g,_=_>>>0,!W){const De=Math.pow(2,8*$-1);Q(this,g,_,$,De-1,-De)}let K=0,X=1,Pe=0;for(this[_]=g&255;++K<$&&(X*=256);)g<0&&Pe===0&&this[_+K-1]!==0&&(Pe=1),this[_+K]=(g/X>>0)-Pe&255;return _+$},u.prototype.writeIntBE=function(g,_,$,W){if(g=+g,_=_>>>0,!W){const De=Math.pow(2,8*$-1);Q(this,g,_,$,De-1,-De)}let K=$-1,X=1,Pe=0;for(this[_+K]=g&255;--K>=0&&(X*=256);)g<0&&Pe===0&&this[_+K+1]!==0&&(Pe=1),this[_+K]=(g/X>>0)-Pe&255;return _+$},u.prototype.writeInt8=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,1,127,-128),g<0&&(g=255+g+1),this[_]=g&255,_+1},u.prototype.writeInt16LE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,2,32767,-32768),this[_]=g&255,this[_+1]=g>>>8,_+2},u.prototype.writeInt16BE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,2,32767,-32768),this[_]=g>>>8,this[_+1]=g&255,_+2},u.prototype.writeInt32LE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,4,2147483647,-2147483648),this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24,_+4},u.prototype.writeInt32BE=function(g,_,$){return g=+g,_=_>>>0,$||Q(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4},u.prototype.writeBigInt64LE=zi(function(g,_=0){return ne(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=zi(function(g,_=0){return Ce(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(R,g,_,$,W,K){if(_+$>R.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Oe(R,g,_,$,W){return g=+g,_=_>>>0,W||_e(R,g,_,4),n.write(R,g,_,$,23,4),_+4}u.prototype.writeFloatLE=function(g,_,$){return Oe(this,g,_,!0,$)},u.prototype.writeFloatBE=function(g,_,$){return Oe(this,g,_,!1,$)};function ti(R,g,_,$,W){return g=+g,_=_>>>0,W||_e(R,g,_,8),n.write(R,g,_,$,52,8),_+8}u.prototype.writeDoubleLE=function(g,_,$){return ti(this,g,_,!0,$)},u.prototype.writeDoubleBE=function(g,_,$){return ti(this,g,_,!1,$)},u.prototype.copy=function(g,_,$,W){if(!u.isBuffer(g))throw new TypeError("argument should be a Buffer");if($||($=0),!W&&W!==0&&(W=this.length),_>=g.length&&(_=g.length),_||(_=0),W>0&&W<$&&(W=$),W===$||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),g.length-_<W-$&&(W=g.length-_+$);const K=W-$;return this===g&&typeof s.prototype.copyWithin=="function"?this.copyWithin(_,$,W):s.prototype.set.call(g,this.subarray($,W),_),K},u.prototype.fill=function(g,_,$,W){if(typeof g=="string"){if(typeof _=="string"?(W=_,_=0,$=this.length):typeof $=="string"&&(W=$,$=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!u.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(g.length===1){const X=g.charCodeAt(0);(W==="utf8"&&X<128||W==="latin1")&&(g=X)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(_<0||this.length<_||this.length<$)throw new RangeError("Out of range index");if($<=_)return this;_=_>>>0,$=$===void 0?this.length:$>>>0,g||(g=0);let K;if(typeof g=="number")for(K=_;K<$;++K)this[K]=g;else{const X=u.isBuffer(g)?g:u.from(g,W),Pe=X.length;if(Pe===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(K=0;K<$-_;++K)this[K+_]=X[K%Pe]}return this};const ze={};function He(R,g,_){ze[R]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}He("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(R,g){return`The "${R}" argument must be of type number. Received type ${typeof g}`},TypeError),He("ERR_OUT_OF_RANGE",function(R,g,_){let $=`The value of "${R}" is out of range.`,W=_;return Number.isInteger(_)&&Math.abs(_)>2**32?W=Ru(String(_)):typeof _=="bigint"&&(W=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(W=Ru(W)),W+="n"),$+=` It must be ${g}. Received ${W}`,$},RangeError);function Ru(R){let g="",_=R.length;const $=R[0]==="-"?1:0;for(;_>=$+4;_-=3)g=`_${R.slice(_-3,_)}${g}`;return`${R.slice(0,_)}${g}`}function Yt(R,g,_){Ws(g,"offset"),(R[g]===void 0||R[g+_]===void 0)&&_t(g,R.length-(_+1))}function Ut(R,g,_,$,W,K){if(R>_||R<g){const X=typeof g=="bigint"?"n":"";let Pe;throw g===0||g===BigInt(0)?Pe=`>= 0${X} and < 2${X} ** ${(K+1)*8}${X}`:Pe=`>= -(2${X} ** ${(K+1)*8-1}${X}) and < 2 ** ${(K+1)*8-1}${X}`,new ze.ERR_OUT_OF_RANGE("value",Pe,R)}Yt($,W,K)}function Ws(R,g){if(typeof R!="number")throw new ze.ERR_INVALID_ARG_TYPE(g,"number",R)}function _t(R,g,_){throw Math.floor(R)!==R?(Ws(R,_),new ze.ERR_OUT_OF_RANGE("offset","an integer",R)):g<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,R)}const Qt=/[^+/0-9A-Za-z-_]/g;function Xf(R){if(R=R.split("=")[0],R=R.trim().replace(Qt,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function Lt(R,g){g=g||1/0;let _;const $=R.length;let W=null;const K=[];for(let X=0;X<$;++X){if(_=R.charCodeAt(X),_>55295&&_<57344){if(!W){if(_>56319){(g-=3)>-1&&K.push(239,191,189);continue}else if(X+1===$){(g-=3)>-1&&K.push(239,191,189);continue}W=_;continue}if(_<56320){(g-=3)>-1&&K.push(239,191,189),W=_;continue}_=(W-55296<<10|_-56320)+65536}else W&&(g-=3)>-1&&K.push(239,191,189);if(W=null,_<128){if((g-=1)<0)break;K.push(_)}else if(_<2048){if((g-=2)<0)break;K.push(_>>6|192,_&63|128)}else if(_<65536){if((g-=3)<0)break;K.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((g-=4)<0)break;K.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return K}function Jt(R){const g=[];for(let _=0;_<R.length;++_)g.push(R.charCodeAt(_)&255);return g}function eh(R,g){let _,$,W;const K=[];for(let X=0;X<R.length&&!((g-=2)<0);++X)_=R.charCodeAt(X),$=_>>8,W=_%256,K.push(W),K.push($);return K}function Ft(R){return e.toByteArray(Xf(R))}function It(R,g,_,$){let W;for(W=0;W<$&&!(W+_>=g.length||W>=R.length);++W)g[W+_]=R[W];return W}function ni(R,g){return R instanceof g||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===g.name}function $t(R){return R!==R}const Zt=function(){const R="0123456789abcdef",g=new Array(256);for(let _=0;_<16;++_){const $=_*16;for(let W=0;W<16;++W)g[$+W]=R[_]+R[W]}return g}();function zi(R){return typeof BigInt>"u"?Xt:R}function Xt(){throw new Error("BigInt not supported")}})(jn);const wr=jn.Buffer,o4=jn.Blob,a4=jn.BlobOptions,Ae=jn.Buffer,l4=jn.File,c4=jn.FileOptions,u4=jn.INSPECT_MAX_BYTES,d4=jn.SlowBuffer,f4=jn.TranscodeEncoding,h4=jn.atob,p4=jn.btoa,m4=jn.constants,g4=jn.isAscii,y4=jn.isUtf8,w4=jn.kMaxLength,v4=jn.kStringMaxLength,_4=jn.resolveObjectURL,S4=jn.transcode,b4=Object.freeze(Object.defineProperty({__proto__:null,Blob:o4,BlobOptions:a4,Buffer:Ae,File:l4,FileOptions:c4,INSPECT_MAX_BYTES:u4,SlowBuffer:d4,TranscodeEncoding:f4,atob:h4,btoa:p4,constants:m4,default:wr,isAscii:g4,isUtf8:y4,kMaxLength:w4,kStringMaxLength:v4,resolveObjectURL:_4,transcode:S4},Symbol.toStringTag,{value:"Module"})),Ol=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Li(t,...e){if(!nb(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function E4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");nf(t.outputLen),nf(t.blockLen)}function Fc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qN(t,e){Li(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function T4(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function fa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function b0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hs(t,e){return t<<32-e|t>>>e}const I4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function k4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function A4(t){for(let e=0;e<t.length;e++)t[e]=k4(t[e]);return t}const FT=I4?t=>t:A4,KN=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",C4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jc(t){if(Li(t),KN)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=C4[t[n]];return e}const Vs={_0:48,_9:57,A:65,F:70,a:97,f:102};function jT(t){if(t>=Vs._0&&t<=Vs._9)return t-Vs._0;if(t>=Vs.A&&t<=Vs.F)return t-(Vs.A-10);if(t>=Vs.a&&t<=Vs.f)return t-(Vs.a-10)}function rb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KN)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=jT(t.charCodeAt(s)),a=jT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function N4(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _g(t){return typeof t=="string"&&(t=N4(t)),Li(t),t}function so(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Li(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class ib{}function sb(t){const e=r=>t().update(_g(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function YN(t=32){if(Ol&&typeof Ol.getRandomValues=="function")return Ol.getRandomValues(new Uint8Array(t));if(Ol&&typeof Ol.randomBytes=="function")return Uint8Array.from(Ol.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function M4(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function R4(t,e,n){return t&e^~t&n}function x4(t,e,n){return t&e^t&n^e&n}class QN extends ib{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=b0(this.buffer)}update(e){Fc(this),e=_g(e),Li(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=b0(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fc(this),qN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,fa(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;M4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=b0(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ao=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),wh=BigInt(2**32-1),zT=BigInt(32);function D4(t,e=!1){return e?{h:Number(t&wh),l:Number(t>>zT&wh)}:{h:Number(t>>zT&wh)|0,l:Number(t&wh)|0}}function JN(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=D4(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const WT=(t,e,n)=>t>>>n,VT=(t,e,n)=>t<<32-n|e>>>n,Pl=(t,e,n)=>t>>>n|e<<32-n,Ll=(t,e,n)=>t<<32-n|e>>>n,vh=(t,e,n)=>t<<64-n|e>>>n-32,_h=(t,e,n)=>t>>>n-32|e<<64-n,O4=(t,e,n)=>t<<n|e>>>32-n,P4=(t,e,n)=>e<<n|t>>>32-n,L4=(t,e,n)=>e<<n-32|t>>>64-n,$4=(t,e,n)=>t<<n-32|e>>>64-n;function Hs(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const B4=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),U4=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,F4=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),j4=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,z4=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),W4=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,V4=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Co=new Uint32Array(64);class H4 extends QN{constructor(e=32){super(64,e,8,!1),this.A=Ao[0]|0,this.B=Ao[1]|0,this.C=Ao[2]|0,this.D=Ao[3]|0,this.E=Ao[4]|0,this.F=Ao[5]|0,this.G=Ao[6]|0,this.H=Ao[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Co[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Co[d-15],h=Co[d-2],w=hs(f,7)^hs(f,18)^f>>>3,T=hs(h,17)^hs(h,19)^h>>>10;Co[d]=T+Co[d-7]+w+Co[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=hs(a,6)^hs(a,11)^hs(a,25),h=u+f+R4(a,l,c)+V4[d]+Co[d]|0,T=(hs(r,2)^hs(r,13)^hs(r,22))+x4(r,i,s)|0;u=c,c=l,l=a,a=o+h|0,o=s,s=i,i=r,r=h+T|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){fa(Co)}destroy(){this.set(0,0,0,0,0,0,0,0),fa(this.buffer)}}const ZN=JN(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),G4=ZN[0],q4=ZN[1],No=new Uint32Array(80),Mo=new Uint32Array(80);class K4 extends QN{constructor(e=64){super(128,e,16,!1),this.Ah=fr[0]|0,this.Al=fr[1]|0,this.Bh=fr[2]|0,this.Bl=fr[3]|0,this.Ch=fr[4]|0,this.Cl=fr[5]|0,this.Dh=fr[6]|0,this.Dl=fr[7]|0,this.Eh=fr[8]|0,this.El=fr[9]|0,this.Fh=fr[10]|0,this.Fl=fr[11]|0,this.Gh=fr[12]|0,this.Gl=fr[13]|0,this.Hh=fr[14]|0,this.Hl=fr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:w,Hh:T,Hl:A}=this;return[e,n,r,i,s,o,a,l,c,u,d,f,h,w,T,A]}set(e,n,r,i,s,o,a,l,c,u,d,f,h,w,T,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=w|0,this.Hh=T|0,this.Hl=A|0}process(e,n){for(let b=0;b<16;b++,n+=4)No[b]=e.getUint32(n),Mo[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const C=No[b-15]|0,E=Mo[b-15]|0,I=Pl(C,E,1)^Pl(C,E,8)^WT(C,E,7),k=Ll(C,E,1)^Ll(C,E,8)^VT(C,E,7),z=No[b-2]|0,D=Mo[b-2]|0,F=Pl(z,D,19)^vh(z,D,61)^WT(z,D,6),V=Ll(z,D,19)^_h(z,D,61)^VT(z,D,6),G=F4(k,V,Mo[b-7],Mo[b-16]),x=j4(G,I,F,No[b-7],No[b-16]);No[b]=x|0,Mo[b]=G|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:w,Gh:T,Gl:A,Hh:S,Hl:y}=this;for(let b=0;b<80;b++){const C=Pl(d,f,14)^Pl(d,f,18)^vh(d,f,41),E=Ll(d,f,14)^Ll(d,f,18)^_h(d,f,41),I=d&h^~d&T,k=f&w^~f&A,z=z4(y,E,k,q4[b],Mo[b]),D=W4(z,S,C,I,G4[b],No[b]),F=z|0,V=Pl(r,i,28)^vh(r,i,34)^vh(r,i,39),G=Ll(r,i,28)^_h(r,i,34)^_h(r,i,39),x=r&s^r&a^s&a,p=i&o^i&l^o&l;S=T|0,y=A|0,T=h|0,A=w|0,h=d|0,w=f|0,{h:d,l:f}=Hs(c|0,u|0,D|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const v=B4(F,G,p);r=U4(v,D,V,x),i=v|0}({h:r,l:i}=Hs(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Hs(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Hs(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Hs(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Hs(this.Eh|0,this.El|0,d|0,f|0),{h,l:w}=Hs(this.Fh|0,this.Fl|0,h|0,w|0),{h:T,l:A}=Hs(this.Gh|0,this.Gl|0,T|0,A|0),{h:S,l:y}=Hs(this.Hh|0,this.Hl|0,S|0,y|0),this.set(r,i,s,o,a,l,c,u,d,f,h,w,T,A,S,y)}roundClean(){fa(No,Mo)}destroy(){fa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const XN=sb(()=>new H4),Y4=sb(()=>new K4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ob=BigInt(0),pv=BigInt(1);function ll(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Sh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function eM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ob:BigInt("0x"+t)}function Sg(t){return eM(jc(t))}function rf(t){return Li(t),eM(jc(Uint8Array.from(t).reverse()))}function ab(t,e){return rb(t.toString(16).padStart(e*2,"0"))}function bg(t,e){return ab(t,e).reverse()}function an(t,e,n){let r;if(typeof e=="string")try{r=rb(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(nb(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const E0=t=>typeof t=="bigint"&&ob<=t;function Q4(t,e,n){return E0(t)&&E0(e)&&E0(n)&&e<=t&&t<n}function uc(t,e,n,r){if(!Q4(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function J4(t){let e;for(e=0;t>ob;t>>=pv,e+=1);return e}const Eg=t=>(pv<<BigInt(t))-pv;function Z4(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...h)=>n(o,s,...h),u=(h=r(0))=>{o=c(i(0),h),s=c(),h.length!==0&&(o=c(i(1),h),s=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const w=[];for(;h<e;){s=c();const T=s.slice();w.push(T),h+=s.length}return so(...w)};return(h,w)=>{l(),u(h);let T;for(;!(T=w(d()));)u();return l(),T}}function Nf(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function om(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qr=BigInt(0),lr=BigInt(1),ja=BigInt(2),X4=BigInt(3),tM=BigInt(4),nM=BigInt(5),rM=BigInt(8);function ln(t,e){const n=t%e;return n>=qr?n:e+n}function en(t,e,n){let r=t;for(;e-- >qr;)r*=r,r%=n;return r}function HT(t,e){if(t===qr)throw new Error("invert: expected non-zero number");if(e<=qr)throw new Error("invert: expected positive modulus, got "+e);let n=ln(t,e),r=e,i=qr,s=lr;for(;n!==qr;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==lr)throw new Error("invert: does not exist");return ln(i,e)}function iM(t,e){const n=(t.ORDER+lr)/tM,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function e3(t,e){const n=(t.ORDER-nM)/rM,r=t.mul(e,ja),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,ja),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function t3(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-lr,n=0;for(;e%ja===qr;)e/=ja,n++;let r=ja;const i=gu(t);for(;GT(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return iM;let s=i.pow(r,e);const o=(e+lr)/ja;return function(l,c){if(l.is0(c))return c;if(GT(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,s),f=l.pow(c,e),h=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let w=1,T=l.sqr(f);for(;!l.eql(T,l.ONE);)if(w++,T=l.sqr(T),w===u)throw new Error("Cannot find square root");const A=lr<<BigInt(u-w-1),S=l.pow(d,A);u=w,d=l.sqr(S),f=l.mul(f,d),h=l.mul(h,S)}return h}}function n3(t){return t%tM===X4?iM:t%rM===nM?e3:t3(t)}const r3=(t,e)=>(ln(t,e)&lr)===lr,i3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function s3(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=i3.reduce((r,i)=>(r[i]="function",r),e);return Nf(t,n),t}function o3(t,e,n){if(n<qr)throw new Error("invalid exponent, negatives unsupported");if(n===qr)return t.ONE;if(n===lr)return e;let r=t.ONE,i=e;for(;n>qr;)n&lr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=lr;return r}function sM(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function GT(t,e){const n=(t.ORDER-lr)/ja,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function a3(t,e){e!==void 0&&nf(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function gu(t,e,n=!1,r={}){if(t<=qr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=a3(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Eg(o),ZERO:qr,ONE:lr,create:u=>ln(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return qr<=u&&u<t},is0:u=>u===qr,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&lr)===lr,neg:u=>ln(-u,t),eql:(u,d)=>u===d,sqr:u=>ln(u*u,t),add:(u,d)=>ln(u+d,t),sub:(u,d)=>ln(u-d,t),mul:(u,d)=>ln(u*d,t),pow:(u,d)=>o3(c,u,d),div:(u,d)=>ln(u*HT(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>HT(u,t),sqrt:s||(u=>(l||(l=n3(t)),l(c,u))),toBytes:u=>n?bg(u,a):ab(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?rf(u):Sg(u)},invertBatch:u=>sM(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function oM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function aM(t){const e=oM(t);return e+Math.ceil(e/2)}function l3(t,e,n=!1){const r=t.length,i=oM(e),s=aM(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?rf(t):Sg(t),a=ln(o,e-lr)+lr;return n?bg(a,i):ab(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zc=BigInt(0),za=BigInt(1);function Sd(t,e){const n=e.negate();return t?n:e}function lM(t,e,n){const r=e==="pz"?o=>o.pz:o=>o.ez,i=sM(t.Fp,n.map(r));return n.map((o,a)=>o.toAffine(i[a])).map(t.fromAffine)}function cM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function T0(t,e){cM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Eg(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function qT(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=za);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function c3(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function u3(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const I0=new WeakMap,uM=new WeakMap;function k0(t){return uM.get(t)||1}function KT(t){if(t!==zc)throw new Error("invalid wNAF")}function dM(t,e){return{constTimeNegate:Sd,hasPrecomputes(n){return k0(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>zc;)r&za&&(i=i.add(s)),s=s.double(),r>>=za;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=T0(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=T0(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:w}=qT(i,l,a);i=c,d?o=o.add(Sd(h,r[w])):s=s.add(Sd(f,r[u]))}return KT(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=T0(n,e);for(let a=0;a<o.windows&&i!==zc;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=qT(i,a,o);if(i=l,!u){const f=r[c];s=s.add(d?f.negate():f)}}return KT(i),s},getPrecomputes(n,r,i){let s=I0.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),I0.set(r,s))),s},wNAFCached(n,r,i){const s=k0(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=k0(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){cM(r,e),uM.set(n,r),I0.delete(n)}}}function d3(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>zc||r>zc;)n&za&&(s=s.add(i)),r&za&&(o=o.add(i)),i=i.double(),n>>=za,r>>=za;return{p1:s,p2:o}}function fM(t,e,n,r){c3(n,t),u3(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=J4(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Eg(l),u=new Array(Number(c)+1).fill(o),d=Math.floor((e.BITS-1)/l)*l;let f=o;for(let h=d;h>=0;h-=l){u.fill(o);for(let T=0;T<s;T++){const A=r[T],S=Number(A>>BigInt(h)&c);u[S]=u[S].add(n[T])}let w=o;for(let T=u.length-1,A=o;T>0;T--)A=A.add(u[T]),w=w.add(A);if(f=f.add(w),h!==0)for(let T=0;T<l;T++)f=f.double()}return f}function YT(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return s3(e),e}else return gu(t)}function hM(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>zc))throw new Error(`CURVE.${a} must be positive bigint`)}const r=YT(e.p,n.Fp),i=YT(e.n,n.Fn),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const a of o)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=BigInt(0),Tr=BigInt(1),A0=BigInt(2),f3=BigInt(8),h3={zip215:!0};function p3(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),a=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,a)}function m3(t,e={}){const{Fp:n,Fn:r}=hM("edwards",t,e),{h:i,n:s}=t;Nf(e,{},{uvRatio:"function"});const o=A0<<BigInt(r.BYTES*8)-Tr,a=T=>n.create(T),l=e.uvRatio||((T,A)=>{try{return{isValid:!0,value:n.sqrt(n.div(T,A))}}catch{return{isValid:!1,value:ps}}});if(!p3(n,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function c(T,A,S=!1){const y=S?Tr:ps;return uc("coordinate "+T,A,y,o),A}function u(T){if(!(T instanceof h))throw new Error("ExtendedPoint expected")}const d=om((T,A)=>{const{ex:S,ey:y,ez:b}=T,C=T.is0();A==null&&(A=C?f3:n.inv(b));const E=a(S*A),I=a(y*A),k=a(b*A);if(C)return{x:ps,y:Tr};if(k!==Tr)throw new Error("invZ was invalid");return{x:E,y:I}}),f=om(T=>{const{a:A,d:S}=t;if(T.is0())throw new Error("bad point: ZERO");const{ex:y,ey:b,ez:C,et:E}=T,I=a(y*y),k=a(b*b),z=a(C*C),D=a(z*z),F=a(I*A),V=a(z*a(F+k)),G=a(D+a(S*a(I*k)));if(V!==G)throw new Error("bad point: equation left != right (1)");const x=a(y*b),p=a(C*E);if(x!==p)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(A,S,y,b){this.ex=c("x",A),this.ey=c("y",S),this.ez=c("z",y,!0),this.et=c("t",b),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof h)throw new Error("extended point not allowed");const{x:S,y}=A||{};return c("x",S),c("y",y),new h(S,y,Tr,a(S*y))}static normalizeZ(A){return lM(h,"ez",A)}static msm(A,S){return fM(h,r,A,S)}_setWindowSize(A){this.precompute(A)}precompute(A=8,S=!0){return w.setWindowSize(this,A),S||this.multiply(A0),this}assertValidity(){f(this)}equals(A){u(A);const{ex:S,ey:y,ez:b}=this,{ex:C,ey:E,ez:I}=A,k=a(S*I),z=a(C*b),D=a(y*I),F=a(E*b);return k===z&&D===F}is0(){return this.equals(h.ZERO)}negate(){return new h(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:A}=t,{ex:S,ey:y,ez:b}=this,C=a(S*S),E=a(y*y),I=a(A0*a(b*b)),k=a(A*C),z=S+y,D=a(a(z*z)-C-E),F=k+E,V=F-I,G=k-E,x=a(D*V),p=a(F*G),v=a(D*G),N=a(V*F);return new h(x,p,N,v)}add(A){u(A);const{a:S,d:y}=t,{ex:b,ey:C,ez:E,et:I}=this,{ex:k,ey:z,ez:D,et:F}=A,V=a(b*k),G=a(C*z),x=a(I*y*F),p=a(E*D),v=a((b+C)*(k+z)-V-G),N=p-x,O=p+x,M=a(G-S*V),B=a(v*N),j=a(O*M),P=a(v*M),m=a(N*O);return new h(B,j,m,P)}subtract(A){return this.add(A.negate())}multiply(A){const S=A;uc("scalar",S,Tr,s);const{p:y,f:b}=w.wNAFCached(this,S,h.normalizeZ);return h.normalizeZ([y,b])[0]}multiplyUnsafe(A,S=h.ZERO){const y=A;return uc("scalar",y,ps,s),y===ps?h.ZERO:this.is0()||y===Tr?this:w.wNAFCachedUnsafe(this,y,h.normalizeZ,S)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return w.wNAFCachedUnsafe(this,s).is0()}toAffine(A){return d(this,A)}clearCofactor(){return i===Tr?this:this.multiplyUnsafe(i)}static fromBytes(A,S=!1){return Li(A),this.fromHex(A,S)}static fromHex(A,S=!1){const{d:y,a:b}=t,C=n.BYTES;A=an("pointHex",A,C),ll("zip215",S);const E=A.slice(),I=A[C-1];E[C-1]=I&-129;const k=rf(E),z=S?o:n.ORDER;uc("pointHex.y",k,ps,z);const D=a(k*k),F=a(D-Tr),V=a(y*D-b);let{isValid:G,value:x}=l(F,V);if(!G)throw new Error("Point.fromHex: invalid y coordinate");const p=(x&Tr)===Tr,v=(I&128)!==0;if(!S&&x===ps&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==p&&(x=a(-x)),h.fromAffine({x,y:k})}static fromPrivateScalar(A){return h.BASE.multiply(A)}toBytes(){const{x:A,y:S}=this.toAffine(),y=bg(S,n.BYTES);return y[y.length-1]|=A&Tr?128:0,y}toRawBytes(){return this.toBytes()}toHex(){return jc(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}h.BASE=new h(t.Gx,t.Gy,Tr,a(t.Gx*t.Gy)),h.ZERO=new h(ps,Tr,Tr,ps),h.Fp=n,h.Fn=r;const w=dM(h,r.BYTES*8);return h}function g3(t,e){Nf(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:r}=e,{BASE:i,Fp:s,Fn:o}=t,a=o.ORDER,l=e.randomBytes||YN,c=e.adjustScalarBytes||(E=>E),u=e.domain||((E,I,k)=>{if(ll("phflag",k),I.length||k)throw new Error("Contexts/pre-hash are not supported");return E});function d(E){return o.create(E)}function f(E){return d(rf(E))}function h(E){const I=s.BYTES;E=an("private key",E,I);const k=an("hashed private key",r(E),2*I),z=c(k.slice(0,I)),D=k.slice(I,2*I),F=f(z);return{head:z,prefix:D,scalar:F}}function w(E){const{head:I,prefix:k,scalar:z}=h(E),D=i.multiply(z),F=D.toBytes();return{head:I,prefix:k,scalar:z,point:D,pointBytes:F}}function T(E){return w(E).pointBytes}function A(E=Uint8Array.of(),...I){const k=so(...I);return f(r(u(k,an("context",E),!!n)))}function S(E,I,k={}){E=an("message",E),n&&(E=n(E));const{prefix:z,scalar:D,pointBytes:F}=w(I),V=A(k.context,z,E),G=i.multiply(V).toBytes(),x=A(k.context,G,F,E),p=d(V+x*D);uc("signature.s",p,ps,a);const v=s.BYTES,N=so(G,bg(p,v));return an("result",N,v*2)}const y=h3;function b(E,I,k,z=y){const{context:D,zip215:F}=z,V=s.BYTES;E=an("signature",E,2*V),I=an("message",I),k=an("publicKey",k,V),F!==void 0&&ll("zip215",F),n&&(I=n(I));const G=rf(E.slice(V,2*V));let x,p,v;try{x=t.fromHex(k,F),p=t.fromHex(E.slice(0,V),F),v=i.multiplyUnsafe(G)}catch{return!1}if(!F&&x.isSmallOrder())return!1;const N=A(D,p.toBytes(),x.toBytes(),I);return p.add(x.multiplyUnsafe(N)).subtract(v).clearCofactor().is0()}return i.precompute(8),{getPublicKey:T,sign:S,verify:b,utils:{getExtendedPublicKey:w,randomPrivateKey:()=>l(s.BYTES),precompute(E=8,I=t.BASE){return I.precompute(E,!1)}},Point:t}}function y3(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=gu(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={hash:t.hash,randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,eddsaOpts:s}}function w3(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function v3(t){const{CURVE:e,curveOpts:n,eddsaOpts:r}=y3(t),i=m3(e,n),s=g3(i,r);return w3(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const _3=BigInt(1),QT=BigInt(2);BigInt(3);const S3=BigInt(5),b3=BigInt(8),Tg={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:b3,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function E3(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Tg.p,a=t*t%s*t%s,l=en(a,QT,s)*a%s,c=en(l,_3,s)*t%s,u=en(c,S3,s)*c%s,d=en(u,e,s)*u%s,f=en(d,n,s)*d%s,h=en(f,r,s)*f%s,w=en(h,i,s)*h%s,T=en(w,i,s)*h%s,A=en(T,e,s)*u%s;return{pow_p_5_8:en(A,QT,s)*t%s,b2:a}}function T3(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const JT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function I3(t,e){const n=Tg.p,r=ln(e*e*e,n),i=ln(r*r*e,n),s=E3(t*i).pow_p_5_8;let o=ln(t*r*s,n);const a=ln(e*o*o,n),l=o,c=ln(o*JT,n),u=a===t,d=a===ln(-t,n),f=a===ln(-t*JT,n);return u&&(o=l),(d||f)&&(o=c),r3(o,n)&&(o=ln(-o,n)),{isValid:u||d,value:o}}const k3=gu(Tg.p,void 0,!0),A3={...Tg,Fp:k3,hash:Y4,adjustScalarBytes:T3,uvRatio:I3},El=v3(A3);var lb={exports:{}};const cb=Fi(b4);lb.exports;(function(t){(function(e,n){function r(x,p){if(!x)throw new Error(p||"Assertion failed")}function i(x,p){x.super_=p;var v=function(){};v.prototype=p.prototype,x.prototype=new v,x.prototype.constructor=x}function s(x,p,v){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(x||0,p||10,v||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=cb.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,v){return p.cmp(v)>0?p:v},s.min=function(p,v){return p.cmp(v)<0?p:v},s.prototype._init=function(p,v,N){if(typeof p=="number")return this._initNumber(p,v,N);if(typeof p=="object")return this._initArray(p,v,N);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var O=0;p[0]==="-"&&(O++,this.negative=1),O<p.length&&(v===16?this._parseHex(p,O,N):(this._parseBase(p,v,O),N==="le"&&this._initArray(this.toArray(),v,N)))},s.prototype._initNumber=function(p,v,N){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),v,N)},s.prototype._initArray=function(p,v,N){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var M,B,j=0;if(N==="be")for(O=p.length-1,M=0;O>=0;O-=3)B=p[O]|p[O-1]<<8|p[O-2]<<16,this.words[M]|=B<<j&67108863,this.words[M+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,M++);else if(N==="le")for(O=0,M=0;O<p.length;O+=3)B=p[O]|p[O+1]<<8|p[O+2]<<16,this.words[M]|=B<<j&67108863,this.words[M+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,M++);return this._strip()};function a(x,p){var v=x.charCodeAt(p);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+x)}function l(x,p,v){var N=a(x,v);return v-1>=p&&(N|=a(x,v-1)<<4),N}s.prototype._parseHex=function(p,v,N){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var M=0,B=0,j;if(N==="be")for(O=p.length-1;O>=v;O-=2)j=l(p,v,O)<<M,this.words[B]|=j&67108863,M>=18?(M-=18,B+=1,this.words[B]|=j>>>26):M+=8;else{var P=p.length-v;for(O=P%2===0?v+1:v;O<p.length;O+=2)j=l(p,v,O)<<M,this.words[B]|=j&67108863,M>=18?(M-=18,B+=1,this.words[B]|=j>>>26):M+=8}this._strip()};function c(x,p,v,N){for(var O=0,M=0,B=Math.min(x.length,v),j=p;j<B;j++){var P=x.charCodeAt(j)-48;O*=N,P>=49?M=P-49+10:P>=17?M=P-17+10:M=P,r(P>=0&&M<N,"Invalid character"),O+=M}return O}s.prototype._parseBase=function(p,v,N){this.words=[0],this.length=1;for(var O=0,M=1;M<=67108863;M*=v)O++;O--,M=M/v|0;for(var B=p.length-N,j=B%O,P=Math.min(B,B-j)+N,m=0,L=N;L<P;L+=O)m=c(p,L,L+O,v),this.imuln(M),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(j!==0){var q=1;for(m=c(p,L,p.length,v),L=0;L<j;L++)q*=v;this.imuln(q),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(x,p){x.words=p.words,x.length=p.length,x.negative=p.negative,x.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,v){p=p||10,v=v|0||1;var N;if(p===16||p==="hex"){N="";for(var O=0,M=0,B=0;B<this.length;B++){var j=this.words[B],P=((j<<O|M)&16777215).toString(16);M=j>>>24-O&16777215,O+=2,O>=26&&(O-=26,B--),M!==0||B!==this.length-1?N=f[6-P.length]+P+N:N=P+N}for(M!==0&&(N=M.toString(16)+N);N.length%v!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(p===(p|0)&&p>=2&&p<=36){var m=h[p],L=w[p];N="";var q=this.clone();for(q.negative=0;!q.isZero();){var Q=q.modrn(L).toString(p);q=q.idivn(L),q.isZero()?N=Q+N:N=f[m-Q.length]+Q+N}for(this.isZero()&&(N="0"+N);N.length%v!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,v){return this.toArrayLike(o,p,v)}),s.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)};var T=function(p,v){return p.allocUnsafe?p.allocUnsafe(v):new p(v)};s.prototype.toArrayLike=function(p,v,N){this._strip();var O=this.byteLength(),M=N||Math.max(1,O);r(O<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0");var B=T(p,M),j=v==="le"?"LE":"BE";return this["_toArrayLike"+j](B,O),B},s.prototype._toArrayLikeLE=function(p,v){for(var N=0,O=0,M=0,B=0;M<this.length;M++){var j=this.words[M]<<B|O;p[N++]=j&255,N<p.length&&(p[N++]=j>>8&255),N<p.length&&(p[N++]=j>>16&255),B===6?(N<p.length&&(p[N++]=j>>24&255),O=0,B=0):(O=j>>>24,B+=2)}if(N<p.length)for(p[N++]=O;N<p.length;)p[N++]=0},s.prototype._toArrayLikeBE=function(p,v){for(var N=p.length-1,O=0,M=0,B=0;M<this.length;M++){var j=this.words[M]<<B|O;p[N--]=j&255,N>=0&&(p[N--]=j>>8&255),N>=0&&(p[N--]=j>>16&255),B===6?(N>=0&&(p[N--]=j>>24&255),O=0,B=0):(O=j>>>24,B+=2)}if(N>=0)for(p[N--]=O;N>=0;)p[N--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var v=p,N=0;return v>=4096&&(N+=13,v>>>=13),v>=64&&(N+=7,v>>>=7),v>=8&&(N+=4,v>>>=4),v>=2&&(N+=2,v>>>=2),N+v},s.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,N=0;return v&8191||(N+=13,v>>>=13),v&127||(N+=7,v>>>=7),v&15||(N+=4,v>>>=4),v&3||(N+=2,v>>>=2),v&1||N++,N},s.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function A(x){for(var p=new Array(x.bitLength()),v=0;v<p.length;v++){var N=v/26|0,O=v%26;p[v]=x.words[N]>>>O&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var N=this._zeroBits(this.words[v]);if(p+=N,N!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this._strip()},s.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var N=0;N<v.length;N++)this.words[N]=this.words[N]&p.words[N];return this.length=v.length,this._strip()},s.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var v,N;this.length>p.length?(v=this,N=p):(v=p,N=this);for(var O=0;O<N.length;O++)this.words[O]=v.words[O]^N.words[O];if(this!==v)for(;O<v.length;O++)this.words[O]=v.words[O];return this.length=v.length,this._strip()},s.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,N=p%26;this._expand(v),N>0&&v--;for(var O=0;O<v;O++)this.words[O]=~this.words[O]&67108863;return N>0&&(this.words[O]=~this.words[O]&67108863>>26-N),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var N=p/26|0,O=p%26;return this._expand(N+1),v?this.words[N]=this.words[N]|1<<O:this.words[N]=this.words[N]&~(1<<O),this._strip()},s.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var N,O;this.length>p.length?(N=this,O=p):(N=p,O=this);for(var M=0,B=0;B<O.length;B++)v=(N.words[B]|0)+(O.words[B]|0)+M,this.words[B]=v&67108863,M=v>>>26;for(;M!==0&&B<N.length;B++)v=(N.words[B]|0)+M,this.words[B]=v&67108863,M=v>>>26;if(this.length=N.length,M!==0)this.words[this.length]=M,this.length++;else if(N!==this)for(;B<N.length;B++)this.words[B]=N.words[B];return this},s.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var N=this.cmp(p);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,M;N>0?(O=this,M=p):(O=p,M=this);for(var B=0,j=0;j<M.length;j++)v=(O.words[j]|0)-(M.words[j]|0)+B,B=v>>26,this.words[j]=v&67108863;for(;B!==0&&j<O.length;j++)v=(O.words[j]|0)+B,B=v>>26,this.words[j]=v&67108863;if(B===0&&j<O.length&&O!==this)for(;j<O.length;j++)this.words[j]=O.words[j];return this.length=Math.max(this.length,j),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function S(x,p,v){v.negative=p.negative^x.negative;var N=x.length+p.length|0;v.length=N,N=N-1|0;var O=x.words[0]|0,M=p.words[0]|0,B=O*M,j=B&67108863,P=B/67108864|0;v.words[0]=j;for(var m=1;m<N;m++){for(var L=P>>>26,q=P&67108863,Q=Math.min(m,p.length-1),ne=Math.max(0,m-x.length+1);ne<=Q;ne++){var Ce=m-ne|0;O=x.words[Ce]|0,M=p.words[ne]|0,B=O*M+q,L+=B/67108864|0,q=B&67108863}v.words[m]=q|0,P=L|0}return P!==0?v.words[m]=P|0:v.length--,v._strip()}var y=function(p,v,N){var O=p.words,M=v.words,B=N.words,j=0,P,m,L,q=O[0]|0,Q=q&8191,ne=q>>>13,Ce=O[1]|0,_e=Ce&8191,Oe=Ce>>>13,ti=O[2]|0,ze=ti&8191,He=ti>>>13,Ru=O[3]|0,Yt=Ru&8191,Ut=Ru>>>13,Ws=O[4]|0,_t=Ws&8191,Qt=Ws>>>13,Xf=O[5]|0,Lt=Xf&8191,Jt=Xf>>>13,eh=O[6]|0,Ft=eh&8191,It=eh>>>13,ni=O[7]|0,$t=ni&8191,Zt=ni>>>13,zi=O[8]|0,Xt=zi&8191,R=zi>>>13,g=O[9]|0,_=g&8191,$=g>>>13,W=M[0]|0,K=W&8191,X=W>>>13,Pe=M[1]|0,De=Pe&8191,Me=Pe>>>13,kt=M[2]|0,Ne=kt&8191,hn=kt>>>13,T1=M[3]|0,pn=T1&8191,mn=T1>>>13,I1=M[4]|0,gn=I1&8191,yn=I1>>>13,k1=M[5]|0,wn=k1&8191,vn=k1>>>13,A1=M[6]|0,_n=A1&8191,Sn=A1>>>13,C1=M[7]|0,bn=C1&8191,En=C1>>>13,N1=M[8]|0,Tn=N1&8191,In=N1>>>13,M1=M[9]|0,kn=M1&8191,An=M1>>>13;N.negative=p.negative^v.negative,N.length=19,P=Math.imul(Q,K),m=Math.imul(Q,X),m=m+Math.imul(ne,K)|0,L=Math.imul(ne,X);var My=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(My>>>26)|0,My&=67108863,P=Math.imul(_e,K),m=Math.imul(_e,X),m=m+Math.imul(Oe,K)|0,L=Math.imul(Oe,X),P=P+Math.imul(Q,De)|0,m=m+Math.imul(Q,Me)|0,m=m+Math.imul(ne,De)|0,L=L+Math.imul(ne,Me)|0;var Ry=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Ry>>>26)|0,Ry&=67108863,P=Math.imul(ze,K),m=Math.imul(ze,X),m=m+Math.imul(He,K)|0,L=Math.imul(He,X),P=P+Math.imul(_e,De)|0,m=m+Math.imul(_e,Me)|0,m=m+Math.imul(Oe,De)|0,L=L+Math.imul(Oe,Me)|0,P=P+Math.imul(Q,Ne)|0,m=m+Math.imul(Q,hn)|0,m=m+Math.imul(ne,Ne)|0,L=L+Math.imul(ne,hn)|0;var xy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(xy>>>26)|0,xy&=67108863,P=Math.imul(Yt,K),m=Math.imul(Yt,X),m=m+Math.imul(Ut,K)|0,L=Math.imul(Ut,X),P=P+Math.imul(ze,De)|0,m=m+Math.imul(ze,Me)|0,m=m+Math.imul(He,De)|0,L=L+Math.imul(He,Me)|0,P=P+Math.imul(_e,Ne)|0,m=m+Math.imul(_e,hn)|0,m=m+Math.imul(Oe,Ne)|0,L=L+Math.imul(Oe,hn)|0,P=P+Math.imul(Q,pn)|0,m=m+Math.imul(Q,mn)|0,m=m+Math.imul(ne,pn)|0,L=L+Math.imul(ne,mn)|0;var Dy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Dy>>>26)|0,Dy&=67108863,P=Math.imul(_t,K),m=Math.imul(_t,X),m=m+Math.imul(Qt,K)|0,L=Math.imul(Qt,X),P=P+Math.imul(Yt,De)|0,m=m+Math.imul(Yt,Me)|0,m=m+Math.imul(Ut,De)|0,L=L+Math.imul(Ut,Me)|0,P=P+Math.imul(ze,Ne)|0,m=m+Math.imul(ze,hn)|0,m=m+Math.imul(He,Ne)|0,L=L+Math.imul(He,hn)|0,P=P+Math.imul(_e,pn)|0,m=m+Math.imul(_e,mn)|0,m=m+Math.imul(Oe,pn)|0,L=L+Math.imul(Oe,mn)|0,P=P+Math.imul(Q,gn)|0,m=m+Math.imul(Q,yn)|0,m=m+Math.imul(ne,gn)|0,L=L+Math.imul(ne,yn)|0;var Oy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Oy>>>26)|0,Oy&=67108863,P=Math.imul(Lt,K),m=Math.imul(Lt,X),m=m+Math.imul(Jt,K)|0,L=Math.imul(Jt,X),P=P+Math.imul(_t,De)|0,m=m+Math.imul(_t,Me)|0,m=m+Math.imul(Qt,De)|0,L=L+Math.imul(Qt,Me)|0,P=P+Math.imul(Yt,Ne)|0,m=m+Math.imul(Yt,hn)|0,m=m+Math.imul(Ut,Ne)|0,L=L+Math.imul(Ut,hn)|0,P=P+Math.imul(ze,pn)|0,m=m+Math.imul(ze,mn)|0,m=m+Math.imul(He,pn)|0,L=L+Math.imul(He,mn)|0,P=P+Math.imul(_e,gn)|0,m=m+Math.imul(_e,yn)|0,m=m+Math.imul(Oe,gn)|0,L=L+Math.imul(Oe,yn)|0,P=P+Math.imul(Q,wn)|0,m=m+Math.imul(Q,vn)|0,m=m+Math.imul(ne,wn)|0,L=L+Math.imul(ne,vn)|0;var Py=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Py>>>26)|0,Py&=67108863,P=Math.imul(Ft,K),m=Math.imul(Ft,X),m=m+Math.imul(It,K)|0,L=Math.imul(It,X),P=P+Math.imul(Lt,De)|0,m=m+Math.imul(Lt,Me)|0,m=m+Math.imul(Jt,De)|0,L=L+Math.imul(Jt,Me)|0,P=P+Math.imul(_t,Ne)|0,m=m+Math.imul(_t,hn)|0,m=m+Math.imul(Qt,Ne)|0,L=L+Math.imul(Qt,hn)|0,P=P+Math.imul(Yt,pn)|0,m=m+Math.imul(Yt,mn)|0,m=m+Math.imul(Ut,pn)|0,L=L+Math.imul(Ut,mn)|0,P=P+Math.imul(ze,gn)|0,m=m+Math.imul(ze,yn)|0,m=m+Math.imul(He,gn)|0,L=L+Math.imul(He,yn)|0,P=P+Math.imul(_e,wn)|0,m=m+Math.imul(_e,vn)|0,m=m+Math.imul(Oe,wn)|0,L=L+Math.imul(Oe,vn)|0,P=P+Math.imul(Q,_n)|0,m=m+Math.imul(Q,Sn)|0,m=m+Math.imul(ne,_n)|0,L=L+Math.imul(ne,Sn)|0;var Ly=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Ly>>>26)|0,Ly&=67108863,P=Math.imul($t,K),m=Math.imul($t,X),m=m+Math.imul(Zt,K)|0,L=Math.imul(Zt,X),P=P+Math.imul(Ft,De)|0,m=m+Math.imul(Ft,Me)|0,m=m+Math.imul(It,De)|0,L=L+Math.imul(It,Me)|0,P=P+Math.imul(Lt,Ne)|0,m=m+Math.imul(Lt,hn)|0,m=m+Math.imul(Jt,Ne)|0,L=L+Math.imul(Jt,hn)|0,P=P+Math.imul(_t,pn)|0,m=m+Math.imul(_t,mn)|0,m=m+Math.imul(Qt,pn)|0,L=L+Math.imul(Qt,mn)|0,P=P+Math.imul(Yt,gn)|0,m=m+Math.imul(Yt,yn)|0,m=m+Math.imul(Ut,gn)|0,L=L+Math.imul(Ut,yn)|0,P=P+Math.imul(ze,wn)|0,m=m+Math.imul(ze,vn)|0,m=m+Math.imul(He,wn)|0,L=L+Math.imul(He,vn)|0,P=P+Math.imul(_e,_n)|0,m=m+Math.imul(_e,Sn)|0,m=m+Math.imul(Oe,_n)|0,L=L+Math.imul(Oe,Sn)|0,P=P+Math.imul(Q,bn)|0,m=m+Math.imul(Q,En)|0,m=m+Math.imul(ne,bn)|0,L=L+Math.imul(ne,En)|0;var $y=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+($y>>>26)|0,$y&=67108863,P=Math.imul(Xt,K),m=Math.imul(Xt,X),m=m+Math.imul(R,K)|0,L=Math.imul(R,X),P=P+Math.imul($t,De)|0,m=m+Math.imul($t,Me)|0,m=m+Math.imul(Zt,De)|0,L=L+Math.imul(Zt,Me)|0,P=P+Math.imul(Ft,Ne)|0,m=m+Math.imul(Ft,hn)|0,m=m+Math.imul(It,Ne)|0,L=L+Math.imul(It,hn)|0,P=P+Math.imul(Lt,pn)|0,m=m+Math.imul(Lt,mn)|0,m=m+Math.imul(Jt,pn)|0,L=L+Math.imul(Jt,mn)|0,P=P+Math.imul(_t,gn)|0,m=m+Math.imul(_t,yn)|0,m=m+Math.imul(Qt,gn)|0,L=L+Math.imul(Qt,yn)|0,P=P+Math.imul(Yt,wn)|0,m=m+Math.imul(Yt,vn)|0,m=m+Math.imul(Ut,wn)|0,L=L+Math.imul(Ut,vn)|0,P=P+Math.imul(ze,_n)|0,m=m+Math.imul(ze,Sn)|0,m=m+Math.imul(He,_n)|0,L=L+Math.imul(He,Sn)|0,P=P+Math.imul(_e,bn)|0,m=m+Math.imul(_e,En)|0,m=m+Math.imul(Oe,bn)|0,L=L+Math.imul(Oe,En)|0,P=P+Math.imul(Q,Tn)|0,m=m+Math.imul(Q,In)|0,m=m+Math.imul(ne,Tn)|0,L=L+Math.imul(ne,In)|0;var By=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(By>>>26)|0,By&=67108863,P=Math.imul(_,K),m=Math.imul(_,X),m=m+Math.imul($,K)|0,L=Math.imul($,X),P=P+Math.imul(Xt,De)|0,m=m+Math.imul(Xt,Me)|0,m=m+Math.imul(R,De)|0,L=L+Math.imul(R,Me)|0,P=P+Math.imul($t,Ne)|0,m=m+Math.imul($t,hn)|0,m=m+Math.imul(Zt,Ne)|0,L=L+Math.imul(Zt,hn)|0,P=P+Math.imul(Ft,pn)|0,m=m+Math.imul(Ft,mn)|0,m=m+Math.imul(It,pn)|0,L=L+Math.imul(It,mn)|0,P=P+Math.imul(Lt,gn)|0,m=m+Math.imul(Lt,yn)|0,m=m+Math.imul(Jt,gn)|0,L=L+Math.imul(Jt,yn)|0,P=P+Math.imul(_t,wn)|0,m=m+Math.imul(_t,vn)|0,m=m+Math.imul(Qt,wn)|0,L=L+Math.imul(Qt,vn)|0,P=P+Math.imul(Yt,_n)|0,m=m+Math.imul(Yt,Sn)|0,m=m+Math.imul(Ut,_n)|0,L=L+Math.imul(Ut,Sn)|0,P=P+Math.imul(ze,bn)|0,m=m+Math.imul(ze,En)|0,m=m+Math.imul(He,bn)|0,L=L+Math.imul(He,En)|0,P=P+Math.imul(_e,Tn)|0,m=m+Math.imul(_e,In)|0,m=m+Math.imul(Oe,Tn)|0,L=L+Math.imul(Oe,In)|0,P=P+Math.imul(Q,kn)|0,m=m+Math.imul(Q,An)|0,m=m+Math.imul(ne,kn)|0,L=L+Math.imul(ne,An)|0;var Uy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Uy>>>26)|0,Uy&=67108863,P=Math.imul(_,De),m=Math.imul(_,Me),m=m+Math.imul($,De)|0,L=Math.imul($,Me),P=P+Math.imul(Xt,Ne)|0,m=m+Math.imul(Xt,hn)|0,m=m+Math.imul(R,Ne)|0,L=L+Math.imul(R,hn)|0,P=P+Math.imul($t,pn)|0,m=m+Math.imul($t,mn)|0,m=m+Math.imul(Zt,pn)|0,L=L+Math.imul(Zt,mn)|0,P=P+Math.imul(Ft,gn)|0,m=m+Math.imul(Ft,yn)|0,m=m+Math.imul(It,gn)|0,L=L+Math.imul(It,yn)|0,P=P+Math.imul(Lt,wn)|0,m=m+Math.imul(Lt,vn)|0,m=m+Math.imul(Jt,wn)|0,L=L+Math.imul(Jt,vn)|0,P=P+Math.imul(_t,_n)|0,m=m+Math.imul(_t,Sn)|0,m=m+Math.imul(Qt,_n)|0,L=L+Math.imul(Qt,Sn)|0,P=P+Math.imul(Yt,bn)|0,m=m+Math.imul(Yt,En)|0,m=m+Math.imul(Ut,bn)|0,L=L+Math.imul(Ut,En)|0,P=P+Math.imul(ze,Tn)|0,m=m+Math.imul(ze,In)|0,m=m+Math.imul(He,Tn)|0,L=L+Math.imul(He,In)|0,P=P+Math.imul(_e,kn)|0,m=m+Math.imul(_e,An)|0,m=m+Math.imul(Oe,kn)|0,L=L+Math.imul(Oe,An)|0;var Fy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Fy>>>26)|0,Fy&=67108863,P=Math.imul(_,Ne),m=Math.imul(_,hn),m=m+Math.imul($,Ne)|0,L=Math.imul($,hn),P=P+Math.imul(Xt,pn)|0,m=m+Math.imul(Xt,mn)|0,m=m+Math.imul(R,pn)|0,L=L+Math.imul(R,mn)|0,P=P+Math.imul($t,gn)|0,m=m+Math.imul($t,yn)|0,m=m+Math.imul(Zt,gn)|0,L=L+Math.imul(Zt,yn)|0,P=P+Math.imul(Ft,wn)|0,m=m+Math.imul(Ft,vn)|0,m=m+Math.imul(It,wn)|0,L=L+Math.imul(It,vn)|0,P=P+Math.imul(Lt,_n)|0,m=m+Math.imul(Lt,Sn)|0,m=m+Math.imul(Jt,_n)|0,L=L+Math.imul(Jt,Sn)|0,P=P+Math.imul(_t,bn)|0,m=m+Math.imul(_t,En)|0,m=m+Math.imul(Qt,bn)|0,L=L+Math.imul(Qt,En)|0,P=P+Math.imul(Yt,Tn)|0,m=m+Math.imul(Yt,In)|0,m=m+Math.imul(Ut,Tn)|0,L=L+Math.imul(Ut,In)|0,P=P+Math.imul(ze,kn)|0,m=m+Math.imul(ze,An)|0,m=m+Math.imul(He,kn)|0,L=L+Math.imul(He,An)|0;var jy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(jy>>>26)|0,jy&=67108863,P=Math.imul(_,pn),m=Math.imul(_,mn),m=m+Math.imul($,pn)|0,L=Math.imul($,mn),P=P+Math.imul(Xt,gn)|0,m=m+Math.imul(Xt,yn)|0,m=m+Math.imul(R,gn)|0,L=L+Math.imul(R,yn)|0,P=P+Math.imul($t,wn)|0,m=m+Math.imul($t,vn)|0,m=m+Math.imul(Zt,wn)|0,L=L+Math.imul(Zt,vn)|0,P=P+Math.imul(Ft,_n)|0,m=m+Math.imul(Ft,Sn)|0,m=m+Math.imul(It,_n)|0,L=L+Math.imul(It,Sn)|0,P=P+Math.imul(Lt,bn)|0,m=m+Math.imul(Lt,En)|0,m=m+Math.imul(Jt,bn)|0,L=L+Math.imul(Jt,En)|0,P=P+Math.imul(_t,Tn)|0,m=m+Math.imul(_t,In)|0,m=m+Math.imul(Qt,Tn)|0,L=L+Math.imul(Qt,In)|0,P=P+Math.imul(Yt,kn)|0,m=m+Math.imul(Yt,An)|0,m=m+Math.imul(Ut,kn)|0,L=L+Math.imul(Ut,An)|0;var zy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(zy>>>26)|0,zy&=67108863,P=Math.imul(_,gn),m=Math.imul(_,yn),m=m+Math.imul($,gn)|0,L=Math.imul($,yn),P=P+Math.imul(Xt,wn)|0,m=m+Math.imul(Xt,vn)|0,m=m+Math.imul(R,wn)|0,L=L+Math.imul(R,vn)|0,P=P+Math.imul($t,_n)|0,m=m+Math.imul($t,Sn)|0,m=m+Math.imul(Zt,_n)|0,L=L+Math.imul(Zt,Sn)|0,P=P+Math.imul(Ft,bn)|0,m=m+Math.imul(Ft,En)|0,m=m+Math.imul(It,bn)|0,L=L+Math.imul(It,En)|0,P=P+Math.imul(Lt,Tn)|0,m=m+Math.imul(Lt,In)|0,m=m+Math.imul(Jt,Tn)|0,L=L+Math.imul(Jt,In)|0,P=P+Math.imul(_t,kn)|0,m=m+Math.imul(_t,An)|0,m=m+Math.imul(Qt,kn)|0,L=L+Math.imul(Qt,An)|0;var Wy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Wy>>>26)|0,Wy&=67108863,P=Math.imul(_,wn),m=Math.imul(_,vn),m=m+Math.imul($,wn)|0,L=Math.imul($,vn),P=P+Math.imul(Xt,_n)|0,m=m+Math.imul(Xt,Sn)|0,m=m+Math.imul(R,_n)|0,L=L+Math.imul(R,Sn)|0,P=P+Math.imul($t,bn)|0,m=m+Math.imul($t,En)|0,m=m+Math.imul(Zt,bn)|0,L=L+Math.imul(Zt,En)|0,P=P+Math.imul(Ft,Tn)|0,m=m+Math.imul(Ft,In)|0,m=m+Math.imul(It,Tn)|0,L=L+Math.imul(It,In)|0,P=P+Math.imul(Lt,kn)|0,m=m+Math.imul(Lt,An)|0,m=m+Math.imul(Jt,kn)|0,L=L+Math.imul(Jt,An)|0;var Vy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Vy>>>26)|0,Vy&=67108863,P=Math.imul(_,_n),m=Math.imul(_,Sn),m=m+Math.imul($,_n)|0,L=Math.imul($,Sn),P=P+Math.imul(Xt,bn)|0,m=m+Math.imul(Xt,En)|0,m=m+Math.imul(R,bn)|0,L=L+Math.imul(R,En)|0,P=P+Math.imul($t,Tn)|0,m=m+Math.imul($t,In)|0,m=m+Math.imul(Zt,Tn)|0,L=L+Math.imul(Zt,In)|0,P=P+Math.imul(Ft,kn)|0,m=m+Math.imul(Ft,An)|0,m=m+Math.imul(It,kn)|0,L=L+Math.imul(It,An)|0;var Hy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Hy>>>26)|0,Hy&=67108863,P=Math.imul(_,bn),m=Math.imul(_,En),m=m+Math.imul($,bn)|0,L=Math.imul($,En),P=P+Math.imul(Xt,Tn)|0,m=m+Math.imul(Xt,In)|0,m=m+Math.imul(R,Tn)|0,L=L+Math.imul(R,In)|0,P=P+Math.imul($t,kn)|0,m=m+Math.imul($t,An)|0,m=m+Math.imul(Zt,kn)|0,L=L+Math.imul(Zt,An)|0;var Gy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(Gy>>>26)|0,Gy&=67108863,P=Math.imul(_,Tn),m=Math.imul(_,In),m=m+Math.imul($,Tn)|0,L=Math.imul($,In),P=P+Math.imul(Xt,kn)|0,m=m+Math.imul(Xt,An)|0,m=m+Math.imul(R,kn)|0,L=L+Math.imul(R,An)|0;var qy=(j+P|0)+((m&8191)<<13)|0;j=(L+(m>>>13)|0)+(qy>>>26)|0,qy&=67108863,P=Math.imul(_,kn),m=Math.imul(_,An),m=m+Math.imul($,kn)|0,L=Math.imul($,An);var Ky=(j+P|0)+((m&8191)<<13)|0;return j=(L+(m>>>13)|0)+(Ky>>>26)|0,Ky&=67108863,B[0]=My,B[1]=Ry,B[2]=xy,B[3]=Dy,B[4]=Oy,B[5]=Py,B[6]=Ly,B[7]=$y,B[8]=By,B[9]=Uy,B[10]=Fy,B[11]=jy,B[12]=zy,B[13]=Wy,B[14]=Vy,B[15]=Hy,B[16]=Gy,B[17]=qy,B[18]=Ky,j!==0&&(B[19]=j,N.length++),N};Math.imul||(y=S);function b(x,p,v){v.negative=p.negative^x.negative,v.length=x.length+p.length;for(var N=0,O=0,M=0;M<v.length-1;M++){var B=O;O=0;for(var j=N&67108863,P=Math.min(M,p.length-1),m=Math.max(0,M-x.length+1);m<=P;m++){var L=M-m,q=x.words[L]|0,Q=p.words[m]|0,ne=q*Q,Ce=ne&67108863;B=B+(ne/67108864|0)|0,Ce=Ce+j|0,j=Ce&67108863,B=B+(Ce>>>26)|0,O+=B>>>26,B&=67108863}v.words[M]=j,N=B,B=O}return N!==0?v.words[M]=N:v.length--,v._strip()}function C(x,p,v){return b(x,p,v)}s.prototype.mulTo=function(p,v){var N,O=this.length+p.length;return this.length===10&&p.length===10?N=y(this,p,v):O<63?N=S(this,p,v):O<1024?N=b(this,p,v):N=C(this,p,v),N},s.prototype.mul=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},s.prototype.mulf=function(p){var v=new s(null);return v.words=new Array(this.length+p.length),C(this,p,v)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var v=p<0;v&&(p=-p),r(typeof p=="number"),r(p<67108864);for(var N=0,O=0;O<this.length;O++){var M=(this.words[O]|0)*p,B=(M&67108863)+(N&67108863);N>>=26,N+=M/67108864|0,N+=B>>>26,this.words[O]=B&67108863}return N!==0&&(this.words[O]=N,this.length++),this.length=p===0?1:this.length,v?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var v=A(p);if(v.length===0)return new s(1);for(var N=this,O=0;O<v.length&&v[O]===0;O++,N=N.sqr());if(++O<v.length)for(var M=N.sqr();O<v.length;O++,M=M.sqr())v[O]!==0&&(N=N.mul(M));return N},s.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,N=(p-v)/26,O=67108863>>>26-v<<26-v,M;if(v!==0){var B=0;for(M=0;M<this.length;M++){var j=this.words[M]&O,P=(this.words[M]|0)-j<<v;this.words[M]=P|B,B=j>>>26-v}B&&(this.words[M]=B,this.length++)}if(N!==0){for(M=this.length-1;M>=0;M--)this.words[M+N]=this.words[M];for(M=0;M<N;M++)this.words[M]=0;this.length+=N}return this._strip()},s.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,v,N){r(typeof p=="number"&&p>=0);var O;v?O=(v-v%26)/26:O=0;var M=p%26,B=Math.min((p-M)/26,this.length),j=67108863^67108863>>>M<<M,P=N;if(O-=B,O=Math.max(0,O),P){for(var m=0;m<B;m++)P.words[m]=this.words[m];P.length=B}if(B!==0)if(this.length>B)for(this.length-=B,m=0;m<this.length;m++)this.words[m]=this.words[m+B];else this.words[0]=0,this.length=1;var L=0;for(m=this.length-1;m>=0&&(L!==0||m>=O);m--){var q=this.words[m]|0;this.words[m]=L<<26-M|q>>>M,L=q&j}return P&&L!==0&&(P.words[P.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,v,N){return r(this.negative===0),this.iushrn(p,v,N)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,N=(p-v)/26,O=1<<v;if(this.length<=N)return!1;var M=this.words[N];return!!(M&O)},s.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,N=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(v!==0&&N++,this.length=Math.min(N,this.length),v!==0){var O=67108863^67108863>>>v<<v;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,v,N){var O=p.length+N,M;this._expand(O);var B,j=0;for(M=0;M<p.length;M++){B=(this.words[M+N]|0)+j;var P=(p.words[M]|0)*v;B-=P&67108863,j=(B>>26)-(P/67108864|0),this.words[M+N]=B&67108863}for(;M<this.length-N;M++)B=(this.words[M+N]|0)+j,j=B>>26,this.words[M+N]=B&67108863;if(j===0)return this._strip();for(r(j===-1),j=0,M=0;M<this.length;M++)B=-(this.words[M]|0)+j,j=B>>26,this.words[M]=B&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,v){var N=this.length-p.length,O=this.clone(),M=p,B=M.words[M.length-1]|0,j=this._countBits(B);N=26-j,N!==0&&(M=M.ushln(N),O.iushln(N),B=M.words[M.length-1]|0);var P=O.length-M.length,m;if(v!=="mod"){m=new s(null),m.length=P+1,m.words=new Array(m.length);for(var L=0;L<m.length;L++)m.words[L]=0}var q=O.clone()._ishlnsubmul(M,1,P);q.negative===0&&(O=q,m&&(m.words[P]=1));for(var Q=P-1;Q>=0;Q--){var ne=(O.words[M.length+Q]|0)*67108864+(O.words[M.length+Q-1]|0);for(ne=Math.min(ne/B|0,67108863),O._ishlnsubmul(M,ne,Q);O.negative!==0;)ne--,O.negative=0,O._ishlnsubmul(M,1,Q),O.isZero()||(O.negative^=1);m&&(m.words[Q]=ne)}return m&&m._strip(),O._strip(),v!=="div"&&N!==0&&O.iushrn(N),{div:m||null,mod:O}},s.prototype.divmod=function(p,v,N){if(r(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,M,B;return this.negative!==0&&p.negative===0?(B=this.neg().divmod(p,v),v!=="mod"&&(O=B.div.neg()),v!=="div"&&(M=B.mod.neg(),N&&M.negative!==0&&M.iadd(p)),{div:O,mod:M}):this.negative===0&&p.negative!==0?(B=this.divmod(p.neg(),v),v!=="mod"&&(O=B.div.neg()),{div:O,mod:B.mod}):this.negative&p.negative?(B=this.neg().divmod(p.neg(),v),v!=="div"&&(M=B.mod.neg(),N&&M.negative!==0&&M.isub(p)),{div:B.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,v)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var N=v.div.negative!==0?v.mod.isub(p):v.mod,O=p.ushrn(1),M=p.andln(1),B=N.cmp(O);return B<0||M===1&&B===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(p){var v=p<0;v&&(p=-p),r(p<=67108863);for(var N=(1<<26)%p,O=0,M=this.length-1;M>=0;M--)O=(N*O+(this.words[M]|0))%p;return v?-O:O},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var v=p<0;v&&(p=-p),r(p<=67108863);for(var N=0,O=this.length-1;O>=0;O--){var M=(this.words[O]|0)+N*67108864;this.words[O]=M/p|0,N=M%p}return this._strip(),v?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,N=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var O=new s(1),M=new s(0),B=new s(0),j=new s(1),P=0;v.isEven()&&N.isEven();)v.iushrn(1),N.iushrn(1),++P;for(var m=N.clone(),L=v.clone();!v.isZero();){for(var q=0,Q=1;!(v.words[0]&Q)&&q<26;++q,Q<<=1);if(q>0)for(v.iushrn(q);q-- >0;)(O.isOdd()||M.isOdd())&&(O.iadd(m),M.isub(L)),O.iushrn(1),M.iushrn(1);for(var ne=0,Ce=1;!(N.words[0]&Ce)&&ne<26;++ne,Ce<<=1);if(ne>0)for(N.iushrn(ne);ne-- >0;)(B.isOdd()||j.isOdd())&&(B.iadd(m),j.isub(L)),B.iushrn(1),j.iushrn(1);v.cmp(N)>=0?(v.isub(N),O.isub(B),M.isub(j)):(N.isub(v),B.isub(O),j.isub(M))}return{a:B,b:j,gcd:N.iushln(P)}},s.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,N=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var O=new s(1),M=new s(0),B=N.clone();v.cmpn(1)>0&&N.cmpn(1)>0;){for(var j=0,P=1;!(v.words[0]&P)&&j<26;++j,P<<=1);if(j>0)for(v.iushrn(j);j-- >0;)O.isOdd()&&O.iadd(B),O.iushrn(1);for(var m=0,L=1;!(N.words[0]&L)&&m<26;++m,L<<=1);if(m>0)for(N.iushrn(m);m-- >0;)M.isOdd()&&M.iadd(B),M.iushrn(1);v.cmp(N)>=0?(v.isub(N),O.isub(M)):(N.isub(v),M.isub(O))}var q;return v.cmpn(1)===0?q=O:q=M,q.cmpn(0)<0&&q.iadd(p),q},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),N=p.clone();v.negative=0,N.negative=0;for(var O=0;v.isEven()&&N.isEven();O++)v.iushrn(1),N.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;N.isEven();)N.iushrn(1);var M=v.cmp(N);if(M<0){var B=v;v=N,N=B}else if(M===0||N.cmpn(1)===0)break;v.isub(N)}while(!0);return N.iushln(O)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,N=(p-v)/26,O=1<<v;if(this.length<=N)return this._expand(N+1),this.words[N]|=O,this;for(var M=O,B=N;M!==0&&B<this.length;B++){var j=this.words[B]|0;j+=M,M=j>>>26,j&=67108863,this.words[B]=j}return M!==0&&(this.words[B]=M,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var N;if(this.length>1)N=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var O=this.words[0]|0;N=O===p?0:O<p?-1:1}return this.negative!==0?-N|0:N},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,N=this.length-1;N>=0;N--){var O=this.words[N]|0,M=p.words[N]|0;if(O!==M){O<M?v=-1:O>M&&(v=1);break}}return v},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new V(p)},s.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var E={k256:null,p224:null,p192:null,p25519:null};function I(x,p){this.name=x,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},I.prototype.ireduce=function(p){var v=p,N;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),N=v.bitLength();while(N>this.n);var O=N<this.n?-1:v.ucmp(this.p);return O===0?(v.words[0]=0,v.length=1):O>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},I.prototype.split=function(p,v){p.iushrn(this.n,0,v)},I.prototype.imulK=function(p){return p.imul(this.k)};function k(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(k,I),k.prototype.split=function(p,v){for(var N=4194303,O=Math.min(p.length,9),M=0;M<O;M++)v.words[M]=p.words[M];if(v.length=O,p.length<=9){p.words[0]=0,p.length=1;return}var B=p.words[9];for(v.words[v.length++]=B&N,M=10;M<p.length;M++){var j=p.words[M]|0;p.words[M-10]=(j&N)<<4|B>>>22,B=j}B>>>=22,p.words[M-10]=B,B===0&&p.length>10?p.length-=10:p.length-=9},k.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,N=0;N<p.length;N++){var O=p.words[N]|0;v+=O*977,p.words[N]=v&67108863,v=O*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,I);function D(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,I);function F(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,I),F.prototype.imulK=function(p){for(var v=0,N=0;N<p.length;N++){var O=(p.words[N]|0)*19+v,M=O&67108863;O>>>=26,p.words[N]=M,v=O}return v!==0&&(p.words[p.length++]=v),p},s._prime=function(p){if(E[p])return E[p];var v;if(p==="k256")v=new k;else if(p==="p224")v=new z;else if(p==="p192")v=new D;else if(p==="p25519")v=new F;else throw new Error("Unknown prime "+p);return E[p]=v,v};function V(x){if(typeof x=="string"){var p=s._prime(x);this.m=p.p,this.prime=p}else r(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}V.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},V.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},V.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},V.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},V.prototype.add=function(p,v){this._verify2(p,v);var N=p.add(v);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},V.prototype.iadd=function(p,v){this._verify2(p,v);var N=p.iadd(v);return N.cmp(this.m)>=0&&N.isub(this.m),N},V.prototype.sub=function(p,v){this._verify2(p,v);var N=p.sub(v);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},V.prototype.isub=function(p,v){this._verify2(p,v);var N=p.isub(v);return N.cmpn(0)<0&&N.iadd(this.m),N},V.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},V.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},V.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},V.prototype.isqr=function(p){return this.imul(p,p.clone())},V.prototype.sqr=function(p){return this.mul(p,p)},V.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var N=this.m.add(new s(1)).iushrn(2);return this.pow(p,N)}for(var O=this.m.subn(1),M=0;!O.isZero()&&O.andln(1)===0;)M++,O.iushrn(1);r(!O.isZero());var B=new s(1).toRed(this),j=B.redNeg(),P=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,P).cmp(j)!==0;)m.redIAdd(j);for(var L=this.pow(m,O),q=this.pow(p,O.addn(1).iushrn(1)),Q=this.pow(p,O),ne=M;Q.cmp(B)!==0;){for(var Ce=Q,_e=0;Ce.cmp(B)!==0;_e++)Ce=Ce.redSqr();r(_e<ne);var Oe=this.pow(L,new s(1).iushln(ne-_e-1));q=q.redMul(Oe),L=Oe.redSqr(),Q=Q.redMul(L),ne=_e}return q},V.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},V.prototype.pow=function(p,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var N=4,O=new Array(1<<N);O[0]=new s(1).toRed(this),O[1]=p;for(var M=2;M<O.length;M++)O[M]=this.mul(O[M-1],p);var B=O[0],j=0,P=0,m=v.bitLength()%26;for(m===0&&(m=26),M=v.length-1;M>=0;M--){for(var L=v.words[M],q=m-1;q>=0;q--){var Q=L>>q&1;if(B!==O[0]&&(B=this.sqr(B)),Q===0&&j===0){P=0;continue}j<<=1,j|=Q,P++,!(P!==N&&(M!==0||q!==0))&&(B=this.mul(B,O[j]),P=0,j=0)}m=26}return B},V.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},V.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},s.mont=function(p){return new G(p)};function G(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,V),G.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},G.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},G.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var N=p.imul(v),O=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=N.isub(O).iushrn(this.shift),B=M;return M.cmp(this.m)>=0?B=M.isub(this.m):M.cmpn(0)<0&&(B=M.iadd(this.m)),B._forceRed(this)},G.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new s(0)._forceRed(this);var N=p.mul(v),O=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=N.isub(O).iushrn(this.shift),B=M;return M.cmp(this.m)>=0?B=M.isub(this.m):M.cmpn(0)<0&&(B=M.iadd(this.m)),B._forceRed(this)},G.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,Ye)})(lb);var pM=lb.exports;const ZT=_l(pM);var mv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=cb,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(mv,mv.exports);var C3=mv.exports,bh=C3.Buffer;function N3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=bh.from(h)),!bh.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var w=0,T=0,A=0,S=h.length;A!==S&&h[A]===0;)A++,w++;for(var y=(S-A)*c+1>>>0,b=new Uint8Array(y);A!==S;){for(var C=h[A],E=0,I=y-1;(C!==0||E<T)&&I!==-1;I--,E++)C+=256*b[I]>>>0,b[I]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");T=E,A++}for(var k=y-T;k!==y&&b[k]===0;)k++;for(var z=a.repeat(w);k<y;++k)z+=t.charAt(b[k]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return bh.alloc(0);for(var w=0,T=0,A=0;h[w]===a;)T++,w++;for(var S=(h.length-w)*l+1>>>0,y=new Uint8Array(S);w<h.length;){var b=h.charCodeAt(w);if(b>255)return;var C=e[b];if(C===255)return;for(var E=0,I=S-1;(C!==0||E<A)&&I!==-1;I--,E++)C+=o*y[I]>>>0,y[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");A=E,w++}for(var k=S-A;k!==S&&y[k]===0;)k++;var z=bh.allocUnsafe(T+(S-k));z.fill(0,0,T);for(var D=T;k!==S;)z[D++]=y[k++];return z}function f(h){var w=d(h);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:f}}var M3=N3,R3=M3,x3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mM=R3(x3);const rr=_l(mM),XT=XN;var nr={};function Xs(t,e,n){return e<=t&&t<=n}function Ig(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function D3(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function O3(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var am=-1;function ub(t){this.tokens=[].slice.call(t)}ub.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():am},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Wc=-1;function C0(t,e){if(t)throw TypeError("Decoder error");return e||65533}var lm="utf-8";function cm(t,e){if(!(this instanceof cm))return new cm(t,e);if(t=t!==void 0?String(t).toLowerCase():lm,t!==lm)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ig(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}cm.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Ig(n),this._streaming||(this._decoder=new P3({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new ub(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Wc);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Wc)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),O3(s)}};function um(t,e){if(!(this instanceof um))return new um(t,e);if(t=t!==void 0?String(t).toLowerCase():lm,t!==lm)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ig(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}um.prototype={encode:function(e,n){e=e?String(e):"",n=Ig(n),this._streaming||(this._encoder=new L3(this._options)),this._streaming=!!n.stream;for(var r=[],i=new ub(D3(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Wc);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Wc;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function P3(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===am&&i!==0)return i=0,C0(e);if(l===am)return Wc;if(i===0){if(Xs(l,0,127))return l;if(Xs(l,194,223))i=1,n=l-192;else if(Xs(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Xs(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return C0(e);return n=n<<6*i,null}if(!Xs(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),C0(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function L3(t){t.fatal,this.handler=function(e,n){if(n===am)return Wc;if(Xs(n,0,127))return n;var r,i;Xs(n,128,2047)?(r=1,i=192):Xs(n,2048,65535)?(r=2,i=224):Xs(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const $3=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:cm,TextEncoder:um},Symbol.toStringTag,{value:"Module"})),B3=Fi($3);var U3=Ye&&Ye.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),F3=Ye&&Ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$s=Ye&&Ye.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},j3=Ye&&Ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&U3(e,t,n);return F3(e,t),e},gM=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nr,"__esModule",{value:!0});var yM=nr.deserializeUnchecked=EM=nr.deserialize=bM=nr.serialize=nr.BinaryReader=nr.BinaryWriter=nr.BorshError=nr.baseDecode=nr.baseEncode=void 0;const Wo=gM(pM),wM=gM(mM),z3=j3(B3),W3=typeof TextDecoder!="function"?z3.TextDecoder:TextDecoder,V3=new W3("utf-8",{fatal:!0});function H3(t){return typeof t=="string"&&(t=wr.from(t,"utf8")),wM.default.encode(wr.from(t))}nr.baseEncode=H3;function G3(t){return wr.from(wM.default.decode(t))}nr.baseDecode=G3;const N0=1024;class Nr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}nr.BorshError=Nr;class vM{constructor(){this.buf=wr.alloc(N0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=wr.concat([this.buf,wr.alloc(N0)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(wr.from(new Wo.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(wr.from(new Wo.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(wr.from(new Wo.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(wr.from(new Wo.default(e).toArray("le",64)))}writeBuffer(e){this.buf=wr.concat([wr.from(this.buf.subarray(0,this.length)),e,wr.alloc(N0)]),this.length+=e.length}writeString(e){this.maybeResize();const n=wr.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(wr.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}nr.BinaryWriter=vM;function Bs(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Nr("Reached the end of buffer when deserializing")}throw s}}}class Si{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Wo.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Wo.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Wo.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Wo.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Nr(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return V3.decode(n)}catch(r){throw new Nr(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}$s([Bs],Si.prototype,"readU8",null);$s([Bs],Si.prototype,"readU16",null);$s([Bs],Si.prototype,"readU32",null);$s([Bs],Si.prototype,"readU64",null);$s([Bs],Si.prototype,"readU128",null);$s([Bs],Si.prototype,"readU256",null);$s([Bs],Si.prototype,"readU512",null);$s([Bs],Si.prototype,"readString",null);$s([Bs],Si.prototype,"readFixedArray",null);$s([Bs],Si.prototype,"readArray",null);nr.BinaryReader=Si;function _M(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Da(t,e,n,r,i){try{if(typeof r=="string")i[`write${_M(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Nr(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Nr(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Da(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Da(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Da(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Da(t,e,o,r.key,i),Da(t,e,s,r.value,i)});break}default:throw new Nr(`FieldType ${r} unrecognized`)}else SM(t,n,i)}catch(s){throw s instanceof Nr&&s.addToFieldPath(e),s}}function SM(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Nr(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Da(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Da(t,o,e[o],a,n);break}}}else throw new Nr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function q3(t,e,n=vM){const r=new n;return SM(t,e,r),r.toArray()}var bM=nr.serialize=q3;function Oa(t,e,n,r){try{if(typeof n=="string")return r[`read${_M(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Oa(t,null,n[0],r));return i}else return r.readArray(()=>Oa(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Oa(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Oa(t,e,n.key,r),l=Oa(t,e,n.value,r);i.set(a,l)}return i}return db(t,n,r)}catch(i){throw i instanceof Nr&&i.addToFieldPath(e),i}}function db(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Nr(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Oa(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Nr(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Oa(t,s,o,n);return new e({[s]:a})}throw new Nr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function K3(t,e,n,r=Si){const i=new r(n),s=db(t,e,i);if(i.offset<n.length)throw new Nr(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var EM=nr.deserialize=K3;function Y3(t,e,n,r=Si){const i=new r(n);return db(t,e,i)}yM=nr.deserializeUnchecked=Y3;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.s16=J.s8=J.nu64be=J.u48be=J.u40be=J.u32be=J.u24be=J.u16be=Xn=J.nu64=J.u48=J.u40=ye=J.u32=J.u24=ki=J.u16=tt=J.u8=ia=J.offset=J.greedy=J.Constant=J.UTF8=J.CString=J.Blob=J.Boolean=J.BitField=J.BitStructure=J.VariantLayout=J.Union=J.UnionLayoutDiscriminator=J.UnionDiscriminator=J.Structure=J.Sequence=J.DoubleBE=J.Double=J.FloatBE=J.Float=J.NearInt64BE=J.NearInt64=J.NearUInt64BE=J.NearUInt64=J.IntBE=J.Int=J.UIntBE=J.UInt=J.OffsetLayout=J.GreedyCount=J.ExternalLayout=J.bindConstructorLayout=J.nameWithProperty=J.Layout=J.uint8ArrayToBuffer=J.checkUint8Array=void 0;J.constant=J.utf8=J.cstr=Nt=J.blob=J.unionLayoutDiscriminator=J.union=or=J.seq=J.bits=we=J.struct=J.f64be=J.f64=J.f32be=J.f32=J.ns64be=J.s48be=J.s40be=J.s32be=J.s24be=J.s16be=ai=J.ns64=J.s48=J.s40=J.s32=J.s24=void 0;const fb=cb;function yu(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}J.checkUint8Array=yu;function ot(t){return yu(t),fb.Buffer.from(t.buffer,t.byteOffset,t.length)}J.uint8ArrayToBuffer=ot;class pt{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}J.Layout=pt;function hb(t,e){return e.property?t+"["+e.property+"]":t}J.nameWithProperty=hb;function Q3(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof pt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}J.bindConstructorLayout=Q3;class jr extends pt{isCount(){throw new Error("ExternalLayout is abstract")}}J.ExternalLayout=jr;class TM extends jr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){yu(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}J.GreedyCount=TM;class pb extends jr{constructor(e,n=0,r){if(!(e instanceof pt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Di||this.layout instanceof rs}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}J.OffsetLayout=pb;class Di extends pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ot(e).readUIntLE(n,this.span)}encode(e,n,r=0){return ot(n).writeUIntLE(e,r,this.span),this.span}}J.UInt=Di;class rs extends pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ot(e).readUIntBE(n,this.span)}encode(e,n,r=0){return ot(n).writeUIntBE(e,r,this.span),this.span}}J.UIntBE=rs;class Tl extends pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ot(e).readIntLE(n,this.span)}encode(e,n,r=0){return ot(n).writeIntLE(e,r,this.span),this.span}}J.Int=Tl;class wu extends pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ot(e).readIntBE(n,this.span)}encode(e,n,r=0){return ot(n).writeIntBE(e,r,this.span),this.span}}J.IntBE=wu;const gv=Math.pow(2,32);function kg(t){const e=Math.floor(t/gv),n=t-e*gv;return{hi32:e,lo32:n}}function Ag(t,e){return t*gv+e}class IM extends pt{constructor(e){super(8,e)}decode(e,n=0){const r=ot(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Ag(s,i)}encode(e,n,r=0){const i=kg(e),s=ot(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}J.NearUInt64=IM;class kM extends pt{constructor(e){super(8,e)}decode(e,n=0){const r=ot(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Ag(i,s)}encode(e,n,r=0){const i=kg(e),s=ot(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}J.NearUInt64BE=kM;class AM extends pt{constructor(e){super(8,e)}decode(e,n=0){const r=ot(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Ag(s,i)}encode(e,n,r=0){const i=kg(e),s=ot(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}J.NearInt64=AM;class CM extends pt{constructor(e){super(8,e)}decode(e,n=0){const r=ot(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Ag(i,s)}encode(e,n,r=0){const i=kg(e),s=ot(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}J.NearInt64BE=CM;class NM extends pt{constructor(e){super(4,e)}decode(e,n=0){return ot(e).readFloatLE(n)}encode(e,n,r=0){return ot(n).writeFloatLE(e,r),4}}J.Float=NM;class MM extends pt{constructor(e){super(4,e)}decode(e,n=0){return ot(e).readFloatBE(n)}encode(e,n,r=0){return ot(n).writeFloatBE(e,r),4}}J.FloatBE=MM;class RM extends pt{constructor(e){super(8,e)}decode(e,n=0){return ot(e).readDoubleLE(n)}encode(e,n,r=0){return ot(n).writeDoubleLE(e,r),8}}J.Double=RM;class xM extends pt{constructor(e){super(8,e)}decode(e,n=0){return ot(e).readDoubleBE(n)}encode(e,n,r=0){return ot(n).writeDoubleBE(e,r),8}}J.DoubleBE=xM;class DM extends pt{constructor(e,n,r){if(!(e instanceof pt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof jr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof jr)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof jr&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof jr&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof jr&&this.count.encode(e.length,n,r),s}}J.Sequence=DM;class OM extends pt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof pt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){yu(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}J.Structure=OM;class mb{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}J.UnionDiscriminator=mb;class dm extends mb{constructor(e,n){if(!(e instanceof jr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}J.UnionLayoutDiscriminator=dm;class gb extends pt{constructor(e,n,r){let i;if(e instanceof Di||e instanceof rs)i=new dm(new pb(e));else if(e instanceof jr&&e.isCount())i=new dm(e);else if(e instanceof mb)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof pt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Di||e instanceof rs)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Di||e instanceof rs,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new PM(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}J.Union=gb;class PM extends pt{constructor(e,n,r,i){if(!(e instanceof gb))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof pt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}J.VariantLayout=PM;function Fl(t){return 0>t&&(t+=4294967296),t}class yb extends pt{constructor(e,n,r){if(!(e instanceof Di||e instanceof rs))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Fl(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new wb(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new LM(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}J.BitStructure=yb;class wb{constructor(e,n,r){if(!(e instanceof yb))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Fl(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Fl(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Fl(e&this.valueMask))throw new TypeError(hb("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Fl(e<<this.start);this.container._packedSetValue(Fl(n&~this.wordMask)|r)}}J.BitField=wb;let LM=class extends wb{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};J.Boolean=LM;let $M=class extends pt{constructor(e,n){if(!(e instanceof jr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof jr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),ot(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof jr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(hb("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=ot(e);return ot(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof jr&&this.length.encode(i,n,r),i}};J.Blob=$M;class BM extends pt{constructor(e){super(-1,e)}getSpan(e,n=0){yu(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return ot(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=fb.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=ot(n);return i.copy(o,r),o[r+s]=0,s+1}}J.CString=BM;class UM extends pt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return yu(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return ot(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=fb.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(ot(n),r),s}}J.UTF8=UM;class FM extends pt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}J.Constant=FM;J.greedy=(t,e)=>new TM(t,e);var ia=J.offset=(t,e,n)=>new pb(t,e,n),tt=J.u8=t=>new Di(1,t),ki=J.u16=t=>new Di(2,t);J.u24=t=>new Di(3,t);var ye=J.u32=t=>new Di(4,t);J.u40=t=>new Di(5,t);J.u48=t=>new Di(6,t);var Xn=J.nu64=t=>new IM(t);J.u16be=t=>new rs(2,t);J.u24be=t=>new rs(3,t);J.u32be=t=>new rs(4,t);J.u40be=t=>new rs(5,t);J.u48be=t=>new rs(6,t);J.nu64be=t=>new kM(t);J.s8=t=>new Tl(1,t);J.s16=t=>new Tl(2,t);J.s24=t=>new Tl(3,t);J.s32=t=>new Tl(4,t);J.s40=t=>new Tl(5,t);J.s48=t=>new Tl(6,t);var ai=J.ns64=t=>new AM(t);J.s16be=t=>new wu(2,t);J.s24be=t=>new wu(3,t);J.s32be=t=>new wu(4,t);J.s40be=t=>new wu(5,t);J.s48be=t=>new wu(6,t);J.ns64be=t=>new CM(t);J.f32=t=>new NM(t);J.f32be=t=>new MM(t);J.f64=t=>new RM(t);J.f64be=t=>new xM(t);var we=J.struct=(t,e,n)=>new OM(t,e,n);J.bits=(t,e,n)=>new yb(t,e,n);var or=J.seq=(t,e,n)=>new DM(t,e,n);J.union=(t,e,n)=>new gb(t,e,n);J.unionLayoutDiscriminator=(t,e)=>new dm(t,e);var Nt=J.blob=(t,e)=>new $M(t,e);J.cstr=t=>new BM(t);J.utf8=(t,e)=>new UM(t,e);J.constant=(t,e)=>new FM(t,e);var J3=8078e3,Z3=8078001,X3=8078004,eU=8078005,tU=8078006,nU=8078011;function jM(t){return Array.isArray(t)?"%5B"+t.map(jM).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function rU([t,e]){return`${t}=${jM(e)}`}function iU(t){const e=Object.entries(t).map(rU).join("&");return btoa(e)}function sU(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${iU(e)}'`),`${n}\``}}var Tc=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=sU(e,r);super(s,i);Cn(this,"cause",this.cause);Cn(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function oU(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function aU(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(oU(e,t));return t.write(e,n,0),n}})}function lU(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function $l(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function cU(t,e){if($l(t)!==$l(e))throw new Tc(X3);if($l(t)&&$l(e)&&t.fixedSize!==e.fixedSize)throw new Tc(eU,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!$l(t)&&!$l(e)&&t.maxSize!==e.maxSize)throw new Tc(tU,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function uU(t,e,n=0){if(e.length-n<=0)throw new Tc(J3,{codecDescription:t})}function dU(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Tc(Z3,{bytesLength:i,codecDescription:t,expected:e})}function fU(t,e,n,r){if(r<e||r>n)throw new Tc(nU,{codecDescription:t,max:n,min:e,value:r})}function zM(t){return(t==null?void 0:t.endian)!==1}function hU(t){return aU({fixedSize:t.size,write(e,n,r){t.range&&fU(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,zM(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function pU(t){return lU({fixedSize:t.size,read(e,n=0){uU(t.name,e,n),dU(t.name,t.size,e,n);const r=new DataView(mU(e,n,t.size));return[t.get(r,zM(t.config)),n+t.size]}})}function mU(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var WM=(t={})=>hU({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),gU=(t={})=>pU({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),yU=(t={})=>cU(WM(t),gU(t));class wU extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function vU(t){return Mf(t)&&typeof t[Symbol.iterator]=="function"}function Mf(t){return typeof t=="object"&&t!=null}function fm(t){return Mf(t)&&!Array.isArray(t)}function ls(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function _U(t){const{done:e,value:n}=t.next();return e?void 0:n}function SU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ls(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*eI(t,e,n,r){vU(t)||(t=[t]);for(const i of t){const s=SU(i,e,n,r);s&&(yield s)}}function*vb(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of e.entries(t,a)){const f=vb(u,d,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(l=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(u=h[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):Mf(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Us=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return eI(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return eI(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return VM(e,this,n)}create(e,n){return ue(e,this,n)}is(e){return HM(e,this)}mask(e,n){return bU(e,this,n)}validate(e,n={}){return Rf(e,this,n)}};function VM(t,e,n){const r=Rf(t,e,{message:n});if(r[0])throw r[0]}function ue(t,e,n){const r=Rf(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function bU(t,e,n){const r=Rf(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function HM(t,e){return!Rf(t,e)[0]}function Rf(t,e,n={}){const r=vb(t,e,n),i=_U(r);return i[0]?[new wU(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Il(t,e){return new Us({type:t,schema:null,validator:e})}function EU(){return Il("any",()=>!0)}function de(t){return new Us({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ls(e)}`}})}function Ds(){return Il("boolean",t=>typeof t=="boolean")}function _b(t){return Il("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ls(e)}`)}function Wt(t){const e=ls(t),n=typeof t;return new Us({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ls(r)}`}})}function TU(){return Il("never",()=>!1)}function he(t){return new Us({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Y(){return Il("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ls(t)}`)}function ke(t){return new Us({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function GM(t,e){return new Us({type:"record",schema:null,*entries(n){if(Mf(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return fm(n)||`Expected an object, but received: ${ls(n)}`},coercer(n){return fm(n)?{...n}:n}})}function ae(){return Il("string",t=>typeof t=="string"||`Expected a string, but received: ${ls(t)}`)}function Sb(t){const e=TU();return new Us({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ls(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function re(t){const e=Object.keys(t);return new Us({type:"type",schema:t,*entries(n){if(Mf(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return fm(n)||`Expected an object, but received: ${ls(n)}`},coercer(n){return fm(n)?{...n}:n}})}function xr(t){const e=t.map(n=>n.type).join(" | ");return new Us({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=vb(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ls(n)}`,...i]}})}function vu(){return Il("unknown",()=>!0)}function xf(t,e,n){return new Us({...t,coercer:(r,i)=>HM(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Eh,IU=new Uint8Array(16);function qM(){if(!Eh&&(Eh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Eh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eh(IU)}const kU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Cg(t){return typeof t=="string"&&kU.test(t)}var Zn=[];for(var M0=0;M0<256;++M0)Zn.push((M0+256).toString(16).substr(1));function Ng(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Zn[t[e+0]]+Zn[t[e+1]]+Zn[t[e+2]]+Zn[t[e+3]]+"-"+Zn[t[e+4]]+Zn[t[e+5]]+"-"+Zn[t[e+6]]+Zn[t[e+7]]+"-"+Zn[t[e+8]]+Zn[t[e+9]]+"-"+Zn[t[e+10]]+Zn[t[e+11]]+Zn[t[e+12]]+Zn[t[e+13]]+Zn[t[e+14]]+Zn[t[e+15]]).toLowerCase();if(!Cg(n))throw TypeError("Stringified UUID is invalid");return n}var tI,R0,x0=0,D0=0;function AU(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||tI,o=t.clockseq!==void 0?t.clockseq:R0;if(s==null||o==null){var a=t.random||(t.rng||qM)();s==null&&(s=tI=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=R0=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:D0+1,u=l-x0+(c-D0)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>x0)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x0=l,D0=c,R0=o,l+=122192928e5;var d=((l&268435455)*1e4+c)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var f=l/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var h=0;h<6;++h)i[r+h]=s[h];return e||Ng(i)}function KM(t){if(!Cg(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function CU(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var NU="6ba7b810-9dad-11d1-80b4-00c04fd430c8",MU="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function YM(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=CU(i)),typeof s=="string"&&(s=KM(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return Ng(l)}try{r.name=t}catch{}return r.DNS=NU,r.URL=MU,r}function RU(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return xU(DU(OU(t),t.length*8))}function xU(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function QM(t){return(t+64>>>9<<4)+14+1}function DU(t,e){t[e>>5]|=128<<e%32,t[QM(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=hr(n,r,i,s,t[o],7,-680876936),s=hr(s,n,r,i,t[o+1],12,-389564586),i=hr(i,s,n,r,t[o+2],17,606105819),r=hr(r,i,s,n,t[o+3],22,-1044525330),n=hr(n,r,i,s,t[o+4],7,-176418897),s=hr(s,n,r,i,t[o+5],12,1200080426),i=hr(i,s,n,r,t[o+6],17,-1473231341),r=hr(r,i,s,n,t[o+7],22,-45705983),n=hr(n,r,i,s,t[o+8],7,1770035416),s=hr(s,n,r,i,t[o+9],12,-1958414417),i=hr(i,s,n,r,t[o+10],17,-42063),r=hr(r,i,s,n,t[o+11],22,-1990404162),n=hr(n,r,i,s,t[o+12],7,1804603682),s=hr(s,n,r,i,t[o+13],12,-40341101),i=hr(i,s,n,r,t[o+14],17,-1502002290),r=hr(r,i,s,n,t[o+15],22,1236535329),n=pr(n,r,i,s,t[o+1],5,-165796510),s=pr(s,n,r,i,t[o+6],9,-1069501632),i=pr(i,s,n,r,t[o+11],14,643717713),r=pr(r,i,s,n,t[o],20,-373897302),n=pr(n,r,i,s,t[o+5],5,-701558691),s=pr(s,n,r,i,t[o+10],9,38016083),i=pr(i,s,n,r,t[o+15],14,-660478335),r=pr(r,i,s,n,t[o+4],20,-405537848),n=pr(n,r,i,s,t[o+9],5,568446438),s=pr(s,n,r,i,t[o+14],9,-1019803690),i=pr(i,s,n,r,t[o+3],14,-187363961),r=pr(r,i,s,n,t[o+8],20,1163531501),n=pr(n,r,i,s,t[o+13],5,-1444681467),s=pr(s,n,r,i,t[o+2],9,-51403784),i=pr(i,s,n,r,t[o+7],14,1735328473),r=pr(r,i,s,n,t[o+12],20,-1926607734),n=mr(n,r,i,s,t[o+5],4,-378558),s=mr(s,n,r,i,t[o+8],11,-2022574463),i=mr(i,s,n,r,t[o+11],16,1839030562),r=mr(r,i,s,n,t[o+14],23,-35309556),n=mr(n,r,i,s,t[o+1],4,-1530992060),s=mr(s,n,r,i,t[o+4],11,1272893353),i=mr(i,s,n,r,t[o+7],16,-155497632),r=mr(r,i,s,n,t[o+10],23,-1094730640),n=mr(n,r,i,s,t[o+13],4,681279174),s=mr(s,n,r,i,t[o],11,-358537222),i=mr(i,s,n,r,t[o+3],16,-722521979),r=mr(r,i,s,n,t[o+6],23,76029189),n=mr(n,r,i,s,t[o+9],4,-640364487),s=mr(s,n,r,i,t[o+12],11,-421815835),i=mr(i,s,n,r,t[o+15],16,530742520),r=mr(r,i,s,n,t[o+2],23,-995338651),n=gr(n,r,i,s,t[o],6,-198630844),s=gr(s,n,r,i,t[o+7],10,1126891415),i=gr(i,s,n,r,t[o+14],15,-1416354905),r=gr(r,i,s,n,t[o+5],21,-57434055),n=gr(n,r,i,s,t[o+12],6,1700485571),s=gr(s,n,r,i,t[o+3],10,-1894986606),i=gr(i,s,n,r,t[o+10],15,-1051523),r=gr(r,i,s,n,t[o+1],21,-2054922799),n=gr(n,r,i,s,t[o+8],6,1873313359),s=gr(s,n,r,i,t[o+15],10,-30611744),i=gr(i,s,n,r,t[o+6],15,-1560198380),r=gr(r,i,s,n,t[o+13],21,1309151649),n=gr(n,r,i,s,t[o+4],6,-145523070),s=gr(s,n,r,i,t[o+11],10,-1120210379),i=gr(i,s,n,r,t[o+2],15,718787259),r=gr(r,i,s,n,t[o+9],21,-343485551),n=Vo(n,a),r=Vo(r,l),i=Vo(i,c),s=Vo(s,u)}return[n,r,i,s]}function OU(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(QM(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Vo(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function PU(t,e){return t<<e|t>>>32-e}function Mg(t,e,n,r,i,s){return Vo(PU(Vo(Vo(e,t),Vo(r,s)),i),n)}function hr(t,e,n,r,i,s,o){return Mg(e&n|~e&r,t,e,i,s,o)}function pr(t,e,n,r,i,s,o){return Mg(e&r|n&~r,t,e,i,s,o)}function mr(t,e,n,r,i,s,o){return Mg(e^n^r,t,e,i,s,o)}function gr(t,e,n,r,i,s,o){return Mg(n^(e|~r),t,e,i,s,o)}var LU=YM("v3",48,RU);function $U(t,e,n){t=t||{};var r=t.random||(t.rng||qM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Ng(r)}function BU(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function O0(t,e){return t<<e|t>>>32-e}function UU(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=a[d][h];for(var w=16;w<80;++w)f[w]=O0(f[w-3]^f[w-8]^f[w-14]^f[w-16],1);for(var T=n[0],A=n[1],S=n[2],y=n[3],b=n[4],C=0;C<80;++C){var E=Math.floor(C/20),I=O0(T,5)+BU(E,A,S,y)+b+e[E]+f[C]>>>0;b=y,y=S,S=O0(A,30)>>>0,A=T,T=I}n[0]=n[0]+T>>>0,n[1]=n[1]+A>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var FU=YM("v5",80,UU);const jU="00000000-0000-0000-0000-000000000000";function zU(t){if(!Cg(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const WU=Object.freeze(Object.defineProperty({__proto__:null,NIL:jU,parse:KM,stringify:Ng,v1:AU,v3:LU,v4:$U,v5:FU,validate:Cg,version:zU},Symbol.toStringTag,{value:"Module"})),JM=Fi(WU),VU=JM.v4,HU=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return VU()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var GU=HU;const qU=JM.v4,KU=GU,sf=function(t,e){if(!(this instanceof sf))return new sf(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return qU()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var YU=sf;sf.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=KU(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};sf.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const QU=_l(YU);var ZM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),w=n?n+c:c;return l._events[w]?l._events[w].fn?l._events[w]=[l._events[w],h]:l._events[w].push(h):(l._events[w]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,w=new Array(h);f<h;f++)w[f]=d[f].fn;return w},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,w){var T=n?n+c:c;if(!this._events[T])return!1;var A=this._events[T],S=arguments.length,y,b;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,u),!0;case 3:return A.fn.call(A.context,u,d),!0;case 4:return A.fn.call(A.context,u,d,f),!0;case 5:return A.fn.call(A.context,u,d,f,h),!0;case 6:return A.fn.call(A.context,u,d,f,h,w),!0}for(b=1,y=new Array(S-1);b<S;b++)y[b-1]=arguments[b];A.fn.apply(A.context,y)}else{var C=A.length,E;for(b=0;b<C;b++)switch(A[b].once&&this.removeListener(c,A[b].fn,void 0,!0),S){case 1:A[b].fn.call(A[b].context);break;case 2:A[b].fn.call(A[b].context,u);break;case 3:A[b].fn.call(A[b].context,u,d);break;case 4:A[b].fn.call(A[b].context,u,d,f);break;default:if(!y)for(E=1,y=new Array(S-1);E<S;E++)y[E-1]=arguments[E];A[b].fn.apply(A[b].context,y)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var w=this._events[h];if(w.fn)w.fn===u&&(!f||w.once)&&(!d||w.context===d)&&o(this,h);else{for(var T=0,A=[],S=w.length;T<S;T++)(w[T].fn!==u||f&&!w[T].once||d&&w[T].context!==d)&&A.push(w[T]);A.length?this._events[h]=A.length===1?A[0]:A:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(ZM);var JU=ZM.exports;const Rg=_l(JU);var ZU=class extends Rg{constructor(e,n,r){super();Cn(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function XU(t,e){return new ZU(t,e)}var eF=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},tF=class extends Rg{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},l,c){super();Cn(this,"address");Cn(this,"rpc_id");Cn(this,"queue");Cn(this,"options");Cn(this,"autoconnect");Cn(this,"ready");Cn(this,"reconnect");Cn(this,"reconnect_timer_id");Cn(this,"reconnect_interval");Cn(this,"max_reconnects");Cn(this,"rest_options");Cn(this,"current_reconnects");Cn(this,"generate_request_id");Cn(this,"socket");Cn(this,"webSocketFactory");Cn(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new eF,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return o(c);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ae.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const nF=BigInt(0),Fu=BigInt(1),rF=BigInt(2),iF=BigInt(7),sF=BigInt(256),oF=BigInt(113),XM=[],eR=[],tR=[];for(let t=0,e=Fu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],XM.push(2*(5*r+n)),eR.push((t+1)*(t+2)/2%64);let i=nF;for(let s=0;s<7;s++)e=(e<<Fu^(e>>iF)*oF)%sF,e&rF&&(i^=Fu<<(Fu<<BigInt(s))-Fu);tR.push(i)}const nR=JN(tR,!0),aF=nR[0],lF=nR[1],nI=(t,e,n)=>n>32?L4(t,e,n):O4(t,e,n),rI=(t,e,n)=>n>32?$4(t,e,n):P4(t,e,n);function cF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=nI(c,u,1)^n[a],f=rI(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=eR[o],l=nI(i,s,a),c=rI(i,s,a),u=XM[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=aF[r],t[1]^=lF[r]}fa(n)}class bb extends ib{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,nf(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=T4(this.state)}clone(){return this._cloneInto()}keccak(){FT(this.state32),cF(this.state32,this.rounds),FT(this.state32),this.posOut=0,this.pos=0}update(e){Fc(this),e=_g(e),Li(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Fc(this,!1),Li(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fa(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new bb(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const uF=(t,e,n)=>sb(()=>new bb(e,t,n)),iI=uF(1,136,256/8);class rR extends ib{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,E4(e);const r=_g(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),fa(s)}update(e){return Fc(this),this.iHash.update(e),this}digestInto(e){Fc(this),Li(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iR=(t,e,n)=>new rR(t,e).update(n).digest();iR.create=(t,e)=>new rR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sI(t){t.lowS!==void 0&&ll("lowS",t.lowS),t.prehash!==void 0&&ll("prehash",t.prehash)}class dF extends Error{constructor(e=""){super(e)}}const Js={Err:dF,_tlv:{encode:(t,e)=>{const{Err:n}=Js;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Sh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Sh(i.length/2|128):"";return Sh(t)+s+i+e},decode(t,e){const{Err:n}=Js;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Js;if(t<bd)throw new e("integer: negative integers are not allowed");let n=Sh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Js;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Sg(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Js,i=an("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Js,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},bd=BigInt(0),Ed=BigInt(1),fF=BigInt(2),Th=BigInt(3),hF=BigInt(4);function pF(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function sR(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=an("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function mF(t,e={}){const{Fp:n,Fn:r}=hM("weierstrass",t,e),{h:i,n:s}=t;Nf(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(z,D,F){const{x:V,y:G}=D.toAffine(),x=n.toBytes(V);if(ll("isCompressed",F),F){a();const p=!n.isOdd(G);return so(oR(p),x)}else return so(Uint8Array.of(4),x,n.toBytes(G))}function c(z){Li(z);const D=n.BYTES,F=D+1,V=2*D+1,G=z.length,x=z[0],p=z.subarray(1);if(G===F&&(x===2||x===3)){const v=n.fromBytes(p);if(!n.isValid(v))throw new Error("bad point: is not on curve, wrong x");const N=f(v);let O;try{O=n.sqrt(N)}catch(j){const P=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+P)}a();const M=n.isOdd(O);return(x&1)===1!==M&&(O=n.neg(O)),{x:v,y:O}}else if(G===V&&x===4){const v=n.fromBytes(p.subarray(D*0,D*1)),N=n.fromBytes(p.subarray(D*1,D*2));if(!h(v,N))throw new Error("bad point: is not on curve");return{x:v,y:N}}else throw new Error(`bad point: got length ${G}, expected compressed=${F} or uncompressed=${V}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=pF(n,t.a,t.b);function h(z,D){const F=n.sqr(D),V=f(z);return n.eql(F,V)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const w=n.mul(n.pow(t.a,Th),hF),T=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(w,T)))throw new Error("bad curve params: a or b");function A(z,D,F=!1){if(!n.isValid(D)||F&&n.is0(D))throw new Error(`bad point coordinate ${z}`);return D}function S(z){if(!(z instanceof E))throw new Error("ProjectivePoint expected")}const y=om((z,D)=>{const{px:F,py:V,pz:G}=z;if(n.eql(G,n.ONE))return{x:F,y:V};const x=z.is0();D==null&&(D=x?n.ONE:n.inv(G));const p=n.mul(F,D),v=n.mul(V,D),N=n.mul(G,D);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:p,y:v}}),b=om(z=>{if(z.is0()){if(e.allowInfinityPoint&&!n.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:D,y:F}=z.toAffine();if(!n.isValid(D)||!n.isValid(F))throw new Error("bad point: x or y not field elements");if(!h(D,F))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(z,D,F,V,G){return F=new E(n.mul(F.px,z),F.py,F.pz),D=Sd(V,D),F=Sd(G,F),D.add(F)}class E{constructor(D,F,V){this.px=A("x",D),this.py=A("y",F,!0),this.pz=A("z",V),Object.freeze(this)}static fromAffine(D){const{x:F,y:V}=D||{};if(!D||!n.isValid(F)||!n.isValid(V))throw new Error("invalid affine point");if(D instanceof E)throw new Error("projective point not allowed");return n.is0(F)&&n.is0(V)?E.ZERO:new E(F,V,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){return lM(E,"pz",D)}static fromBytes(D){return Li(D),E.fromHex(D)}static fromHex(D){const F=E.fromAffine(d(an("pointHex",D)));return F.assertValidity(),F}static fromPrivateKey(D){const F=sR(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(F(D))}static msm(D,F){return fM(E,r,D,F)}precompute(D=8,F=!0){return k.setWindowSize(this,D),F||this.multiply(Th),this}_setWindowSize(D){this.precompute(D)}assertValidity(){b(this)}hasEvenY(){const{y:D}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(D)}equals(D){S(D);const{px:F,py:V,pz:G}=this,{px:x,py:p,pz:v}=D,N=n.eql(n.mul(F,v),n.mul(x,G)),O=n.eql(n.mul(V,v),n.mul(p,G));return N&&O}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:D,b:F}=t,V=n.mul(F,Th),{px:G,py:x,pz:p}=this;let v=n.ZERO,N=n.ZERO,O=n.ZERO,M=n.mul(G,G),B=n.mul(x,x),j=n.mul(p,p),P=n.mul(G,x);return P=n.add(P,P),O=n.mul(G,p),O=n.add(O,O),v=n.mul(D,O),N=n.mul(V,j),N=n.add(v,N),v=n.sub(B,N),N=n.add(B,N),N=n.mul(v,N),v=n.mul(P,v),O=n.mul(V,O),j=n.mul(D,j),P=n.sub(M,j),P=n.mul(D,P),P=n.add(P,O),O=n.add(M,M),M=n.add(O,M),M=n.add(M,j),M=n.mul(M,P),N=n.add(N,M),j=n.mul(x,p),j=n.add(j,j),M=n.mul(j,P),v=n.sub(v,M),O=n.mul(j,B),O=n.add(O,O),O=n.add(O,O),new E(v,N,O)}add(D){S(D);const{px:F,py:V,pz:G}=this,{px:x,py:p,pz:v}=D;let N=n.ZERO,O=n.ZERO,M=n.ZERO;const B=t.a,j=n.mul(t.b,Th);let P=n.mul(F,x),m=n.mul(V,p),L=n.mul(G,v),q=n.add(F,V),Q=n.add(x,p);q=n.mul(q,Q),Q=n.add(P,m),q=n.sub(q,Q),Q=n.add(F,G);let ne=n.add(x,v);return Q=n.mul(Q,ne),ne=n.add(P,L),Q=n.sub(Q,ne),ne=n.add(V,G),N=n.add(p,v),ne=n.mul(ne,N),N=n.add(m,L),ne=n.sub(ne,N),M=n.mul(B,Q),N=n.mul(j,L),M=n.add(N,M),N=n.sub(m,M),M=n.add(m,M),O=n.mul(N,M),m=n.add(P,P),m=n.add(m,P),L=n.mul(B,L),Q=n.mul(j,Q),m=n.add(m,L),L=n.sub(P,L),L=n.mul(B,L),Q=n.add(Q,L),P=n.mul(m,Q),O=n.add(O,P),P=n.mul(ne,Q),N=n.mul(q,N),N=n.sub(N,P),P=n.mul(q,m),M=n.mul(ne,M),M=n.add(M,P),new E(N,O,M)}subtract(D){return this.add(D.negate())}is0(){return this.equals(E.ZERO)}multiply(D){const{endo:F}=e;if(!r.isValidNot0(D))throw new Error("invalid scalar: out of range");let V,G;const x=p=>k.wNAFCached(this,p,E.normalizeZ);if(F){const{k1neg:p,k1:v,k2neg:N,k2:O}=F.splitScalar(D),{p:M,f:B}=x(v),{p:j,f:P}=x(O);G=B.add(P),V=C(F.beta,M,j,p,N)}else{const{p,f:v}=x(D);V=p,G=v}return E.normalizeZ([V,G])[0]}multiplyUnsafe(D){const{endo:F}=e,V=this;if(!r.isValid(D))throw new Error("invalid scalar: out of range");if(D===bd||V.is0())return E.ZERO;if(D===Ed)return V;if(k.hasPrecomputes(this))return this.multiply(D);if(F){const{k1neg:G,k1:x,k2neg:p,k2:v}=F.splitScalar(D),{p1:N,p2:O}=d3(E,V,x,v);return C(F.beta,N,O,G,p)}else return k.wNAFCachedUnsafe(V,D)}multiplyAndAddUnsafe(D,F,V){const G=this.multiplyUnsafe(F).add(D.multiplyUnsafe(V));return G.is0()?void 0:G}toAffine(D){return y(this,D)}isTorsionFree(){const{isTorsionFree:D}=e;return i===Ed?!0:D?D(E,this):k.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:D}=e;return i===Ed?this:D?D(E,this):this.multiplyUnsafe(i)}toBytes(D=!0){return ll("isCompressed",D),this.assertValidity(),u(E,this,D)}toRawBytes(D=!0){return this.toBytes(D)}toHex(D=!0){return jc(this.toBytes(D))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const I=r.BITS,k=dM(E,e.endo?Math.ceil(I/2):I);return E}function oR(t){return Uint8Array.of(t?2:3)}function gF(t,e,n={}){Nf(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||YN,i=e.hmac||((V,...G)=>iR(e.hash,V,so(...G))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(V){const G=a>>Ed;return V>G}function u(V){return c(V)?o.neg(V):V}function d(V,G){if(!o.isValidNot0(G))throw new Error(`invalid signature ${V}: out of range 1..CURVE.n`)}class f{constructor(G,x,p){d("r",G),d("s",x),this.r=G,this.s=x,p!=null&&(this.recovery=p),Object.freeze(this)}static fromCompact(G){const x=o.BYTES,p=an("compactSignature",G,x*2);return new f(o.fromBytes(p.subarray(0,x)),o.fromBytes(p.subarray(x,x*2)))}static fromDER(G){const{r:x,s:p}=Js.toSig(an("DER",G));return new f(x,p)}assertValidity(){}addRecoveryBit(G){return new f(this.r,this.s,G)}recoverPublicKey(G){const x=s.ORDER,{r:p,s:v,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*fF<x&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=N===2||N===3?p+a:p;if(!s.isValid(M))throw new Error("recovery id 2 or 3 invalid");const B=s.toBytes(M),j=t.fromHex(so(oR((N&1)===0),B)),P=o.inv(M),m=b(an("msgHash",G)),L=o.create(-m*P),q=o.create(v*P),Q=t.BASE.multiplyUnsafe(L).add(j.multiplyUnsafe(q));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(G){if(G==="compact")return so(o.toBytes(this.r),o.toBytes(this.s));if(G==="der")return rb(Js.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return jc(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return jc(this.toBytes("compact"))}}const h=sR(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),w={isValidPrivateKey(V){try{return h(V),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const V=a;return l3(r(aM(V)),V)},precompute(V=8,G=t.BASE){return G.precompute(V,!1)}};function T(V,G=!0){return t.fromPrivateKey(V).toBytes(G)}function A(V){if(typeof V=="bigint")return!1;if(V instanceof t)return!0;const x=an("key",V).length,p=s.BYTES,v=p+1,N=2*p+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===v))return x===v||x===N}function S(V,G,x=!0){if(A(V)===!0)throw new Error("first arg must be private key");if(A(G)===!1)throw new Error("second arg must be public key");return t.fromHex(G).multiply(h(V)).toBytes(x)}const y=e.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const G=Sg(V),x=V.length*8-l;return x>0?G>>BigInt(x):G},b=e.bits2int_modN||function(V){return o.create(y(V))},C=Eg(l);function E(V){return uc("num < 2^"+l,V,bd,C),o.toBytes(V)}function I(V,G,x=k){if(["recovered","canonical"].some(q=>q in x))throw new Error("sign() legacy options not supported");const{hash:p}=e;let{lowS:v,prehash:N,extraEntropy:O}=x;v==null&&(v=!0),V=an("msgHash",V),sI(x),N&&(V=an("prehashed msgHash",p(V)));const M=b(V),B=h(G),j=[E(B),E(M)];if(O!=null&&O!==!1){const q=O===!0?r(s.BYTES):O;j.push(an("extraEntropy",q))}const P=so(...j),m=M;function L(q){const Q=y(q);if(!o.isValidNot0(Q))return;const ne=o.inv(Q),Ce=t.BASE.multiply(Q).toAffine(),_e=o.create(Ce.x);if(_e===bd)return;const Oe=o.create(ne*o.create(m+_e*B));if(Oe===bd)return;let ti=(Ce.x===_e?0:2)|Number(Ce.y&Ed),ze=Oe;return v&&c(Oe)&&(ze=u(Oe),ti^=1),new f(_e,ze,ti)}return{seed:P,k2sig:L}}const k={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function D(V,G,x=k){const{seed:p,k2sig:v}=I(V,G,x);return Z4(e.hash.outputLen,o.BYTES,i)(p,v)}t.BASE.precompute(8);function F(V,G,x,p=z){const v=V;G=an("msgHash",G),x=an("publicKey",x),sI(p);const{lowS:N,prehash:O,format:M}=p;if("strict"in p)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&!["compact","der","js"].includes(M))throw new Error('format must be "compact", "der" or "js"');const B=typeof v=="string"||nb(v),j=!B&&!M&&typeof v=="object"&&v!==null&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!B&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let P,m;try{if(j)if(M===void 0||M==="js")P=new f(v.r,v.s);else throw new Error("invalid format");if(B){try{M!=="compact"&&(P=f.fromDER(v))}catch(ze){if(!(ze instanceof Js.Err))throw ze}!P&&M!=="der"&&(P=f.fromCompact(v))}m=t.fromHex(x)}catch{return!1}if(!P||N&&P.hasHighS())return!1;O&&(G=e.hash(G));const{r:L,s:q}=P,Q=b(G),ne=o.inv(q),Ce=o.create(Q*ne),_e=o.create(L*ne),Oe=t.BASE.multiplyUnsafe(Ce).add(m.multiplyUnsafe(_e));return Oe.is0()?!1:o.create(Oe.x)===L}return Object.freeze({getPublicKey:T,getSharedSecret:S,sign:D,verify:F,utils:w,Point:t,Signature:f})}function yF(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=gu(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function wF(t){const{CURVE:e,curveOpts:n}=yF(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function vF(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function _F(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=wF(t),i=mF(e,n),s=gF(i,r,n);return vF(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SF(t,e){const n=r=>_F({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const bF=BigInt(1),yv=BigInt(2),oI=(t,e)=>(t+e/yv)/e;function EF(t){const e=hm.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=en(u,n,e)*u%e,f=en(d,n,e)*u%e,h=en(f,yv,e)*c%e,w=en(h,i,e)*h%e,T=en(w,s,e)*w%e,A=en(T,a,e)*T%e,S=en(A,l,e)*A%e,y=en(S,a,e)*T%e,b=en(y,n,e)*u%e,C=en(b,o,e)*w%e,E=en(C,r,e)*c%e,I=en(E,yv,e);if(!wv.eql(wv.sqr(I),t))throw new Error("Cannot find square root");return I}const wv=gu(hm.p,void 0,void 0,{sqrt:EF}),Eb=SF({...hm,Fp:wv,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hm.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bF*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=oI(s*t,e),l=oI(-r*t,e);let c=ln(t-a*n-l*i,e),u=ln(-a*r-l*s,e);const d=c>o,f=u>o;if(d&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},XN),TF=El.utils.randomPrivateKey,aI=()=>{const t=El.utils.randomPrivateKey(),e=pm(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},pm=El.getPublicKey;function lI(t){try{return El.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Tb=(t,e)=>El.sign(t,e.slice(0,32)),IF=El.verify,$e=t=>Ae.isBuffer(t)?t:t instanceof Uint8Array?Ae.from(t.buffer,t.byteOffset,t.byteLength):Ae.from(t);class Ib{constructor(e){Object.assign(this,e)}encode(){return Ae.from(bM(Td,this))}static decode(e){return EM(Td,this,e)}static decodeUnchecked(e){return yM(Td,this,e)}}class kF extends Ib{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Td=new Map;var aR;const lR=32,Ms=32;function AF(t){return t._bn!==void 0}let cI=1;class oe extends Ib{constructor(e){if(super({}),this._bn=void 0,AF(e))this._bn=e._bn;else{if(typeof e=="string"){const n=rr.decode(e);if(n.length!=Ms)throw new Error("Invalid public key input");this._bn=new ZT(n)}else this._bn=new ZT(e);if(this._bn.byteLength()>Ms)throw new Error("Invalid public key input")}}static unique(){const e=new oe(cI);return cI+=1,new oe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return rr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ae);if(e.length===Ms)return e;const n=Ae.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Ae.concat([e.toBuffer(),Ae.from(n),r.toBuffer()]),s=XT(i);return new oe(s)}static createProgramAddressSync(e,n){let r=Ae.alloc(0);e.forEach(function(s){if(s.length>lR)throw new TypeError("Max seed length exceeded");r=Ae.concat([r,$e(s)])}),r=Ae.concat([r,n.toBuffer(),Ae.from("ProgramDerivedAddress")]);const i=XT(r);if(lI(i))throw new Error("Invalid seeds, address must fall off the curve");return new oe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Ae.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new oe(e);return lI(n.toBytes())}}aR=oe;oe.default=new aR("11111111111111111111111111111111");Td.set(oe,{kind:"struct",fields:[["_bn","u256"]]});class CF{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=$e(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=$e(TF()),this._publicKey=$e(pm(this._secretKey))}get publicKey(){return new oe(this._publicKey)}get secretKey(){return Ae.concat([this._secretKey,this._publicKey],64)}}const NF=new oe("BPFLoader1111111111111111111111111111111111"),sa=1232,xg=127,Vc=64;class kb extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(kb.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ab extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ab.prototype,"name",{value:"TransactionExpiredTimeoutError"});class dc extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dc.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class of{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const We=(t="publicKey")=>Nt(32,t),MF=(t="signature")=>Nt(64,t),Wa=(t="string")=>{const e=we([ye("length"),ye("lengthPadding"),Nt(ia(ye(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Ae.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ye().span+ye().span+Ae.from(s,"utf8").length,i},RF=(t="authorized")=>we([We("staker"),We("withdrawer")],t),xF=(t="lockup")=>we([ai("unixTimestamp"),ai("epoch"),We("custodian")],t),DF=(t="voteInit")=>we([We("nodePubkey"),We("authorizedVoter"),We("authorizedWithdrawer"),tt("commission")],t),OF=(t="voteAuthorizeWithSeedArgs")=>we([ye("voteAuthorizationType"),We("currentAuthorityDerivedKeyOwnerPubkey"),Wa("currentAuthorityDerivedKeySeed"),We("newAuthorized")],t);function cR(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return cR({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Br(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function li(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function it(t,e){if(!t)throw new Error(e||"Assertion failed")}class Dg{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Dg(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];it(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{it(n.length>0,"Expected at least one writable signer key");const[l]=n[0];it(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new oe(l)),...r.map(([l])=>new oe(l)),...i.map(([l])=>new oe(l)),...s.map(([l])=>new oe(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new oe(s),l=e.findIndex(c=>c.equals(a));l>=0&&(it(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const uR="Reached end of buffer unexpectedly";function bs(t){if(t.length===0)throw new Error(uR);return t.shift()}function Ur(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(uR);return t.splice(...e)}class cs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new oe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:rr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new of(this.staticAccountKeys)}static compile(e){const n=Dg.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new of(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:rr.encode(a.data)}));return new cs({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];li(n,e);const r=this.instructions.map(d=>{const{accounts:f,programIdIndex:h}=d,w=Array.from(rr.decode(d.data));let T=[];li(T,f.length);let A=[];return li(A,w.length),{programIdIndex:h,keyIndicesCount:Ae.from(T),keyIndices:f,dataLength:Ae.from(A),data:w}});let i=[];li(i,r.length);let s=Ae.alloc(sa);Ae.from(i).copy(s);let o=i.length;r.forEach(d=>{const h=we([tt("programIdIndex"),Nt(d.keyIndicesCount.length,"keyIndicesCount"),or(tt("keyIndex"),d.keyIndices.length,"keyIndices"),Nt(d.dataLength.length,"dataLength"),or(tt("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=h}),s=s.slice(0,o);const a=we([Nt(1,"numRequiredSignatures"),Nt(1,"numReadonlySignedAccounts"),Nt(1,"numReadonlyUnsignedAccounts"),Nt(n.length,"keyCount"),or(We("key"),e,"keys"),We("recentBlockhash")]),l={numRequiredSignatures:Ae.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ae.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ae.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ae.from(n),keys:this.accountKeys.map(d=>$e(d.toBytes())),recentBlockhash:rr.decode(this.recentBlockhash)};let c=Ae.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=bs(n);if(r!==(r&xg))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=bs(n),s=bs(n),o=Br(n);let a=[];for(let f=0;f<o;f++){const h=Ur(n,0,Ms);a.push(new oe(Ae.from(h)))}const l=Ur(n,0,Ms),c=Br(n);let u=[];for(let f=0;f<c;f++){const h=bs(n),w=Br(n),T=Ur(n,0,w),A=Br(n),S=Ur(n,0,A),y=rr.encode(Ae.from(S));u.push({programIdIndex:h,accounts:T,data:y})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:rr.encode(Ae.from(l)),accountKeys:a,instructions:u};return new cs(d)}}class cl{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new of(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Dg.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const d=n.extractTableLookup(u);if(d!==void 0){const[f,{writable:h,readonly:w}]=d;r.push(f),i.writable.push(...h),i.readonly.push(...w)}}const[o,a]=n.getMessageComponents(),c=new of(a,i).compileInstructions(e.instructions);return new cl({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();li(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();li(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();li(s,this.addressTableLookups.length);const o=we([tt("prefix"),we([tt("numRequiredSignatures"),tt("numReadonlySignedAccounts"),tt("numReadonlyUnsignedAccounts")],"header"),Nt(e.length,"staticAccountKeysLength"),or(We(),this.staticAccountKeys.length,"staticAccountKeys"),We("recentBlockhash"),Nt(r.length,"instructionsLength"),Nt(n.length,"serializedInstructions"),Nt(s.length,"addressTableLookupsLength"),Nt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(sa),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:rr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(sa);for(const r of this.compiledInstructions){const i=Array();li(i,r.accountKeyIndexes.length);const s=Array();li(s,r.data.length);const o=we([tt("programIdIndex"),Nt(i.length,"encodedAccountKeyIndexesLength"),or(tt(),r.accountKeyIndexes.length,"accountKeyIndexes"),Nt(s.length,"encodedDataLength"),Nt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(sa);for(const r of this.addressTableLookups){const i=Array();li(i,r.writableIndexes.length);const s=Array();li(s,r.readonlyIndexes.length);const o=we([We("accountKey"),Nt(i.length,"encodedWritableIndexesLength"),or(tt(),r.writableIndexes.length,"writableIndexes"),Nt(s.length,"encodedReadonlyIndexesLength"),or(tt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=bs(n),i=r&xg;it(r!==i,"Expected versioned message but received legacy message");const s=i;it(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:bs(n),numReadonlySignedAccounts:bs(n),numReadonlyUnsignedAccounts:bs(n)},a=[],l=Br(n);for(let w=0;w<l;w++)a.push(new oe(Ur(n,0,Ms)));const c=rr.encode(Ur(n,0,Ms)),u=Br(n),d=[];for(let w=0;w<u;w++){const T=bs(n),A=Br(n),S=Ur(n,0,A),y=Br(n),b=new Uint8Array(Ur(n,0,y));d.push({programIdIndex:T,accountKeyIndexes:S,data:b})}const f=Br(n),h=[];for(let w=0;w<f;w++){const T=new oe(Ur(n,0,Ms)),A=Br(n),S=Ur(n,0,A),y=Br(n),b=Ur(n,0,y);h.push({accountKey:T,writableIndexes:S,readonlyIndexes:b})}return new cl({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:d,addressTableLookups:h})}}const Og={deserializeMessageVersion(t){const e=t[0],n=e&xg;return n===e?"legacy":n},deserialize:t=>{const e=Og.deserializeMessageVersion(t);if(e==="legacy")return cs.from(t);if(e===0)return cl.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let qs=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const PF=Ae.alloc(Vc).fill(0);class wt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ae.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Je{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new wt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<n.length;T++)if(n[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const i=[],s=[];n.forEach(T=>{T.keys.forEach(S=>{s.push({...S})});const A=T.programId.toString();i.includes(A)||i.push(A)}),i.forEach(T=>{s.push({pubkey:new oe(T),isSigner:!1,isWritable:!1})});const o=[];s.forEach(T=>{const A=T.pubkey.toString(),S=o.findIndex(y=>y.pubkey.toString()===A);S>-1?(o[S].isWritable=o[S].isWritable||T.isWritable,o[S].isSigner=o[S].isSigner||T.isSigner):o.push(T)}),o.sort(function(T,A){if(T.isSigner!==A.isSigner)return T.isSigner?-1:1;if(T.isWritable!==A.isWritable)return T.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",S)});const a=o.findIndex(T=>T.pubkey.equals(r));if(a>-1){const[T]=o.splice(a,1);T.isSigner=!0,T.isWritable=!0,o.unshift(T)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const T of this.signatures){const A=o.findIndex(S=>S.pubkey.equals(T.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let l=0,c=0,u=0;const d=[],f=[];o.forEach(({pubkey:T,isSigner:A,isWritable:S})=>{A?(d.push(T.toString()),l+=1,S||(c+=1)):(f.push(T.toString()),S||(u+=1))});const h=d.concat(f),w=n.map(T=>{const{data:A,programId:S}=T;return{programIdIndex:h.indexOf(S.toString()),accounts:T.keys.map(y=>h.indexOf(y.pubkey.toString())),data:rr.encode(A)}});return w.forEach(T=>{it(T.programIdIndex>=0),T.accounts.forEach(A=>it(A>=0))}),new cs({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:w})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=Tb(r,i.secretKey);this._addSignature(i.publicKey,$e(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){it(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ae.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):IF(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];li(r,n.length);const i=r.length+n.length*64+e.length,s=Ae.alloc(i);return it(n.length<256),Ae.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(it(o.length===64,"signature has invalid length"),Ae.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),it(s.length<=sa,`Transaction too large: ${s.length} > ${sa}`),s}get keys(){return it(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return it(this.instructions.length===1),this.instructions[0].programId}get data(){return it(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Br(n);let i=[];for(let s=0;s<r;s++){const o=Ur(n,0,Vc);i.push(rr.encode(Ae.from(o)))}return Je.populate(cs.from(n),i)}static populate(e,n=[]){const r=new Je;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==rr.encode(PF)?null:rr.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new wt({keys:s,programId:e.accountKeys[i.programIdIndex],data:rr.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Cb{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=o-a;it(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-l;it(u>=0,"Message header is invalid");const d=e.getAccountKeys(n),f=d.get(0);if(f===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const w of i){const T=[];for(const S of w.accountKeyIndexes){const y=d.get(S);if(y===void 0)throw new Error(`Failed to find key for account key index ${S}`);const b=S<o;let C;b?C=S<c:S<d.staticAccountKeys.length?C=S-o<u:C=S-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,T.push({pubkey:y,isSigner:S<r.numRequiredSignatures,isWritable:C})}const A=d.get(w.programIdIndex);if(A===void 0)throw new Error(`Failed to find program id for program id index ${w.programIdIndex}`);h.push(new wt({programId:A,data:$e(w.data),keys:T}))}return new Cb({payerKey:f,instructions:h,recentBlockhash:s})}compileToLegacyMessage(){return cs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return cl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Hc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)it(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Vc));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();li(n,this.signatures.length);const r=we([Nt(n.length,"encodedSignaturesLength"),or(MF(),this.signatures.length,"signatures"),Nt(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Br(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Ur(n,0,Vc)));const s=Og.deserialize(new Uint8Array(n));return new Hc(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));it(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Tb(n,i.secretKey)}}addSignature(e,n){it(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));it(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const LF=160,$F=64,BF=LF/$F,dR=1e3/BF,vs=new oe("SysvarC1ock11111111111111111111111111111111"),UF=new oe("SysvarEpochSchedu1e111111111111111111111111"),FF=new oe("Sysvar1nstructions1111111111111111111111111"),Qh=new oe("SysvarRecentB1ockHashes11111111111111111111"),Gc=new oe("SysvarRent111111111111111111111111111111111"),jF=new oe("SysvarRewards111111111111111111111111111111"),zF=new oe("SysvarS1otHashes111111111111111111111111111"),WF=new oe("SysvarS1otHistory11111111111111111111111111"),Jh=new oe("SysvarStakeHistory1111111111111111111111111");class af extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const VF={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class be extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function vv(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await t.sendTransaction(e,n,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new af({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Pa(t){return new Promise(e=>setTimeout(e,t))}function Qe(t,e){const n=t.layout.span>=0?t.layout.span:cR(t,e),r=Ae.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function at(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const fR=Xn("lamportsPerSignature"),hR=we([ye("version"),ye("state"),We("authorizedPubkey"),We("nonce"),we([fR],"feeCalculator")]),_v=hR.span;class Pg{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=hR.decode($e(e),0);return new Pg({authorizedPubkey:new oe(n.authorizedPubkey),nonce:new oe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function qc(t){const e=Nt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=yU();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}class HF{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ye("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(bt))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=at(bt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new oe(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=at(bt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=at(bt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new oe(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=at(bt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:s}=at(bt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new oe(n),seed:r,space:i,programId:new oe(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=at(bt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new oe(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=at(bt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new oe(n),seed:r,programId:new oe(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:s,programId:o}=at(bt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new oe(n),seed:r,lamports:i,space:s,programId:new oe(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=at(bt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new oe(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),at(bt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=at(bt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=at(bt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new oe(n)}}static checkProgramId(e){if(!e.equals(Yn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const bt=Object.freeze({Create:{index:0,layout:we([ye("instruction"),ai("lamports"),ai("space"),We("programId")])},Assign:{index:1,layout:we([ye("instruction"),We("programId")])},Transfer:{index:2,layout:we([ye("instruction"),qc("lamports")])},CreateWithSeed:{index:3,layout:we([ye("instruction"),We("base"),Wa("seed"),ai("lamports"),ai("space"),We("programId")])},AdvanceNonceAccount:{index:4,layout:we([ye("instruction")])},WithdrawNonceAccount:{index:5,layout:we([ye("instruction"),ai("lamports")])},InitializeNonceAccount:{index:6,layout:we([ye("instruction"),We("authorized")])},AuthorizeNonceAccount:{index:7,layout:we([ye("instruction"),We("authorized")])},Allocate:{index:8,layout:we([ye("instruction"),ai("space")])},AllocateWithSeed:{index:9,layout:we([ye("instruction"),We("base"),Wa("seed"),ai("space"),We("programId")])},AssignWithSeed:{index:10,layout:we([ye("instruction"),We("base"),Wa("seed"),We("programId")])},TransferWithSeed:{index:11,layout:we([ye("instruction"),qc("lamports"),Wa("seed"),We("programId")])},UpgradeNonceAccount:{index:12,layout:we([ye("instruction")])}});class Yn{constructor(){}static createAccount(e){const n=bt.Create,r=Qe(n,{lamports:e.lamports,space:e.space,programId:$e(e.programId.toBuffer())});return new wt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=bt.TransferWithSeed;n=Qe(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:$e(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=bt.Transfer;n=Qe(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new wt({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=bt.AssignWithSeed;n=Qe(i,{base:$e(e.basePubkey.toBuffer()),seed:e.seed,programId:$e(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=bt.Assign;n=Qe(i,{programId:$e(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wt({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=bt.CreateWithSeed,r=Qe(n,{base:$e(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:$e(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new wt({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Je;"basePubkey"in e&&"seed"in e?n.add(Yn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_v,programId:this.programId})):n.add(Yn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_v,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=bt.InitializeNonceAccount,r=Qe(n,{authorized:$e(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qh,isSigner:!1,isWritable:!1},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new wt(i)}static nonceAdvance(e){const n=bt.AdvanceNonceAccount,r=Qe(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new wt(i)}static nonceWithdraw(e){const n=bt.WithdrawNonceAccount,r=Qe(n,{lamports:e.lamports});return new wt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Qh,isSigner:!1,isWritable:!1},{pubkey:Gc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=bt.AuthorizeNonceAccount,r=Qe(n,{authorized:$e(e.newAuthorizedPubkey.toBuffer())});return new wt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=bt.AllocateWithSeed;n=Qe(i,{base:$e(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:$e(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=bt.Allocate;n=Qe(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wt({keys:r,programId:this.programId,data:n})}}Yn.programId=new oe("11111111111111111111111111111111");const GF=sa-300;class ul{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ul.chunkSize)+1+1)}static async load(e,n,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),f=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(f!==null){if(f.executable)return console.error("Program load failed, account is already executable"),!1;f.data.length!==s.length&&(h=h||new Je,h.add(Yn.allocate({accountPubkey:r.publicKey,space:s.length}))),f.owner.equals(i)||(h=h||new Je,h.add(Yn.assign({accountPubkey:r.publicKey,programId:i}))),f.lamports<d&&(h=h||new Je,h.add(Yn.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:d-f.lamports})))}else h=new Je().add(Yn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));h!==null&&await vv(e,h,[n,r],{commitment:"confirmed"})}const o=we([ye("instruction"),ye("offset"),ye("bytesLength"),ye("bytesLengthPadding"),or(tt("byte"),ia(ye(),-8),"bytes")]),a=ul.chunkSize;let l=0,c=s,u=[];for(;c.length>0;){const d=c.slice(0,a),f=Ae.alloc(a+16);o.encode({instruction:0,offset:l,bytes:d,bytesLength:0,bytesLengthPadding:0},f);const h=new Je().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:f});u.push(vv(e,h,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Pa(1e3/4),l+=a,c=c.slice(a)}await Promise.all(u);{const d=we([ye("instruction")]),f=Ae.alloc(d.span);d.encode({instruction:1},f);const h=new Je().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:i,data:f}),w="processed",T=await e.sendTransaction(h,[n,r],{preflightCommitment:w}),{context:A,value:S}=await e.confirmTransaction({signature:T,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},w);if(S.err)throw new Error(`Transaction ${T} failed (${JSON.stringify(S)})`);for(;;){try{if(await e.getSlot({commitment:w})>A.slot)break}catch{}await new Promise(y=>setTimeout(y,Math.round(dR/2)))}}return!0}}ul.chunkSize=GF;const qF=new oe("BPFLoader2111111111111111111111111111111111");class KF{static getMinNumSignatures(e){return ul.getMinNumSignatures(e)}static load(e,n,r,i,s){return ul.load(e,n,r,s,i)}}function YF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P0,uI;function QF(){if(uI)return P0;uI=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,l,c,u,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(d=t.call(r),d==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(d==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",s=0;s<o;)c=l[s],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return P0=function(r){var i=n(r,!1);if(i!==void 0)return""+i},P0}var JF=QF(),dI=YF(JF);const ju=32;function L0(t){let e=0;for(;t>1;)t/=2,e++;return e}function ZF(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class pR{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=L0(ZF(e+ju+1))-L0(ju)-1,r=this.getSlotsInEpoch(n),i=e-(r-ju);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*ju:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+L0(ju)):this.slotsPerEpoch}}var XF=globalThis.fetch;class e6 extends tF{constructor(e,n,r){const i=s=>{const o=XU(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function t6(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const fI=56;class Sv{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=t6(n6,e),r=e.length-fI;it(r>=0,"lookup table is invalid"),it(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=we([or(We(),i,"addresses")]).decode(e.slice(fI));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new oe(n.authority[0]):void 0,addresses:s.map(o=>new oe(o))}}}const n6={index:1,layout:we([ye("typeIndex"),qc("deactivationSlot"),Xn("lastExtendedSlot"),tt("lastExtendedStartIndex"),tt(),or(We(),ia(tt(),-1),"authority")])},r6=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function i6(t){const e=t.match(r6);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const Gt=xf(_b(oe),ae(),t=>new oe(t)),mR=Sb([ae(),Wt("base64")]),Nb=xf(_b(Ae),mR,t=>Ae.from(t[0],"base64")),gR=30*1e3;function s6(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function St(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function hI(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yR(t){return xr([re({jsonrpc:Wt("2.0"),id:ae(),result:t}),re({jsonrpc:Wt("2.0"),id:ae(),error:re({code:vu(),message:ae(),data:ke(EU())})})])}const o6=yR(vu());function Le(t){return xf(yR(t),o6,e=>"error"in e?e:{...e,result:ue(e.result,t)})}function on(t){return Le(re({context:re({slot:Y()}),value:t}))}function Lg(t){return re({context:re({slot:Y()}),value:t})}function $0(t,e){return t===0?new cl({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new oe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:rr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new cs(e)}const a6=re({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()}),l6=Le(de(he(re({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:ke(he(Y()))})))),c6=de(re({slot:Y(),prioritizationFee:Y()})),u6=re({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),d6=re({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:ke(Y()),transactionCount:ke(Y())}),f6=re({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:Ds(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),h6=GM(ae(),de(Y())),kl=he(xr([re({}),ae()])),p6=re({err:kl}),m6=Wt("receivedSignature"),g6=re({"solana-core":ae(),"feature-set":ke(Y())}),y6=re({program:ae(),programId:Gt,parsed:vu()}),w6=re({programId:Gt,accounts:de(Gt),data:ae()}),pI=on(re({err:he(xr([re({}),ae()])),logs:he(de(ae())),accounts:ke(he(de(he(re({executable:Ds(),owner:ae(),lamports:Y(),data:de(ae()),rentEpoch:ke(Y())}))))),unitsConsumed:ke(Y()),returnData:ke(he(re({programId:ae(),data:Sb([ae(),Wt("base64")])}))),innerInstructions:ke(he(de(re({index:Y(),instructions:de(xr([y6,w6]))}))))})),v6=on(re({byIdentity:GM(ae(),de(Y())),range:re({firstSlot:Y(),lastSlot:Y()})}));function _6(t,e,n,r,i,s){const o=n||XF;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,d)=>{const f=await new Promise((h,w)=>{try{r(u,d,(T,A)=>h([T,A]))}catch(T){w(T)}});return await o(...f)}),new QU(async(u,d)=>{const f={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},_8)};try{let h=5,w,T=500;for(;l?w=await l(t,f):w=await o(t,f),!(w.status!==429||i===!0||(h-=1,h===0));)console.error(`Server responded with ${w.status} ${w.statusText}.  Retrying after ${T}ms delay...`),await Pa(T),T*=2;const A=await w.text();w.ok?d(null,A):d(new Error(`${w.status} ${w.statusText}: ${A}`))}catch(h){h instanceof Error&&d(h)}},{})}function S6(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function b6(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const E6=Le(a6),T6=Le(u6),I6=Le(c6),k6=Le(d6),A6=Le(f6),C6=Le(h6),N6=Le(Y()),M6=on(re({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:de(Gt)})),bv=re({amount:ae(),uiAmount:he(Y()),decimals:Y(),uiAmountString:ke(ae())}),R6=on(de(re({address:Gt,amount:ae(),uiAmount:he(Y()),decimals:Y(),uiAmountString:ke(ae())}))),x6=on(de(re({pubkey:Gt,account:re({executable:Ds(),owner:Gt,lamports:Y(),data:Nb,rentEpoch:Y()})}))),Ev=re({program:ae(),parsed:vu(),space:Y()}),D6=on(de(re({pubkey:Gt,account:re({executable:Ds(),owner:Gt,lamports:Y(),data:Ev,rentEpoch:Y()})}))),O6=on(de(re({lamports:Y(),address:Gt}))),lf=re({executable:Ds(),owner:Gt,lamports:Y(),data:Nb,rentEpoch:Y()}),P6=re({pubkey:Gt,account:lf}),L6=xf(xr([_b(Ae),Ev]),xr([mR,Ev]),t=>Array.isArray(t)?ue(t,Nb):t),Tv=re({executable:Ds(),owner:Gt,lamports:Y(),data:L6,rentEpoch:Y()}),$6=re({pubkey:Gt,account:Tv}),B6=re({state:xr([Wt("active"),Wt("inactive"),Wt("activating"),Wt("deactivating")]),active:Y(),inactive:Y()}),U6=Le(de(re({signature:ae(),slot:Y(),err:kl,memo:he(ae()),blockTime:ke(he(Y()))}))),F6=Le(de(re({signature:ae(),slot:Y(),err:kl,memo:he(ae()),blockTime:ke(he(Y()))}))),j6=re({subscription:Y(),result:Lg(lf)}),z6=re({pubkey:Gt,account:lf}),W6=re({subscription:Y(),result:Lg(z6)}),V6=re({parent:Y(),slot:Y(),root:Y()}),H6=re({subscription:Y(),result:V6}),G6=xr([re({type:xr([Wt("firstShredReceived"),Wt("completed"),Wt("optimisticConfirmation"),Wt("root")]),slot:Y(),timestamp:Y()}),re({type:Wt("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),re({type:Wt("frozen"),slot:Y(),timestamp:Y(),stats:re({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),re({type:Wt("dead"),slot:Y(),timestamp:Y(),err:ae()})]),q6=re({subscription:Y(),result:G6}),K6=re({subscription:Y(),result:Lg(xr([p6,m6]))}),Y6=re({subscription:Y(),result:Y()}),Q6=re({pubkey:ae(),gossip:he(ae()),tpu:he(ae()),rpc:he(ae()),version:he(ae())}),mI=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:Y(),epochVoteAccount:Ds(),epochCredits:de(Sb([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:he(Y())}),J6=Le(re({current:de(mI),delinquent:de(mI)})),Z6=xr([Wt("processed"),Wt("confirmed"),Wt("finalized")]),X6=re({slot:Y(),confirmations:he(Y()),err:kl,confirmationStatus:ke(Z6)}),e8=on(de(he(X6))),t8=Le(Y()),wR=re({accountKey:Gt,writableIndexes:de(Y()),readonlyIndexes:de(Y())}),Mb=re({signatures:de(ae()),message:re({accountKeys:de(ae()),header:re({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:de(re({accounts:de(Y()),data:ae(),programIdIndex:Y()})),recentBlockhash:ae(),addressTableLookups:ke(de(wR))})}),vR=re({pubkey:Gt,signer:Ds(),writable:Ds(),source:ke(xr([Wt("transaction"),Wt("lookupTable")]))}),_R=re({accountKeys:de(vR),signatures:de(ae())}),SR=re({parsed:vu(),program:ae(),programId:Gt}),bR=re({accounts:de(Gt),data:ae(),programId:Gt}),n8=xr([bR,SR]),r8=xr([re({parsed:vu(),program:ae(),programId:ae()}),re({accounts:de(ae()),data:ae(),programId:ae()})]),ER=xf(n8,r8,t=>"accounts"in t?ue(t,bR):ue(t,SR)),TR=re({signatures:de(ae()),message:re({accountKeys:de(vR),instructions:de(ER),recentBlockhash:ae(),addressTableLookups:ke(he(de(wR)))})}),mm=re({accountIndex:Y(),mint:ae(),owner:ke(ae()),programId:ke(ae()),uiTokenAmount:bv}),IR=re({writable:de(Gt),readonly:de(Gt)}),$g=re({err:kl,fee:Y(),innerInstructions:ke(he(de(re({index:Y(),instructions:de(re({accounts:de(Y()),data:ae(),programIdIndex:Y()}))})))),preBalances:de(Y()),postBalances:de(Y()),logMessages:ke(he(de(ae()))),preTokenBalances:ke(he(de(mm))),postTokenBalances:ke(he(de(mm))),loadedAddresses:ke(IR),computeUnitsConsumed:ke(Y())}),Rb=re({err:kl,fee:Y(),innerInstructions:ke(he(de(re({index:Y(),instructions:de(ER)})))),preBalances:de(Y()),postBalances:de(Y()),logMessages:ke(he(de(ae()))),preTokenBalances:ke(he(de(mm))),postTokenBalances:ke(he(de(mm))),loadedAddresses:ke(IR),computeUnitsConsumed:ke(Y())}),_u=xr([Wt(0),Wt("legacy")]),Al=re({pubkey:ae(),lamports:Y(),postBalance:he(Y()),rewardType:he(ae()),commission:ke(he(Y()))}),i8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),transactions:de(re({transaction:Mb,meta:he($g),version:ke(_u)})),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),s8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),o8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),transactions:de(re({transaction:_R,meta:he($g),version:ke(_u)})),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),a8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),transactions:de(re({transaction:TR,meta:he(Rb),version:ke(_u)})),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),l8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),transactions:de(re({transaction:_R,meta:he(Rb),version:ke(_u)})),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),c8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),rewards:ke(de(Al)),blockTime:he(Y()),blockHeight:he(Y())}))),u8=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),transactions:de(re({transaction:Mb,meta:he($g)})),rewards:ke(de(Al)),blockTime:he(Y())}))),gI=Le(he(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:Y(),signatures:de(ae()),blockTime:he(Y())}))),B0=Le(he(re({slot:Y(),meta:he($g),blockTime:ke(he(Y())),transaction:Mb,version:ke(_u)}))),Ih=Le(he(re({slot:Y(),transaction:TR,meta:he(Rb),blockTime:ke(he(Y())),version:ke(_u)}))),d8=on(re({blockhash:ae(),lastValidBlockHeight:Y()})),f8=on(Ds()),h8=re({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()}),p8=Le(de(h8)),m8=on(he(re({feeCalculator:re({lamportsPerSignature:Y()})}))),g8=Le(ae()),y8=Le(ae()),w8=re({err:kl,logs:de(ae()),signature:ae()}),v8=re({result:Lg(w8),subscription:Y()}),_8={"solana-client":"js/1.0.0-maintenance"};let kR=class{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:d,config:f}=St(u),h=this._buildArgs([],d,void 0,f),w=dI(h);return c[w]=c[w]??(async()=>{try{const T=await this._rpcRequest("getBlockHeight",h),A=ue(T,Le(Y()));if("error"in A)throw new be(A.error,"failed to get block height information");return A.result}finally{delete c[w]}})(),await c[w]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=s6(e),this._rpcWsEndpoint=r||i6(e),this._rpcClient=_6(e,i,s,o,a,l),this._rpcRequest=S6(this._rpcClient),this._rpcBatchRequest=b6(this._rpcClient),this._rpcWebSocket=new e6(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=ue(o,on(Y()));if("error"in a)throw new be(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ue(n,Le(he(Y())));if("error"in r)throw new be(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ue(e,Le(Y()));if("error"in n)throw new be(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ue(e,N6);if("error"in n)throw new be(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ue(r,M6);if("error"in i)throw new be(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=ue(i,on(bv));if("error"in s)throw new be(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=ue(i,on(bv));if("error"in s)throw new be(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=St(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ue(l,x6);if("error"in c)throw new be(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=ue(o,D6);if("error"in a)throw new be(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=ue(i,O6);if("error"in s)throw new be(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=ue(i,R6);if("error"in s)throw new be(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=ue(o,on(he(lf)));if("error"in a)throw new be(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=ue(o,on(he(Tv)));if("error"in a)throw new be(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=St(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=ue(a,on(de(he(Tv))));if("error"in l)throw new be(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=St(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=ue(a,on(de(he(lf))));if("error"in l)throw new be(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=St(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=ue(a,Le(B6));if("error"in l)throw new be(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=St(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:hI(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=de(P6),u=o.withContext===!0?ue(l,on(c)):ue(l,Le(c));if("error"in u)throw new be(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=ue(o,Le(de($6)));if("error"in a)throw new be(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=rr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return it(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(d,f)=>{r=void 0;const h={context:f,value:d};l({__type:qs.PROCESSED,response:h})},e);const u=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,f=>{f==="subscribed"&&d()})});(async()=>{if(await u,s)return;const d=await this.getSignatureStatus(n);if(s||d==null)return;const{context:f,value:h}=d;if(h!=null)if(h!=null&&h.err)c(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:qs.PROCESSED,response:{context:f,value:h}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const f=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await f();if(!s){for(;h<=r;)if(await Pa(1e3),s||(h=await f(),s))return;d({__type:qs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let u;try{const d=await Promise.race([c,l,o]);if(d.__type===qs.PROCESSED)u=d.response;else throw new kb(i)}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(h=>{let w=s,T=null;const A=async()=>{try{const{context:S,value:y}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return T=S.slot,y==null?void 0:y.nonce}catch{return w}};(async()=>{if(w=await A(),!a)for(;;){if(s!==w){h({__type:qs.NONCE_INVALID,slotInWhichNonceDidAdvance:T});return}if(await Pa(2e3),a||(w=await A(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(n);let f;try{const h=await Promise.race([d,u,l]);if(h.__type===qs.PROCESSED)f=h.response;else{let w;for(;;){const T=await this.getSignatureStatus(o);if(T==null)break;if(T.context.slot<(h.slotInWhichNonceDidAdvance??r)){await Pa(400);continue}w=T;break}if(w!=null&&w.value){const T=e||"finalized",{confirmationStatus:A}=w.value;switch(T){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new dc(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new dc(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new dc(o);break;default:}f={context:w.context,value:{err:w.value.err}}}else throw new dc(o)}}finally{a=!0,c()}return f}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:qs.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===qs.PROCESSED)a=l.response;else throw new Ab(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ue(e,Le(de(Q6)));if("error"in n)throw new be(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=ue(r,J6);if("error"in i)throw new be(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=ue(s,Le(Y()));if("error"in o)throw new be(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=ue(s,Le(ae()));if("error"in o)throw new be(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=ue(i,Le(de(Gt)));if("error"in s)throw new be(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);it(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=ue(i,e8);if("error"in s)throw new be(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=ue(s,Le(Y()));if("error"in o)throw new be(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=ue(r,E6);if("error"in i)throw new be(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=St(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=ue(a,l6);if("error"in l)throw new be(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ue(e,T6);if("error"in n)throw new be(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=ue(s,k6);if("error"in o)throw new be(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ue(e,A6);if("error"in n)throw new be(n.error,"failed to get epoch schedule");const r=n.result;return new pR(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ue(e,C6);if("error"in n)throw new be(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=ue(i,t8);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ue(n,p8);if("error"in r)throw new be(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=ue(i,m8);if("error"in s)throw new be(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=$e(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=ue(s,on(he(Y())));if("error"in o)throw new be(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=ue(i,I6);if("error"in s)throw new be(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=ue(s,d8);if("error"in o)throw new be(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=ue(o,f8);if("error"in a)throw new be(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ue(e,Le(g6));if("error"in n)throw new be(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ue(e,Le(ae()));if("error"in n)throw new be(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ue(o,o8);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,s8);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,i8);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:d})=>({meta:u,transaction:{...c,message:$0(d,c.message)},version:d}))}:null}}}catch(a){throw new be(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ue(o,l8);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,c8);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,a8);if("error"in a)throw a.error;return a.result}}}catch(a){throw new be(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=ue(s,v6);if("error"in o)throw new be(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=ue(o,B0);if("error"in a)throw new be(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:$0(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=St(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=ue(o,Ih);if("error"in a)throw new be(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=St(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=ue(l,Ih);if("error"in c)throw new be(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=St(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=ue(l,B0);if("error"in c)throw new be(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:$0(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=ue(i,u8);if("error"in s)throw new be(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new cs(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Je.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=ue(s,Le(de(Y())));if("error"in o)throw new be(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ue(i,gI);if("error"in s)throw new be(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ue(i,gI);if("error"in s)throw new be(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=ue(i,B0);if("error"in s)throw new be(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new cs(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Je.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=ue(i,Ih);if("error"in s)throw new be(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=ue(o,Ih);if("error"in a)throw new be(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=ue(s,U6);if("error"in o)throw new be(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=ue(s,F6);if("error"in o)throw new be(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new Sv({key:e,state:Sv.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=Pg.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=ue(r,g8);if("error"in i)throw new be(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Pa(100);const r=Date.now()-this._blockhashInfo.lastFetch>=gR;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Pa(dR/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=St(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=ue(s,on(Y()));if("error"in o)throw new be(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const T=e.serialize(),A=Ae.from(T).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const y=[A,S],b=await this._rpcRequest("simulateTransaction",y),C=ue(b,pI);if("error"in C)throw new Error("failed to simulate transaction: "+C.error.message);return C.result}let i;if(e instanceof Je){let w=e;i=new Je,i.feePayer=w.feePayer,i.instructions=e.instructions,i.nonceInfo=w.nonceInfo,i.signatures=w.signatures}else i=Je.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let w=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(w);if(i.lastValidBlockHeight=T.lastValidBlockHeight,i.recentBlockhash=T.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else w=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const w=(Array.isArray(r)?r:o.nonProgramIds()).map(T=>T.toBase58());u.accounts={encoding:"base64",addresses:w}}s&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const d=[c,u],f=await this._rpcRequest("simulateTransaction",d),h=ue(f,pI);if("error"in h){let w;if("data"in h.error&&(w=h.error.data.logs,w&&Array.isArray(w))){const T=`
    `,A=T+w.join(T);console.error(h.error.message,A)}throw new af({action:"simulate",signature:"",transactionMessage:h.error.message,logs:w})}return h.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=$e(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=ue(a,y8);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new af({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ue(e,j6);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=dI([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];it(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=St(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ue(e,W6);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=St(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:hI(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ue(e,v8);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ue(e,H6);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ue(e,q6);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ue(e,K6);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ue(e,Y6);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}};class Ic{constructor(e){this._keypair=void 0,this._keypair=e??aI()}static generate(){return new Ic(aI())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=pm(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Ic({publicKey:r,secretKey:e})}static fromSeed(e){const n=pm(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Ic({publicKey:n,secretKey:r})}get publicKey(){return new oe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const eo=Object.freeze({CreateLookupTable:{index:0,layout:we([ye("instruction"),qc("recentSlot"),tt("bumpSeed")])},FreezeLookupTable:{index:1,layout:we([ye("instruction")])},ExtendLookupTable:{index:2,layout:we([ye("instruction"),qc(),or(We(),ia(ye(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:we([ye("instruction")])},CloseLookupTable:{index:4,layout:we([ye("instruction")])}});class S8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ye("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(eo))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=at(eo.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=at(eo.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new oe(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(xb.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class xb{constructor(){}static createLookupTable(e){const[n,r]=oe.findProgramAddressSync([e.authority.toBuffer(),WM().encode(e.recentSlot)],this.programId),i=eo.CreateLookupTable,s=Qe(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Yn.programId,isSigner:!1,isWritable:!1}];return[new wt({programId:this.programId,keys:o,data:s}),n]}static freezeLookupTable(e){const n=eo.FreezeLookupTable,r=Qe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wt({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=eo.ExtendLookupTable,r=Qe(n,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Yn.programId,isSigner:!1,isWritable:!1}),new wt({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=eo.DeactivateLookupTable,r=Qe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wt({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=eo.CloseLookupTable,r=Qe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new wt({programId:this.programId,keys:i,data:r})}}xb.programId=new oe("AddressLookupTab1e1111111111111111111111111");class b8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=tt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Es))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=at(Es.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=at(Es.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=at(Es.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=at(Es.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Db.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Es=Object.freeze({RequestUnits:{index:0,layout:we([tt("instruction"),ye("units"),ye("additionalFee")])},RequestHeapFrame:{index:1,layout:we([tt("instruction"),ye("bytes")])},SetComputeUnitLimit:{index:2,layout:we([tt("instruction"),ye("units")])},SetComputeUnitPrice:{index:3,layout:we([tt("instruction"),qc("microLamports")])}});class Db{constructor(){}static requestUnits(e){const n=Es.RequestUnits,r=Qe(n,e);return new wt({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=Es.RequestHeapFrame,r=Qe(n,e);return new wt({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=Es.SetComputeUnitLimit,r=Qe(n,e);return new wt({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=Es.SetComputeUnitPrice,r=Qe(n,{microLamports:BigInt(e.microLamports)});return new wt({keys:[],programId:this.programId,data:r})}}Db.programId=new oe("ComputeBudget111111111111111111111111111111");const yI=64,wI=32,vI=64,_I=we([tt("numSignatures"),tt("padding"),ki("signatureOffset"),ki("signatureInstructionIndex"),ki("publicKeyOffset"),ki("publicKeyInstructionIndex"),ki("messageDataOffset"),ki("messageDataSize"),ki("messageInstructionIndex")]);class Bg{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:s}=e;it(n.length===wI,`Public Key must be ${wI} bytes but received ${n.length} bytes`),it(i.length===vI,`Signature must be ${vI} bytes but received ${i.length} bytes`);const o=_I.span,a=o+n.length,l=a+i.length,c=1,u=Ae.alloc(l+r.length),d=s??65535;return _I.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:d},u),u.fill(n,o),u.fill(i,a),u.fill(r,l),new wt({keys:[],programId:Bg.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;it(n.length===yI,`Private key must be ${yI} bytes but received ${n.length} bytes`);try{const s=Ic.fromSecretKey(n),o=s.publicKey.toBytes(),a=Tb(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Bg.programId=new oe("Ed25519SigVerify111111111111111111111111111");const E8=(t,e)=>{const n=Eb.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Eb.utils.isValidPrivateKey;const T8=Eb.getPublicKey,SI=32,U0=20,bI=64,I8=11,F0=we([tt("numSignatures"),ki("signatureOffset"),tt("signatureInstructionIndex"),ki("ethAddressOffset"),tt("ethAddressInstructionIndex"),ki("messageDataOffset"),ki("messageDataSize"),tt("messageInstructionIndex"),Nt(20,"ethAddress"),Nt(64,"signature"),tt("recoveryId")]);class kc{constructor(){}static publicKeyToEthAddress(e){it(e.length===bI,`Public key must be ${bI} bytes but received ${e.length} bytes`);try{return Ae.from(iI($e(e))).slice(-U0)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return kc.createInstructionWithEthAddress({ethAddress:kc.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=Ae.from(n.substr(2),"hex"):a=Ae.from(n,"hex"):a=n,it(a.length===U0,`Address must be ${U0} bytes but received ${a.length} bytes`);const l=1+I8,c=l,u=l+a.length,d=u+i.length+1,f=1,h=Ae.alloc(F0.span+r.length);return F0.encode({numSignatures:f,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:c,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:$e(i),ethAddress:$e(a),recoveryId:s},h),h.fill($e(r),F0.span),new wt({keys:[],programId:kc.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;it(n.length===SI,`Private key must be ${SI} bytes but received ${n.length} bytes`);try{const s=$e(n),o=T8(s,!1).slice(1),a=Ae.from(iI($e(r))),[l,c]=E8(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}kc.programId=new oe("KeccakSecp256k11111111111111111111111111111");var AR;const CR=new oe("StakeConfig11111111111111111111111111111111");class NR{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Df{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}AR=Df;Df.default=new AR(0,0,oe.default);class k8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ye("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Hn))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=at(Hn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new NR(new oe(n.staker),new oe(n.withdrawer)),lockup:new Df(r.unixTimestamp,r.epoch,new oe(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),at(Hn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=at(Hn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new oe(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=at(Hn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new oe(s),newAuthorizedPubkey:new oe(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=at(Hn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),at(Hn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=at(Hn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),at(Hn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ug.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Hn=Object.freeze({Initialize:{index:0,layout:we([ye("instruction"),RF(),xF()])},Authorize:{index:1,layout:we([ye("instruction"),We("newAuthorized"),ye("stakeAuthorizationType")])},Delegate:{index:2,layout:we([ye("instruction")])},Split:{index:3,layout:we([ye("instruction"),ai("lamports")])},Withdraw:{index:4,layout:we([ye("instruction"),ai("lamports")])},Deactivate:{index:5,layout:we([ye("instruction")])},Merge:{index:7,layout:we([ye("instruction")])},AuthorizeWithSeed:{index:8,layout:we([ye("instruction"),We("newAuthorized"),ye("stakeAuthorizationType"),Wa("authoritySeed"),We("authorityOwner")])}}),A8=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ug{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,s=i||Df.default,o=Hn.Initialize,a=Qe(o,{authorized:{staker:$e(r.staker.toBuffer()),withdrawer:$e(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:$e(s.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new wt(l)}static createAccountWithSeed(e){const n=new Je;n.add(Yn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const n=new Je;n.add(Yn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,s=Hn.Delegate,o=Qe(s);return new Je().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:Jh,isSigner:!1,isWritable:!1},{pubkey:CR,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Hn.Authorize,l=Qe(a,{newAuthorized:$e(i.toBuffer()),stakeAuthorizationType:s.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Je().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,c=Hn.AuthorizeWithSeed,u=Qe(c,{newAuthorized:$e(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:$e(s.toBuffer())}),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:vs,isSigner:!1,isWritable:!1}];return l&&d.push({pubkey:l,isSigner:!0,isWritable:!1}),new Je().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Hn.Split,a=Qe(o,{lamports:s});return new wt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Je;return r.add(Yn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:l}=e,c=new Je;return c.add(Yn.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(Yn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Hn.Merge,o=Qe(s);return new Je().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:Jh,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Hn.Withdraw,l=Qe(a,{lamports:s}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:Jh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new Je().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=Hn.Deactivate,s=Qe(i);return new Je().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}Ug.programId=new oe("Stake11111111111111111111111111111111111111");Ug.space=200;class MR{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class C8{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ye("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ts))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=at(Ts.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new MR(new oe(n.nodePubkey),new oe(n.authorizedVoter),new oe(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=at(Ts.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new oe(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=at(Ts.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new oe(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new oe(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=at(Ts.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Su.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Ts=Object.freeze({InitializeAccount:{index:0,layout:we([ye("instruction"),DF()])},Authorize:{index:1,layout:we([ye("instruction"),We("newAuthorized"),ye("voteAuthorizationType")])},Withdraw:{index:3,layout:we([ye("instruction"),ai("lamports")])},UpdateValidatorIdentity:{index:4,layout:we([ye("instruction")])},AuthorizeWithSeed:{index:10,layout:we([ye("instruction"),OF()])}}),N8=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Su{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,s=Ts.InitializeAccount,o=Qe(s,{voteInit:{nodePubkey:$e(i.nodePubkey.toBuffer()),authorizedVoter:$e(i.authorizedVoter.toBuffer()),authorizedWithdrawer:$e(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new wt(a)}static createAccount(e){const n=new Je;return n.add(Yn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Ts.Authorize,a=Qe(o,{newAuthorized:$e(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Je().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,l=Ts.AuthorizeWithSeed,c=Qe(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:$e(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:$e(s.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:vs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Je().add({keys:u,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Ts.Withdraw,a=Qe(o,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Je().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Su.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Ts.UpdateValidatorIdentity,o=Qe(s),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Je().add({keys:a,programId:this.programId,data:o})}}Su.programId=new oe("Vote111111111111111111111111111111111111111");Su.space=3762;const RR=new oe("Va1idator1nfo111111111111111111111111111111"),M8=re({name:ae(),website:ke(ae()),details:ke(ae()),iconUrl:ke(ae()),keybaseUsername:ke(ae())});class Ob{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Br(n)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new oe(Ur(n,0,Ms)),a=bs(n)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(RR)&&i[1].isSigner){const s=Wa().decode(Ae.from(n)),o=JSON.parse(s);return VM(o,M8),new Ob(i[1].publicKey,o)}return null}}const R8=new oe("Vote111111111111111111111111111111111111111"),x8=we([We("nodePubkey"),We("authorizedWithdrawer"),tt("commission"),Xn(),or(we([Xn("slot"),ye("confirmationCount")]),ia(ye(),-8),"votes"),tt("rootSlotValid"),Xn("rootSlot"),Xn(),or(we([Xn("epoch"),We("authorizedVoter")]),ia(ye(),-8),"authorizedVoters"),we([or(we([We("authorizedPubkey"),Xn("epochOfLastAuthorizedSwitch"),Xn("targetEpoch")]),32,"buf"),Xn("idx"),tt("isEmpty")],"priorVoters"),Xn(),or(we([Xn("epoch"),Xn("credits"),Xn("prevCredits")]),ia(ye(),-8),"epochCredits"),we([Xn("slot"),Xn("timestamp")],"lastTimestamp")]);class Pb{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=x8.decode($e(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Pb({nodePubkey:new oe(r.nodePubkey),authorizedWithdrawer:new oe(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(D8),priorVoters:O8(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function D8({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new oe(t)}}function EI({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new oe(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function O8({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(EI),...t.slice(0,e).map(EI)]}const TI={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function P8(t,e){const n=e===!1?"http":"https";if(!t)return TI[n].devnet;const r=TI[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function L8(t,e,n,r){let i,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,s=r):s=n;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),l=s&&s.commitment,u=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(u.err)throw a!=null?new af({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a}const $8=1e9,B8=Object.freeze(Object.defineProperty({__proto__:null,Account:CF,AddressLookupTableAccount:Sv,AddressLookupTableInstruction:S8,AddressLookupTableProgram:xb,Authorized:NR,BLOCKHASH_CACHE_TIMEOUT_MS:gR,BPF_LOADER_DEPRECATED_PROGRAM_ID:NF,BPF_LOADER_PROGRAM_ID:qF,BpfLoader:KF,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Es,ComputeBudgetInstruction:b8,ComputeBudgetProgram:Db,Connection:kR,Ed25519Program:Bg,Enum:kF,EpochSchedule:pR,FeeCalculatorLayout:fR,Keypair:Ic,LAMPORTS_PER_SOL:$8,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:eo,Loader:ul,Lockup:Df,MAX_SEED_LENGTH:lR,Message:cs,MessageAccountKeys:of,MessageV0:cl,NONCE_ACCOUNT_LENGTH:_v,NonceAccount:Pg,PACKET_DATA_SIZE:sa,PUBLIC_KEY_LENGTH:Ms,PublicKey:oe,SIGNATURE_LENGTH_IN_BYTES:Vc,SOLANA_SCHEMA:Td,STAKE_CONFIG_ID:CR,STAKE_INSTRUCTION_LAYOUTS:Hn,SYSTEM_INSTRUCTION_LAYOUTS:bt,SYSVAR_CLOCK_PUBKEY:vs,SYSVAR_EPOCH_SCHEDULE_PUBKEY:UF,SYSVAR_INSTRUCTIONS_PUBKEY:FF,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Qh,SYSVAR_RENT_PUBKEY:Gc,SYSVAR_REWARDS_PUBKEY:jF,SYSVAR_SLOT_HASHES_PUBKEY:zF,SYSVAR_SLOT_HISTORY_PUBKEY:WF,SYSVAR_STAKE_HISTORY_PUBKEY:Jh,Secp256k1Program:kc,SendTransactionError:af,SolanaJSONRPCError:be,SolanaJSONRPCErrorCode:VF,StakeAuthorizationLayout:A8,StakeInstruction:k8,StakeProgram:Ug,Struct:Ib,SystemInstruction:HF,SystemProgram:Yn,Transaction:Je,TransactionExpiredBlockheightExceededError:kb,TransactionExpiredNonceInvalidError:dc,TransactionExpiredTimeoutError:Ab,TransactionInstruction:wt,TransactionMessage:Cb,TransactionStatus:qs,VALIDATOR_INFO_KEY:RR,VERSION_PREFIX_MASK:xg,VOTE_PROGRAM_ID:R8,ValidatorInfo:Ob,VersionedMessage:Og,VersionedTransaction:Hc,VoteAccount:Pb,VoteAuthorizationLayout:N8,VoteInit:MR,VoteInstruction:C8,VoteProgram:Su,clusterApiUrl:P8,sendAndConfirmRawTransaction:L8,sendAndConfirmTransaction:vv},Symbol.toStringTag,{value:"Module"})),xR=ce.createContext({});function U8(){return ce.useContext(xR)}const F8=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=ce.useMemo(()=>new kR(e,n),[e,n]);return le.createElement(xR.Provider,{value:{connection:r}},t)};class qt extends Error{constructor(e,n){super(e),this.error=n}}class Kc extends qt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class DR extends qt{constructor(){super(...arguments),this.name="WalletLoadError"}}class Va extends qt{constructor(){super(...arguments),this.name="WalletConfigError"}}class cf extends qt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Fg extends qt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class jg extends qt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ho extends qt{constructor(){super(...arguments),this.name="WalletAccountError"}}class Yc extends qt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class j8 extends qt{constructor(){super(...arguments),this.name="WalletKeypairError"}}class un extends qt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class oo extends qt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Xi extends qt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class zg extends qt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Iv extends qt{constructor(){super(...arguments),this.name="WalletSignInError"}}class z8 extends qt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class W8 extends qt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class V8 extends qt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var st;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(st||(st={}));class Lb extends Rg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new un;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function $b(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function gm(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Is(t){return"version"in t}class OR extends Lb{async sendTransaction(e,n,r={}){let i=!0;try{if(Is(e)){if(!this.supportedTransactionVersions)throw new oo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new oo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof Xi?(i=!1,s):new oo(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof Xi?(i=!1,s):new oo(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(Is(r)){if(!this.supportedTransactionVersions)throw new Xi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Xi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Wg extends OR{}class H8 extends Wg{}var Fe={},Vg={};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.SolanaSignAndSendTransaction=void 0;Vg.SolanaSignAndSendTransaction="solana:signAndSendTransaction";var Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});Hg.SolanaSignIn=void 0;Hg.SolanaSignIn="solana:signIn";var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.SolanaSignMessage=void 0;Gg.SolanaSignMessage="solana:signMessage";var qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.SolanaSignTransaction=void 0;qg.SolanaSignTransaction="solana:signTransaction";var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.SignAndSendAllTransactions=void 0;Kg.SignAndSendAllTransactions="solana:signAndSendAllTransactions";(function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ye&&Ye.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vg,t),n(Hg,t),n(Gg,t),n(qg,t),n(Kg,t)})(Fe);var is={},PR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect})(PR);var LR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect})(LR);var $R={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents})($R);(function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ye&&Ye.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PR,t),n(LR,t),n($R,t)})(is);function BR(t){return is.StandardConnect in t.features&&is.StandardEvents in t.features&&(Fe.SolanaSignAndSendTransaction in t.features||Fe.SolanaSignTransaction in t.features)}var kv;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(kv||(kv={}));const G8=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Wg,BaseSignInMessageSignerWalletAdapter:H8,BaseSignerWalletAdapter:OR,BaseWalletAdapter:Lb,EventEmitter:Rg,WalletAccountError:Ho,get WalletAdapterNetwork(){return kv},WalletConfigError:Va,WalletConnectionError:cf,WalletDisconnectedError:Fg,WalletDisconnectionError:jg,WalletError:qt,WalletKeypairError:j8,WalletLoadError:DR,WalletNotConnectedError:un,WalletNotReadyError:Kc,WalletPublicKeyError:Yc,get WalletReadyState(){return st},WalletSendTransactionError:oo,WalletSignInError:Iv,WalletSignMessageError:zg,WalletSignTransactionError:Xi,WalletTimeoutError:z8,WalletWindowBlockedError:W8,WalletWindowClosedError:V8,isIosAndRedirectable:gm,isVersionedTransaction:Is,isWalletAdapterCompatibleStandardWallet:BR,scopePollingDetectionStrategy:$b},Symbol.toStringTag,{value:"Module"}));class II extends qt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const q8=[],Yg={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){qi("call","select")},connect(){return Promise.reject(qi("call","connect"))},disconnect(){return Promise.reject(qi("call","disconnect"))},sendTransaction(){return Promise.reject(qi("call","sendTransaction"))},signTransaction(){return Promise.reject(qi("call","signTransaction"))},signAllTransactions(){return Promise.reject(qi("call","signAllTransactions"))},signMessage(){return Promise.reject(qi("call","signMessage"))},signIn(){return Promise.reject(qi("call","signIn"))}};Object.defineProperty(Yg,"wallets",{get(){return qi("read","wallets"),q8}});Object.defineProperty(Yg,"wallet",{get(){return qi("read","wallet"),null}});Object.defineProperty(Yg,"publicKey",{get(){return qi("read","publicKey"),null}});function qi(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const UR=ce.createContext(Yg);function FR(){return ce.useContext(UR)}function K8(t,e){const n=ce.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=ce.useRef(!0);return ce.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}var va={};const Y8=Fi(G8),Bb=Fi(B8);var Fs={},Of={},Q8=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},jR={},bi={};let Ub;const J8=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];bi.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};bi.getSymbolTotalCodewords=function(e){return J8[e]};bi.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};bi.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ub=e};bi.isKanjiModeEnabled=function(){return typeof Ub<"u"};bi.toSJIS=function(e){return Ub(e)};var Qg={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Qg);function zR(){this.buffer=[],this.length=0}zR.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Z8=zR;function Pf(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Pf.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Pf.prototype.get=function(t,e){return this.data[t*this.size+e]};Pf.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Pf.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var X8=Pf,WR={};(function(t){const e=bi.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(WR);var VR={};const e5=bi.getSymbolSize,kI=7;VR.getPositions=function(e){const n=e5(e);return[[0,0],[n-kI,0],[0,n-kI]]};var HR={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let f=0;f<s;f++){let h=i.get(d,f);h===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=h,a=1),h=i.get(f,d),h===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=h,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(HR);var Jg={};const Go=Qg,kh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ah=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jg.getBlocksCount=function(e,n){switch(n){case Go.L:return kh[(e-1)*4+0];case Go.M:return kh[(e-1)*4+1];case Go.Q:return kh[(e-1)*4+2];case Go.H:return kh[(e-1)*4+3];default:return}};Jg.getTotalCodewordsCount=function(e,n){switch(n){case Go.L:return Ah[(e-1)*4+0];case Go.M:return Ah[(e-1)*4+1];case Go.Q:return Ah[(e-1)*4+2];case Go.H:return Ah[(e-1)*4+3];default:return}};var GR={},Zg={};const Id=new Uint8Array(512),ym=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Id[n]=e,ym[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Id[n]=Id[n-255]})();Zg.log=function(e){if(e<1)throw new Error("log("+e+")");return ym[e]};Zg.exp=function(e){return Id[e]};Zg.mul=function(e,n){return e===0||n===0?0:Id[ym[e]+ym[n]]};(function(t){const e=Zg;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(GR);const qR=GR;function Fb(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Fb.prototype.initialize=function(e){this.degree=e,this.genPoly=qR.generateECPolynomial(this.degree)};Fb.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=qR.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var t5=Fb,KR={},_a={},jb={};jb.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var js={};const YR="[0-9]+",n5="[A-Z $%*+\\-./:]+";let uf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";uf=uf.replace(/u/g,"\\u");const r5="(?:(?![A-Z0-9 $%*+\\-./:]|"+uf+`)(?:.|[\r
]))+`;js.KANJI=new RegExp(uf,"g");js.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");js.BYTE=new RegExp(r5,"g");js.NUMERIC=new RegExp(YR,"g");js.ALPHANUMERIC=new RegExp(n5,"g");const i5=new RegExp("^"+uf+"$"),s5=new RegExp("^"+YR+"$"),o5=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");js.testKanji=function(e){return i5.test(e)};js.testNumeric=function(e){return s5.test(e)};js.testAlphanumeric=function(e){return o5.test(e)};(function(t){const e=jb,n=js;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(_a);(function(t){const e=bi,n=Jg,r=Qg,i=_a,s=jb,o=7973,a=e.getBCHDigit(o);function l(f,h,w){for(let T=1;T<=40;T++)if(h<=t.getCapacity(T,w,f))return T}function c(f,h){return i.getCharCountIndicator(f,h)+4}function u(f,h){let w=0;return f.forEach(function(T){const A=c(T.mode,h);w+=A+T.getBitsLength()}),w}function d(f,h){for(let w=1;w<=40;w++)if(u(f,w)<=t.getCapacity(w,h,i.MIXED))return w}t.from=function(h,w){return s.isValid(h)?parseInt(h,10):w},t.getCapacity=function(h,w,T){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=i.BYTE);const A=e.getSymbolTotalCodewords(h),S=n.getTotalCodewordsCount(h,w),y=(A-S)*8;if(T===i.MIXED)return y;const b=y-c(T,h);switch(T){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(h,w){let T;const A=r.from(w,r.M);if(Array.isArray(h)){if(h.length>1)return d(h,A);if(h.length===0)return 1;T=h[0]}else T=h;return l(T.mode,T.getLength(),A)},t.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let w=h<<12;for(;e.getBCHDigit(w)-a>=0;)w^=o<<e.getBCHDigit(w)-a;return h<<12|w}})(KR);var QR={};const Av=bi,JR=1335,a5=21522,AI=Av.getBCHDigit(JR);QR.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Av.getBCHDigit(i)-AI>=0;)i^=JR<<Av.getBCHDigit(i)-AI;return(r<<10|i)^a5};var ZR={};const l5=_a;function Qc(t){this.mode=l5.NUMERIC,this.data=t.toString()}Qc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Qc.prototype.getLength=function(){return this.data.length};Qc.prototype.getBitsLength=function(){return Qc.getBitsLength(this.data.length)};Qc.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var c5=Qc;const u5=_a,j0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Jc(t){this.mode=u5.ALPHANUMERIC,this.data=t}Jc.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Jc.prototype.getLength=function(){return this.data.length};Jc.prototype.getBitsLength=function(){return Jc.getBitsLength(this.data.length)};Jc.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=j0.indexOf(this.data[n])*45;r+=j0.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(j0.indexOf(this.data[n]),6)};var d5=Jc;const f5=_a;function Zc(t){this.mode=f5.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Zc.getBitsLength=function(e){return e*8};Zc.prototype.getLength=function(){return this.data.length};Zc.prototype.getBitsLength=function(){return Zc.getBitsLength(this.data.length)};Zc.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var h5=Zc;const p5=_a,m5=bi;function Xc(t){this.mode=p5.KANJI,this.data=t}Xc.getBitsLength=function(e){return e*13};Xc.prototype.getLength=function(){return this.data.length};Xc.prototype.getBitsLength=function(){return Xc.getBitsLength(this.data.length)};Xc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=m5.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var g5=Xc,XR={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,f,h,w,T,A;!a.empty();){l=a.pop(),c=l.value,d=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(h=f[u],w=d+h,T=o[u],A=typeof o[u]>"u",(A||T>w)&&(o[u]=w,a.push(u,w),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(XR);var y5=XR.exports;(function(t){const e=_a,n=c5,r=d5,i=h5,s=g5,o=js,a=bi,l=y5;function c(S){return unescape(encodeURIComponent(S)).length}function u(S,y,b){const C=[];let E;for(;(E=S.exec(b))!==null;)C.push({data:E[0],index:E.index,mode:y,length:E[0].length});return C}function d(S){const y=u(o.NUMERIC,e.NUMERIC,S),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,S);let C,E;return a.isKanjiModeEnabled()?(C=u(o.BYTE,e.BYTE,S),E=u(o.KANJI,e.KANJI,S)):(C=u(o.BYTE_KANJI,e.BYTE,S),E=[]),y.concat(b,C,E).sort(function(k,z){return k.index-z.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function f(S,y){switch(y){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return s.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function h(S){return S.reduce(function(y,b){const C=y.length-1>=0?y[y.length-1]:null;return C&&C.mode===b.mode?(y[y.length-1].data+=b.data,y):(y.push(b),y)},[])}function w(S){const y=[];for(let b=0;b<S.length;b++){const C=S[b];switch(C.mode){case e.NUMERIC:y.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:y.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:y.push([C,{data:C.data,mode:e.BYTE,length:c(C.data)}]);break;case e.BYTE:y.push([{data:C.data,mode:e.BYTE,length:c(C.data)}])}}return y}function T(S,y){const b={},C={start:{}};let E=["start"];for(let I=0;I<S.length;I++){const k=S[I],z=[];for(let D=0;D<k.length;D++){const F=k[D],V=""+I+D;z.push(V),b[V]={node:F,lastCount:0},C[V]={};for(let G=0;G<E.length;G++){const x=E[G];b[x]&&b[x].node.mode===F.mode?(C[x][V]=f(b[x].lastCount+F.length,F.mode)-f(b[x].lastCount,F.mode),b[x].lastCount+=F.length):(b[x]&&(b[x].lastCount=F.length),C[x][V]=f(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,y))}}E=z}for(let I=0;I<E.length;I++)C[E[I]].end=0;return{map:C,table:b}}function A(S,y){let b;const C=e.getBestModeForData(S);if(b=e.from(y,C),b!==e.BYTE&&b.bit<C.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(C));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new s(S);case e.BYTE:return new i(S)}}t.fromArray=function(y){return y.reduce(function(b,C){return typeof C=="string"?b.push(A(C,null)):C.data&&b.push(A(C.data,C.mode)),b},[])},t.fromString=function(y,b){const C=d(y,a.isKanjiModeEnabled()),E=w(C),I=T(E,b),k=l.find_path(I.map,"start","end"),z=[];for(let D=1;D<k.length-1;D++)z.push(I.table[k[D]].node);return t.fromArray(h(z))},t.rawSplit=function(y){return t.fromArray(d(y,a.isKanjiModeEnabled()))}})(ZR);const Xg=bi,z0=Qg,w5=Z8,v5=X8,_5=WR,S5=VR,Cv=HR,Nv=Jg,b5=t5,wm=KR,E5=QR,T5=_a,W0=ZR;function I5(t,e){const n=t.size,r=S5.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function k5(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function A5(t,e){const n=_5.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function C5(t,e){const n=t.size,r=wm.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function V0(t,e,n){const r=t.size,i=E5.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function N5(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function M5(t,e,n){const r=new w5;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),T5.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Xg.getSymbolTotalCodewords(t),s=Nv.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return R5(r,t,e)}function R5(t,e,n){const r=Xg.getSymbolTotalCodewords(e),i=Nv.getTotalCodewordsCount(e,n),s=r-i,o=Nv.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,f=c-u,h=new b5(f);let w=0;const T=new Array(o),A=new Array(o);let S=0;const y=new Uint8Array(t.buffer);for(let k=0;k<o;k++){const z=k<l?u:d;T[k]=y.slice(w,w+z),A[k]=h.encode(T[k]),w+=z,S=Math.max(S,z)}const b=new Uint8Array(r);let C=0,E,I;for(E=0;E<S;E++)for(I=0;I<o;I++)E<T[I].length&&(b[C++]=T[I][E]);for(E=0;E<f;E++)for(I=0;I<o;I++)b[C++]=A[I][E];return b}function x5(t,e,n,r){let i;if(Array.isArray(t))i=W0.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=W0.rawSplit(t);c=wm.getBestVersionForData(u,n)}i=W0.fromString(t,c||40)}else throw new Error("Invalid data");const s=wm.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=M5(e,n,i),a=Xg.getSymbolSize(e),l=new v5(a);return I5(l,e),k5(l),A5(l,e),V0(l,n,0),e>=7&&C5(l,e),N5(l,o),isNaN(r)&&(r=Cv.getBestMask(l,V0.bind(null,l,n))),Cv.applyMask(r,l),V0(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}jR.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=z0.M,i,s;return typeof n<"u"&&(r=z0.from(n.errorCorrectionLevel,z0.M),i=wm.from(n.version),s=Cv.from(n.maskPattern),n.toSJISFunc&&Xg.setToSJISFunction(n.toSJISFunc)),x5(e,i,r,s)};var ex={},zb={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let h=0;h<c;h++){let w=(f*c+h)*4,T=s.color.light;if(f>=u&&h>=u&&f<c-u&&h<c-u){const A=Math.floor((f-u)/l),S=Math.floor((h-u)/l);T=d[a[A*o+S]?1:0]}r[w++]=T.r,r[w++]=T.g,r[w++]=T.b,r[w]=T.a}}})(zb);(function(t){const e=zb;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),d=c.getContext("2d"),f=d.createImageData(u,u);return e.qrToImageData(f.data,s,l),n(d,c,u),d.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(ex);var tx={};const D5=zb;function CI(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function H0(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function O5(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?H0("M",l+n,.5+c+n):H0("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=H0("h",o),o=0)):i++}return r}tx.render=function(e,n,r){const i=D5.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+CI(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+CI(i.color.dark,"stroke")+' d="'+O5(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const P5=Q8,Mv=jR,nx=ex,L5=tx;function Wb(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!P5())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Mv.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=Mv.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Of.create=Mv.create;Of.toCanvas=Wb.bind(null,nx.render);Of.toDataURL=Wb.bind(null,nx.renderToDataURL);Of.toString=Wb.bind(null,function(t,e,n){return L5.render(t,n)});var zr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(zr);var zs={};function Zh(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const vm="https://api.mainnet-beta.solana.com",rx="https://api.devnet.solana.com",ix="https://api.testnet.solana.com",sx="http://localhost:8899";function ox(t){return t.includes(vm)?zr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?zr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?zr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?zr.SOLANA_LOCALNET_CHAIN:zr.SOLANA_MAINNET_CHAIN}function $5(t,e){return e||(t===zr.SOLANA_MAINNET_CHAIN?vm:t===zr.SOLANA_DEVNET_CHAIN?rx:t===zr.SOLANA_TESTNET_CHAIN?ix:t===zr.SOLANA_LOCALNET_CHAIN?sx:vm)}function ax(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function B5(t,e){return ax(t,e)}function Vb({message:t,signedMessage:e,signature:n,publicKey:r}){return B5(t,e)&&El.verify(n,e,r)}function U5(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:i,signature:s}=e;return Vb({message:n,signedMessage:i,signature:s,publicKey:r})}function F5(t,e){const{signedMessage:n,signature:r,account:{publicKey:i}}=e,s=lx(t,e);return!!s&&Vb({message:s,signedMessage:n,signature:r,publicKey:i})}function lx(t,e){const n=cx(t,e);return n?new TextEncoder().encode(n):null}function cx(t,e){const n=ux(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!ax(t.resources,n.resources))return null}else if(n.resources)return null;return Hb(n)}function ux(t){const e=new TextDecoder().decode(t);return dx(e)}const j5="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",z5="(?<address>[^\\n]+)(?:\\n|$)",W5="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",V5="(?:\\nURI: (?<uri>[^\\n]+))?",H5="(?:\\nVersion: (?<version>[^\\n]+))?",G5="(?:\\nChain ID: (?<chainId>[^\\n]+))?",q5="(?:\\nNonce: (?<nonce>[^\\n]+))?",K5="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",Y5="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",Q5="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",J5="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",Z5="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",X5=`${V5}${H5}${G5}${q5}${K5}${Y5}${Q5}${J5}${Z5}`,ej=new RegExp(`^${j5}${z5}${W5}${X5}\\n*$`);function dx(t){var r;const e=ej.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function tj(t){const e=Hb(t);return new TextEncoder().encode(e)}function Hb(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const nj=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:rx,LOCALNET_ENDPOINT:sx,MAINNET_ENDPOINT:vm,TESTNET_ENDPOINT:ix,createSignInMessage:tj,createSignInMessageText:Hb,deriveSignInMessage:lx,deriveSignInMessageText:cx,getChainForEndpoint:ox,getCommitment:Zh,getEndpointForChain:$5,parseSignInMessage:ux,parseSignInMessageText:dx,verifyMessageSignature:Vb,verifySignIn:F5,verifySignMessage:U5},Symbol.toStringTag,{value:"Module"})),rj=Fi(nj);Object.defineProperty(zs,"__esModule",{value:!0});var ij=rj;const di={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class fi extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const sj={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class ey extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function ft(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function oj(t){return window.btoa(t)}function Rv(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function aj(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Xh(t,e){return ft(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function lj(t){return ij.createSignInMessageText(t)}function cj(t){return oj(lj(t))}const fx="solana:signTransactions",xv="solana:cloneAuthorization",uj="solana:signInWithSolana";function hx(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return ft(this,void 0,void 0,function*(){const{method:s,params:o}=dj(r,i,t),a=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield hj(o.sign_in_payload,a,e)),fj(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function dj(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=r;if(n==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=r;if(s)switch(n){case"legacy":{i="reauthorize",r={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function fj(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[fx];return r.supports_clone_authorization===!0&&i.push(xv),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(xv)})}}}return e}function hj(t,e,n){var r;return ft(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,s=e.accounts[0].address,o=cj(Object.assign(Object.assign({},t),{domain:i,address:s})),a=yield n("sign_messages",{addresses:[s],payloads:[o]});return{address:s,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const ao=4;function pj(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ao);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Dv=12,Gb=65;function mj(t,e,n){return ft(this,void 0,void 0,function*(){const r=pj(e),i=new Uint8Array(Dv);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(mx(r,i),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function px(t,e){return ft(this,void 0,void 0,function*(){const n=t.slice(0,ao),r=t.slice(ao,ao+Dv),i=t.slice(ao+Dv),s=yield crypto.subtle.decrypt(mx(n,r),e,i);return gj().decode(s)})}function mx(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let G0;function gj(){return G0===void 0&&(G0=new TextDecoder("utf-8")),G0}function gx(){return ft(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function ep(){return ft(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function yx(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function yj(){return wx(49152+Math.floor(Math.random()*16384))}function wx(t){if(t<49152||t>65535)throw new fi(di.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function vx(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const wj="solana-wallet";function NI(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function _x(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new fi(di.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${wj}:/`));const r=t.startsWith("/")?t:[...NI(n.pathname),...NI(t)].join("/");return new URL(r,n)}function vj(t,e,n,r=["v1"]){return ft(this,void 0,void 0,function*(){const i=wx(e),s=yield crypto.subtle.exportKey("raw",t),o=yx(s),a=_x("v1/associate/local",n);return a.searchParams.set("association",vx(o)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function _j(t,e,n,r,i=["v1"]){return ft(this,void 0,void 0,function*(){const s=yield crypto.subtle.exportKey("raw",t),o=yx(s),a=_x("v1/associate/remote",r);return a.searchParams.set("association",vx(o)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${Rv(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function Sx(t,e){return ft(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return mj(n,r,e)})}function bx(t,e){return ft(this,void 0,void 0,function*(){const n=yield px(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new ey(r.id,r.error.code,r.error.message);return r})}function Ex(t,e,n){return ft(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,Gb),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Tx(t,e){return ft(this,void 0,void 0,function*(){const n=yield px(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new fi(di.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const _m={Firefox:0,Other:1};function Sj(){return navigator.userAgent.indexOf("Firefox/")!==-1?_m.Firefox:_m.Other}function bj(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let zu=null;function Ej(t){zu==null&&(zu=document.createElement("iframe"),zu.style.display="none",document.body.appendChild(zu)),zu.contentWindow.location.href=t.toString()}function Tj(t){return ft(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=Sj();switch(e){case _m.Firefox:Ej(t);break;case _m.Other:{const n=bj();window.location.assign(t),yield n;break}default:}}catch{throw new fi(di.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Ij(t,e){return ft(this,void 0,void 0,function*(){const n=yj(),r=yield vj(t,n,e);return yield Tj(r),n})}const Sm={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Ix="com.solana.mobilewalletadapter.v1",MI="com.solana.mobilewalletadapter.v1.base64";function kx(){if(typeof window>"u"||window.isSecureContext!==!0)throw new fi(di.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Ax(t){let e;try{e=new URL(t)}catch{throw new fi(di.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new fi(di.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function bm(t){return new DataView(t).getUint32(0,!1)}function kj(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,s=0,o;do{if(s>=n||s>r)throw new RangeError("Failed to decode varint");o=e[s++],i|=(o&127)<<7*s}while(o>=128);return{value:i,offset:s}}function Aj(t){let{value:e,offset:n}=kj(t);return new Uint8Array(t.slice(n,n+e))}function Cj(t,e){return ft(this,void 0,void 0,function*(){kx();const n=yield gx(),i=`ws://localhost:${yield Ij(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let s;const o=(()=>{const u=[...Sm.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((u,d)=>{let f;const h={},w=()=>ft(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}f.removeEventListener("open",w);const{associationKeypair:E}=c,I=yield ep();f.send(yield Xh(I.publicKey,E.privateKey)),c={__type:"hello_req_sent",associationPublicKey:E.publicKey,ecdhPrivateKey:I.privateKey}}),T=E=>{E.wasClean?c={__type:"disconnected"}:d(new fi(di.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${E.code}: ${E.reason}).`,{closeEvent:E})),y()},A=E=>ft(this,void 0,void 0,function*(){y(),Date.now()-s>=Sm.timeoutMs?d(new fi(di.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(I=>{const k=o();b=window.setTimeout(I,k)}),C())}),S=E=>ft(this,void 0,void 0,function*(){const I=yield E.data.arrayBuffer();switch(c.__type){case"connecting":if(I.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const k=yield ep();f.send(yield Xh(k.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:k.privateKey};break;case"connected":try{const z=I.slice(0,ao),D=bm(z);if(D!==l+1)throw new Error("Encrypted message has invalid sequence number");l=D;const F=yield bx(I,c.sharedSecret),V=h[F.id];delete h[F.id],V.resolve(F.result)}catch(z){if(z instanceof ey){const D=h[z.jsonRpcMessageId];delete h[z.jsonRpcMessageId],D.reject(z)}else throw z}break;case"hello_req_sent":{if(I.byteLength===0){const G=yield ep();f.send(yield Xh(G.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:G.privateKey};break}const z=yield Ex(I,c.associationPublicKey,c.ecdhPrivateKey),D=I.slice(Gb),F=D.byteLength!==0?yield ft(this,void 0,void 0,function*(){const G=D.slice(0,ao),x=bm(G);if(x!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=x,Tx(D,z)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:z,sessionProperties:F};const V=hx(F.protocol_version,(G,x)=>ft(this,void 0,void 0,function*(){const p=a++;return f.send(yield Sx({id:p,jsonrpc:"2.0",method:G,params:x??{}},z)),new Promise((v,N)=>{h[p]={resolve(O){switch(G){case"authorize":case"reauthorize":{const{wallet_uri_base:M}=O;if(M!=null)try{Ax(M)}catch(B){N(B);return}break}}v(O)},reject:N}})}));try{u(yield t(V))}catch(G){d(G)}finally{y(),f.close()}break}}});let y,b;const C=()=>{y&&y(),c={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),f=new WebSocket(i,[Ix]),f.addEventListener("open",w),f.addEventListener("close",T),f.addEventListener("error",A),f.addEventListener("message",S),y=()=>{window.clearTimeout(b),f.removeEventListener("open",w),f.removeEventListener("close",T),f.removeEventListener("error",A),f.removeEventListener("message",S)}};C()})})}function Nj(t){return ft(this,void 0,void 0,function*(){kx();const e=yield gx(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const T=[...Sm.retryDelayScheduleMs];return()=>T.length>1?T.shift():T[0]})();let s=1,o=0,a,l={__type:"disconnected"},c,u,d=T=>ft(this,void 0,void 0,function*(){if(a=="base64"){const A=yield T.data;return aj(A).buffer}else return yield T.data.arrayBuffer()});const f=yield new Promise((T,A)=>{const S=()=>ft(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(MI)?a="base64":a="binary",c.removeEventListener("open",S)}),y=k=>{k.wasClean?l={__type:"disconnected"}:A(new fi(di.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${k.code}: ${k.reason}).`,{closeEvent:k})),u()},b=k=>ft(this,void 0,void 0,function*(){u(),Date.now()-r>=Sm.timeoutMs?A(new fi(di.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(z=>{const D=i();E=window.setTimeout(z,D)}),I())}),C=k=>ft(this,void 0,void 0,function*(){const z=yield d(k);if(l.__type==="connecting"){if(z.byteLength==0)throw new Error("Encountered unexpected message while connecting");const D=Aj(z);l={__type:"reflector_id_received",reflectorId:D};const F=yield _j(e.publicKey,t.remoteHostAuthority,D,t==null?void 0:t.baseUri);c.removeEventListener("message",C),T(F)}});let E;const I=()=>{u&&u(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[Ix,MI]),c.addEventListener("open",S),c.addEventListener("close",y),c.addEventListener("error",b),c.addEventListener("message",C),u=()=>{window.clearTimeout(E),c.removeEventListener("open",S),c.removeEventListener("close",y),c.removeEventListener("error",b),c.removeEventListener("message",C)}};I()});let h=!1,w;return{associationUrl:f,close:()=>{c.close(),w()},wallet:new Promise((T,A)=>{const S={},y=b=>ft(this,void 0,void 0,function*(){const C=yield d(b);switch(l.__type){case"reflector_id_received":if(C.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const E=yield ep(),I=yield Xh(E.publicKey,e.privateKey);a=="base64"?c.send(Rv(I)):c.send(I),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:E.privateKey};break;case"connected":try{const k=C.slice(0,ao),z=bm(k);if(z!==o+1)throw new Error("Encrypted message has invalid sequence number");o=z;const D=yield bx(C,l.sharedSecret),F=S[D.id];delete S[D.id],F.resolve(D.result)}catch(k){if(k instanceof ey){const z=S[k.jsonRpcMessageId];delete S[k.jsonRpcMessageId],z.reject(k)}else throw k}break;case"hello_req_sent":{const k=yield Ex(C,l.associationPublicKey,l.ecdhPrivateKey),z=C.slice(Gb),D=z.byteLength!==0?yield ft(this,void 0,void 0,function*(){const V=z.slice(0,ao),G=bm(V);if(G!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=G,Tx(z,k)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:k,sessionProperties:D};const F=hx(D.protocol_version,(V,G)=>ft(this,void 0,void 0,function*(){const x=s++,p=yield Sx({id:x,jsonrpc:"2.0",method:V,params:G??{}},k);return a=="base64"?c.send(Rv(p)):c.send(p),new Promise((v,N)=>{S[x]={resolve(O){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:M}=O;if(M!=null)try{Ax(M)}catch(B){N(B);return}break}}v(O)},reject:N}})}));h=!0;try{T(F)}catch(V){A(V)}break}}});c.addEventListener("message",y),w=()=>{c.removeEventListener("message",y),u(),h||A(new fi(di.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}zs.SolanaCloneAuthorization=xv;zs.SolanaMobileWalletAdapterError=fi;zs.SolanaMobileWalletAdapterErrorCode=di;zs.SolanaMobileWalletAdapterProtocolError=ey;zs.SolanaMobileWalletAdapterProtocolErrorCode=sj;zs.SolanaSignInWithSolana=uj;zs.SolanaSignTransactions=fx;var Mj=zs.startRemoteScenario=Nj,Rj=zs.transact=Cj;function xj(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var w=0,T=0,A=0,S=h.length;A!==S&&h[A]===0;)A++,w++;for(var y=(S-A)*c+1>>>0,b=new Uint8Array(y);A!==S;){for(var C=h[A],E=0,I=y-1;(C!==0||E<T)&&I!==-1;I--,E++)C+=256*b[I]>>>0,b[I]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");T=E,A++}for(var k=y-T;k!==y&&b[k]===0;)k++;for(var z=a.repeat(w);k<y;++k)z+=t.charAt(b[k]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var w=0,T=0,A=0;h[w]===a;)T++,w++;for(var S=(h.length-w)*l+1>>>0,y=new Uint8Array(S);h[w];){var b=h.charCodeAt(w);if(b>255)return;var C=e[b];if(C===255)return;for(var E=0,I=S-1;(C!==0||E<A)&&I!==-1;I--,E++)C+=o*y[I]>>>0,y[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");A=E,w++}for(var k=S-A;k!==S&&y[k]===0;)k++;for(var z=new Uint8Array(T+(S-k)),D=T;k!==S;)z[D++]=y[k++];return z}function f(h){var w=d(h);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:f}}var Dj=xj;const Oj=Dj,Pj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Lj=Oj(Pj);const $j=_l(Lj);function q0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kd(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Cx(t){return window.btoa(String.fromCharCode.call(null,...t))}function K0(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function RI(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return Cx(e)}function Bj(t){const n=t[0]*Vc+1;return Og.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Je.from(t):Hc.deserialize(t)}function Uj(t,e){return kd(this,void 0,void 0,function*(){return yield Rj(r=>t(Nx(r)),e)})}function Fj(t){return kd(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield Mj(t);return{wallet:e.then(s=>Nx(s)),close:n,associationUrl:r}})}function Nx(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:i,commitment:s,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,u=q0(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return kd(this,void 0,void 0,function*(){const d=c.map(RI),f={min_context_slot:i,commitment:s,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:h}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(f).some(T=>T!=null)?{options:f}:null),{payloads:d}));return h.map(K0).map($j.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:i}=r,s=q0(r,["payloads"]);return kd(this,void 0,void 0,function*(){const o=i.map(Cx),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},s),{payloads:o}));return a.map(K0)})};break;case"signTransactions":e[n]=function(r){var{transactions:i}=r,s=q0(r,["transactions"]);return kd(this,void 0,void 0,function*(){const o=i.map(RI),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},s),{payloads:o}));return a.map(K0).map(Bj)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const jj=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:Fj,transact:Uj},Symbol.toStringTag,{value:"Module"})),zj=Fi(jj);function Wj(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var w=0,T=0,A=0,S=h.length;A!==S&&h[A]===0;)A++,w++;for(var y=(S-A)*c+1>>>0,b=new Uint8Array(y);A!==S;){for(var C=h[A],E=0,I=y-1;(C!==0||E<T)&&I!==-1;I--,E++)C+=256*b[I]>>>0,b[I]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");T=E,A++}for(var k=y-T;k!==y&&b[k]===0;)k++;for(var z=a.repeat(w);k<y;++k)z+=t.charAt(b[k]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var w=0,T=0,A=0;h[w]===a;)T++,w++;for(var S=(h.length-w)*l+1>>>0,y=new Uint8Array(S);h[w];){var b=h.charCodeAt(w);if(b>255)return;var C=e[b];if(C===255)return;for(var E=0,I=S-1;(C!==0||E<A)&&I!==-1;I--,E++)C+=o*y[I]>>>0,y[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");A=E,w++}for(var k=S-A;k!==S&&y[k]===0;)k++;for(var z=new Uint8Array(T+(S-k)),D=T;k!==S;)z[D++]=y[k++];return z}function f(h){var w=d(h);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:f}}var Vj=Wj;const Hj=Vj,Gj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var qj=Hj(Gj);Object.defineProperty(Fs,"__esModule",{value:!0});var Kn=Fe,df=Bb,Kj=Of,Ac=is,xI=zr,Mx=zj,Yj=qj;function Rx(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Qj=Rx(Kj),Em=Rx(Yj);function Re(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function H(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function je(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Zu,On,Ca,jl,xx,Dx,Ox,tp;const Jj=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Zj=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,Xj=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Px{constructor(){Zu.add(this),On.set(this,null),Ca.set(this,{}),jl.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),H(this,Zu,"m",Dx).call(this),H(this,On,"f")&&(H(this,On,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),H(this,Zu,"m",Ox).call(this),H(this,On,"f")&&(H(this,On,"f").style.display="none"),(n=H(this,Ca,"f").close)===null||n===void 0||n.forEach(r=>r(e))},tp.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),je(this,On,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Re(this,void 0,void 0,function*(){console.log("Injecting modal"),H(this,Zu,"m",xx).call(this)})}addEventListener(e,n){var r;return!((r=H(this,Ca,"f")[e])===null||r===void 0)&&r.push(n)||(H(this,Ca,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;H(this,Ca,"f")[e]=(r=H(this,Ca,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}On=new WeakMap,Ca=new WeakMap,jl=new WeakMap,tp=new WeakMap,Zu=new WeakSet,xx=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){H(this,On,"f")||je(this,On,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}je(this,On,document.createElement("div")),H(this,On,"f").id="mobile-wallet-adapter-embedded-root-ui",H(this,On,"f").innerHTML=Jj,H(this,On,"f").style.display="none";const e=H(this,On,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=Zj+this.contentStyles;const r=document.createElement("div");r.innerHTML=Xj,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(H(this,On,"f")),document.body.appendChild(r)},Dx=function(){if(!H(this,On,"f")||H(this,jl,"f"))return;[...H(this,On,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",H(this,tp,"f")),je(this,jl,!0)},Ox=function(){if(!H(this,jl,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",H(this,tp,"f")),!H(this,On,"f")))return;[...H(this,On,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),je(this,jl,!1)};class ez extends Px{constructor(){super(...arguments),this.contentStyles=nz,this.contentHtml=tz}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Re(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Re(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield Qj.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const tz=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,nz=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,Lx="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function $x(t){return"version"in t}function Bx(t){return window.btoa(String.fromCharCode.call(null,...t))}function qo(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var zl,Ha,Ov,Pv,Lv,$v,Xu,Ir,Ks,Ro,Wl,Vl,np,ed,rp,Bv,ip,Ux,Uv,sp,Hl,Fv,td,op,Gl,nd,ap,jv,zv,lp,Wv,Vv,Hv,cp,ql,Ga,Gv,qv,Kv,Yv,rd,kr,xo,Do,Kl,Yl,up,id,dp,fp,Hi,Qv,hp,Fx,Jv,pp,sd,Zv,od,mp,Ql,ad,gp,Xv,e_,yp,t_,n_,r_,wp;const qb="Mobile Wallet Adapter",jx=64,zx=[Kn.SolanaSignAndSendTransaction,Kn.SolanaSignTransaction,Kn.SolanaSignMessage,Kn.SolanaSignIn];class Wx{constructor(e){zl.add(this),Ha.set(this,{}),Ov.set(this,"1.0.0"),Pv.set(this,qb),Lv.set(this,"https://solanamobile.com/wallets"),$v.set(this,Lx),Xu.set(this,void 0),Ir.set(this,void 0),Ks.set(this,void 0),Ro.set(this,!1),Wl.set(this,0),Vl.set(this,[]),np.set(this,void 0),ed.set(this,void 0),rp.set(this,void 0),Bv.set(this,(n,r)=>{var i;return!((i=H(this,Ha,"f")[n])===null||i===void 0)&&i.push(r)||(H(this,Ha,"f")[n]=[r]),()=>H(this,zl,"m",Ux).call(this,n,r)}),Uv.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(H(this,Ro,"f")||this.connected)return{accounts:this.accounts};je(this,Ro,!0);try{if(n){const r=yield H(this,Ks,"f").get();if(r)yield H(this,Hl,"f").call(this,r);else return{accounts:this.accounts}}else yield H(this,sp,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{je(this,Ro,!1)}return{accounts:this.accounts}})),sp.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield H(this,Ks,"f").get();if(r)return H(this,Hl,"f").call(this,r),r;const i=yield H(this,np,"f").select(H(this,Vl,"f"));return yield H(this,Gl,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:H(this,Xu,"f"),sign_in_payload:n})]),l=H(this,ap,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([H(this,Fv,"f").call(this,o),H(this,Ks,"f").set(c),H(this,Hl,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Hl.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=H(this,Ir,"f")==null||((r=H(this,Ir,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||H(this,Ir,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);je(this,Ir,n),i&&H(this,zl,"m",ip).call(this,"change",{accounts:this.accounts})})),Fv.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,s=Kn.SolanaSignAndSendTransaction in this.features!==i||Kn.SolanaSignTransaction in this.features!==r;je(this,ed,Object.assign(Object.assign({},(i||!i&&!r)&&{[Kn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,lp,"f")}}),r&&{[Kn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:H(this,Wv,"f")}})),s&&H(this,zl,"m",ip).call(this,"change",{features:this.features})})),td.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const s=yield n.authorize({auth_token:r,identity:H(this,Xu,"f"),chain:i}),o=H(this,ap,"f").call(this,s.accounts),a=Object.assign(Object.assign({},s),{accounts:o,chain:i});Promise.all([H(this,Ks,"f").set(a),H(this,Hl,"f").call(this,a)])}catch(s){throw H(this,op,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),op.set(this,()=>Re(this,void 0,void 0,function*(){var n;H(this,Ks,"f").clear(),je(this,Ro,!1),je(this,Wl,(n=H(this,Wl,"f"),n++,n)),je(this,Ir,void 0),H(this,zl,"m",ip).call(this,"change",{accounts:this.accounts})})),Gl.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=H(this,Ir,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=i?{baseUri:i}:void 0,o=H(this,Wl,"f");try{return yield Mx.transact(n,s)}catch(a){throw H(this,Wl,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield H(this,rp,"f").call(this,this)),a}})),nd.set(this,()=>{if(!H(this,Ir,"f"))throw new Error("Wallet not connected");return{authToken:H(this,Ir,"f").auth_token,chain:H(this,Ir,"f").chain}}),ap.set(this,n=>n.map(r=>{var i,s;const o=qo(r.address);return{address:Em.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:H(this,Vl,"f"),features:(s=r.features)!==null&&s!==void 0?s:zx}})),jv.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,nd,"f").call(this);try{return yield H(this,Gl,"f").call(this,s=>Re(this,void 0,void 0,function*(){return yield H(this,td,"f").call(this,s,r,i),yield s.signTransactions({transactions:n})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),zv.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:s}=H(this,nd,"f").call(this);try{return yield H(this,Gl,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),H(this,td,"f").call(this,o,i,s)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),lp.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=df.VersionedTransaction.deserialize(i.transaction),o=yield H(this,zv,"f").call(this,s,i.options);r.push({signature:Em.default.decode(o)})}return r})),Wv.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:s})=>df.VersionedTransaction.deserialize(s));return(yield H(this,jv,"f").call(this,r)).map(s=>({signedTransaction:$x(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),Vv.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,nd,"f").call(this),s=n.map(({account:a})=>Bx(a.publicKey)),o=n.map(({message:a})=>a);try{return yield H(this,Gl,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield H(this,td,"f").call(this,a,r,i),(yield a.signMessages({addresses:s,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-jx)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Hv.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield H(this,cp,"f").call(this,i));else return[yield H(this,cp,"f").call(this,n[0])];return r})),cp.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;je(this,Ro,!0);try{const s=yield H(this,sp,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(l=>l.address==o))!==null&&i!==void 0?i:{address:o}),{publicKey:qo(o)}),signedMessage:qo(s.sign_in_result.signed_message),signature:qo(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{je(this,Ro,!1)}})),je(this,Ks,e.authorizationCache),je(this,Xu,e.appIdentity),je(this,Vl,e.chains),je(this,np,e.chainSelector),je(this,rp,e.onWalletNotFound),je(this,ed,{[Kn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,lp,"f")}})}get version(){return H(this,Ov,"f")}get name(){return H(this,Pv,"f")}get url(){return H(this,Lv,"f")}get icon(){return H(this,$v,"f")}get chains(){return H(this,Vl,"f")}get features(){return Object.assign({[Ac.StandardConnect]:{version:"1.0.0",connect:H(this,Uv,"f")},[Ac.StandardDisconnect]:{version:"1.0.0",disconnect:H(this,op,"f")},[Ac.StandardEvents]:{version:"1.0.0",on:H(this,Bv,"f")},[Kn.SolanaSignMessage]:{version:"1.0.0",signMessage:H(this,Vv,"f")},[Kn.SolanaSignIn]:{version:"1.0.0",signIn:H(this,Hv,"f")}},H(this,ed,"f"))}get accounts(){var e,n;return(n=(e=H(this,Ir,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!H(this,Ir,"f")}get isAuthorized(){return!!H(this,Ir,"f")}get currentAuthorization(){return H(this,Ir,"f")}get cachedAuthorizationResult(){return H(this,Ks,"f").get()}}Ha=new WeakMap,Ov=new WeakMap,Pv=new WeakMap,Lv=new WeakMap,$v=new WeakMap,Xu=new WeakMap,Ir=new WeakMap,Ks=new WeakMap,Ro=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,np=new WeakMap,ed=new WeakMap,rp=new WeakMap,Bv=new WeakMap,Uv=new WeakMap,sp=new WeakMap,Hl=new WeakMap,Fv=new WeakMap,td=new WeakMap,op=new WeakMap,Gl=new WeakMap,nd=new WeakMap,ap=new WeakMap,jv=new WeakMap,zv=new WeakMap,lp=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,Hv=new WeakMap,cp=new WeakMap,zl=new WeakSet,ip=function(e,...n){var r;(r=H(this,Ha,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},Ux=function(e,n){var r;H(this,Ha,"f")[e]=(r=H(this,Ha,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class Vx{constructor(e){ql.add(this),Ga.set(this,{}),Gv.set(this,"1.0.0"),qv.set(this,qb),Kv.set(this,"https://solanamobile.com/wallets"),Yv.set(this,Lx),rd.set(this,void 0),kr.set(this,void 0),xo.set(this,void 0),Do.set(this,!1),Kl.set(this,0),Yl.set(this,[]),up.set(this,void 0),id.set(this,void 0),dp.set(this,void 0),fp.set(this,void 0),Hi.set(this,void 0),Qv.set(this,(n,r)=>{var i;return!((i=H(this,Ga,"f")[n])===null||i===void 0)&&i.push(r)||(H(this,Ga,"f")[n]=[r]),()=>H(this,ql,"m",Fx).call(this,n,r)}),Jv.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(H(this,Do,"f")||this.connected)return{accounts:this.accounts};je(this,Do,!0);try{yield H(this,pp,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{je(this,Do,!1)}return{accounts:this.accounts}})),pp.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield H(this,xo,"f").get();if(r)return H(this,sd,"f").call(this,r),r;H(this,Hi,"f")&&je(this,Hi,void 0,"f");const i=yield H(this,up,"f").select(H(this,Yl,"f"));return yield H(this,Ql,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:H(this,rd,"f"),sign_in_payload:n})]),l=H(this,gp,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([H(this,Zv,"f").call(this,o),H(this,xo,"f").set(c),H(this,sd,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),sd.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=H(this,kr,"f")==null||((r=H(this,kr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||H(this,kr,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);je(this,kr,n),i&&H(this,ql,"m",hp).call(this,"change",{accounts:this.accounts})})),Zv.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),s=Kn.SolanaSignAndSendTransaction in this.features!==i||Kn.SolanaSignTransaction in this.features!==r;je(this,id,Object.assign(Object.assign({},i&&{[Kn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:H(this,yp,"f")}}),r&&{[Kn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:H(this,t_,"f")}})),s&&H(this,ql,"m",hp).call(this,"change",{features:this.features})})),od.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const s=yield n.authorize({auth_token:r,identity:H(this,rd,"f")}),o=H(this,gp,"f").call(this,s.accounts),a=Object.assign(Object.assign({},s),{accounts:o,chain:i});Promise.all([H(this,xo,"f").set(a),H(this,sd,"f").call(this,a)])}catch(s){throw H(this,mp,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),mp.set(this,()=>Re(this,void 0,void 0,function*(){var n,r;(n=H(this,Hi,"f"))===null||n===void 0||n.close(),H(this,xo,"f").clear(),je(this,Do,!1),je(this,Kl,(r=H(this,Kl,"f"),r++,r)),je(this,kr,void 0),je(this,Hi,void 0),H(this,ql,"m",hp).call(this,"change",{accounts:this.accounts})})),Ql.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=H(this,kr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:H(this,fp,"f")}),a=H(this,Kl,"f"),l=new ez;if(H(this,Hi,"f"))return n(H(this,Hi,"f").wallet);try{const{associationUrl:c,close:u,wallet:d}=yield Mx.startRemoteScenario(o),f=l.addEventListener("close",h=>{h&&u()});return l.initWithQR(c.toString()),l.open(),je(this,Hi,{close:u,wallet:yield d},"f"),f(),l.close(),yield n(H(this,Hi,"f").wallet)}catch(c){throw l.close(),H(this,Kl,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield H(this,dp,"f").call(this,this)),c}})),ad.set(this,()=>{if(!H(this,kr,"f"))throw new Error("Wallet not connected");return{authToken:H(this,kr,"f").auth_token,chain:H(this,kr,"f").chain}}),gp.set(this,n=>n.map(r=>{var i,s;const o=qo(r.address);return{address:Em.default.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:H(this,Yl,"f"),features:(s=r.features)!==null&&s!==void 0?s:zx}})),Xv.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,ad,"f").call(this);try{return yield H(this,Ql,"f").call(this,s=>Re(this,void 0,void 0,function*(){return yield H(this,od,"f").call(this,s,r,i),yield s.signTransactions({transactions:n})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),e_.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:s}=H(this,ad,"f").call(this);try{return yield H(this,Ql,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),H(this,od,"f").call(this,o,i,s)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),yp.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=df.VersionedTransaction.deserialize(i.transaction),o=yield H(this,e_,"f").call(this,s,i.options);r.push({signature:Em.default.decode(o)})}return r})),t_.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:s})=>df.VersionedTransaction.deserialize(s));return(yield H(this,Xv,"f").call(this,r)).map(s=>({signedTransaction:$x(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),n_.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,ad,"f").call(this),s=n.map(({account:a})=>Bx(a.publicKey)),o=n.map(({message:a})=>a);try{return yield H(this,Ql,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield H(this,od,"f").call(this,a,r,i),(yield a.signMessages({addresses:s,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-jx)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),r_.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield H(this,wp,"f").call(this,i));else return[yield H(this,wp,"f").call(this,n[0])];return r})),wp.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;je(this,Do,!0);try{const s=yield H(this,pp,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(l=>l.address==o))!==null&&i!==void 0?i:{address:o}),{publicKey:qo(o)}),signedMessage:qo(s.sign_in_result.signed_message),signature:qo(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{je(this,Do,!1)}})),je(this,xo,e.authorizationCache),je(this,rd,e.appIdentity),je(this,Yl,e.chains),je(this,up,e.chainSelector),je(this,fp,e.remoteHostAuthority),je(this,dp,e.onWalletNotFound),je(this,id,{[Kn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,yp,"f")}})}get version(){return H(this,Gv,"f")}get name(){return H(this,qv,"f")}get url(){return H(this,Kv,"f")}get icon(){return H(this,Yv,"f")}get chains(){return H(this,Yl,"f")}get features(){return Object.assign({[Ac.StandardConnect]:{version:"1.0.0",connect:H(this,Jv,"f")},[Ac.StandardDisconnect]:{version:"1.0.0",disconnect:H(this,mp,"f")},[Ac.StandardEvents]:{version:"1.0.0",on:H(this,Qv,"f")},[Kn.SolanaSignMessage]:{version:"1.0.0",signMessage:H(this,n_,"f")},[Kn.SolanaSignIn]:{version:"1.0.0",signIn:H(this,r_,"f")}},H(this,id,"f"))}get accounts(){var e,n;return(n=(e=H(this,kr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!H(this,Hi,"f")&&!!H(this,kr,"f")}get isAuthorized(){return!!H(this,kr,"f")}get currentAuthorization(){return H(this,kr,"f")}get cachedAuthorizationResult(){return H(this,xo,"f").get()}}Ga=new WeakMap,Gv=new WeakMap,qv=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,rd=new WeakMap,kr=new WeakMap,xo=new WeakMap,Do=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,up=new WeakMap,id=new WeakMap,dp=new WeakMap,fp=new WeakMap,Hi=new WeakMap,Qv=new WeakMap,Jv=new WeakMap,pp=new WeakMap,sd=new WeakMap,Zv=new WeakMap,od=new WeakMap,mp=new WeakMap,Ql=new WeakMap,ad=new WeakMap,gp=new WeakMap,Xv=new WeakMap,e_=new WeakMap,yp=new WeakMap,t_=new WeakMap,n_=new WeakMap,r_=new WeakMap,wp=new WeakMap,ql=new WeakSet,hp=function(e,...n){var r;(r=H(this,Ga,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},Fx=function(e,n){var r;H(this,Ga,"f")[e]=(r=H(this,Ga,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var rz=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},iz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vp;function DI(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new sz(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let sz=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),vp.set(this,void 0),rz(this,vp,e,"f")}get detail(){return iz(this,vp,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};vp=new WeakMap;function oz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function az(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function lz(t){oz()?DI(new Wx(t)):az()&&t.remoteHostAuthority!==void 0&&DI(new Vx(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const cz="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",uz="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class dz extends Px{constructor(){super(...arguments),this.contentStyles=hz,this.contentHtml=fz}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),s=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=cz,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=uz,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const fz=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,hz=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Hx(){return Re(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new dz;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function pz(){return()=>Re(this,void 0,void 0,function*(){Hx()})}const Y0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function mz(){let t;try{t=window.localStorage}catch{}return{clear(){return Re(this,void 0,void 0,function*(){if(t)try{t.removeItem(Y0)}catch{}})},get(){return Re(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Y0));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new df.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Re(this,void 0,void 0,function*(){if(t)try{t.setItem(Y0,JSON.stringify(e))}catch{}})}}}function gz(){return{select(t){return Re(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(xI.SOLANA_MAINNET_CHAIN)?xI.SOLANA_MAINNET_CHAIN:t[0]})}}}Fs.LocalSolanaMobileWalletAdapterWallet=Wx;Fs.RemoteSolanaMobileWalletAdapterWallet=Vx;Fs.SolanaMobileWalletAdapterWalletName=qb;Fs.createDefaultAuthorizationCache=mz;Fs.createDefaultChainSelector=gz;Fs.createDefaultWalletNotFoundHandler=pz;Fs.defaultErrorModalWalletNotFoundHandler=Hx;Fs.registerMwa=lz;Object.defineProperty(va,"__esModule",{value:!0});var Pn=Y8,_p=Bb,La=Fe,eu=Fs;function mt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ie(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ri(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const i_="standard:connect",yz="standard:disconnect",wz="standard:events";function Q0(t){return window.btoa(String.fromCharCode.call(null,...t))}function vz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var zn,jt,Uo,to,Sp,Zs,Na,s_,o_,Gx,Tm,bp,Lo;const _z="Mobile Wallet Adapter",Sz=64;function bz(t){return"version"in t}function Kb(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class qx extends Pn.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),zn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),jt.set(this,void 0),Uo.set(this,!1),to.set(this,vz()?Pn.WalletReadyState.Loadable:Pn.WalletReadyState.Unsupported),Sp.set(this,void 0),Zs.set(this,void 0),Na.set(this,void 0),s_.set(this,r=>mt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ie(this,zn,"m",Gx).call(this);const i=yield Ie(this,Sp,"f").call(this,r.accounts);i!==Ie(this,Zs,"f")&&(ri(this,Zs,i),ri(this,Na,void 0),this.emit("connect",this.publicKey))}})),ri(this,Sp,r=>mt(this,void 0,void 0,function*(){var i;const s=yield n.addressSelector.select(r.map(({publicKey:o})=>Q0(o)));return(i=r.find(({publicKey:o})=>Q0(o)===s))!==null&&i!==void 0?i:r[0]})),ri(this,jt,e),Ie(this,jt,"f").features[wz].on("change",Ie(this,s_,"f")),this.name=Ie(this,jt,"f").name,this.icon=Ie(this,jt,"f").icon,this.url=Ie(this,jt,"f").url}get publicKey(){var e;if(!Ie(this,Na,"f")&&Ie(this,Zs,"f"))try{ri(this,Na,new _p.PublicKey(Ie(this,Zs,"f").publicKey),"f")}catch(n){throw new Pn.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Ie(this,Na,"f"))!==null&&e!==void 0?e:null}get connected(){return Ie(this,jt,"f").connected}get connecting(){return Ie(this,Uo,"f")}get readyState(){return Ie(this,to,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return mt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return mt(this,void 0,void 0,function*(){Ie(this,zn,"m",o_).call(this,!0)})}connect(){return mt(this,void 0,void 0,function*(){Ie(this,zn,"m",o_).call(this)})}performAuthorization(e){return mt(this,void 0,void 0,function*(){try{const n=yield Ie(this,jt,"f").cachedAuthorizationResult;return n?(yield Ie(this,jt,"f").features[i_].connect({silent:!0}),n):(e?yield Ie(this,jt,"f").features[La.SolanaSignIn].signIn(e):yield Ie(this,jt,"f").features[i_].connect(),yield yield Ie(this,jt,"f").cachedAuthorizationResult)}catch(n){throw new Pn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){ri(this,Uo,!1),ri(this,Na,void 0),ri(this,Zs,void 0),yield Ie(this,jt,"f").features[yz].disconnect(),this.emit("disconnect")}))})}signIn(e){return mt(this,void 0,void 0,function*(){return Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){var n;if(Ie(this,to,"f")!==Pn.WalletReadyState.Installed&&Ie(this,to,"f")!==Pn.WalletReadyState.Loadable)throw new Pn.WalletNotReadyError;ri(this,Uo,!0);try{const r=yield Ie(this,jt,"f").features[La.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Pn.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{ri(this,Uo,!1)}}))})}signMessage(e){return mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){const n=Ie(this,zn,"m",Tm).call(this);try{return(yield Ie(this,jt,"f").features[La.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Pn.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){const i=Ie(this,zn,"m",Tm).call(this);try{let s=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(La.SolanaSignAndSendTransaction in Ie(this,jt,"f").features){const o=Kb(Ie(this,jt,"f").currentAuthorization.chain),[a]=(yield Ie(this,jt,"f").features[La.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Q0(l.signature));return a}else{const[o]=yield Ie(this,zn,"m",bp).call(this,[e]);if(bz(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:s()}))}}}catch(s){throw new Pn.WalletSendTransactionError(s==null?void 0:s.message,s)}}))})}signTransaction(e){return mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){const[n]=yield Ie(this,zn,"m",bp).call(this,[e]);return n}))})}signAllTransactions(e){return mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){return yield Ie(this,zn,"m",bp).call(this,e)}))})}}jt=new WeakMap,Uo=new WeakMap,to=new WeakMap,Sp=new WeakMap,Zs=new WeakMap,Na=new WeakMap,s_=new WeakMap,zn=new WeakSet,o_=function(e=!1){return mt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ie(this,zn,"m",Lo).call(this,()=>mt(this,void 0,void 0,function*(){if(Ie(this,to,"f")!==Pn.WalletReadyState.Installed&&Ie(this,to,"f")!==Pn.WalletReadyState.Loadable)throw new Pn.WalletNotReadyError;ri(this,Uo,!0);try{yield Ie(this,jt,"f").features[i_].connect({silent:e})}catch(n){throw new Pn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{ri(this,Uo,!1)}}))})},Gx=function(){Ie(this,to,"f")!==Pn.WalletReadyState.Installed&&this.emit("readyStateChange",ri(this,to,Pn.WalletReadyState.Installed))},Tm=function(){if(!Ie(this,jt,"f").isAuthorized||!Ie(this,Zs,"f"))throw new Pn.WalletNotConnectedError;return Ie(this,Zs,"f")},bp=function(e){return mt(this,void 0,void 0,function*(){const n=Ie(this,zn,"m",Tm).call(this);try{if(La.SolanaSignTransaction in Ie(this,jt,"f").features)return Ie(this,jt,"f").features[La.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const s=i.signedTransaction,a=s[0]*Sz+1;return _p.VersionedMessage.deserializeMessageVersion(s.slice(a,s.length))==="legacy"?_p.Transaction.from(s):_p.VersionedTransaction.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Pn.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Lo=function(e){return mt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class Kx extends qx{constructor(e){var n;const r=Kb((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new eu.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>mt(this,void 0,void 0,function*(){const i=yield e.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:eu.createDefaultChainSelector(),onWalletNotFound:()=>mt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class Ez extends qx{constructor(e){const n=Kb(e.chain);super(new eu.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>mt(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:eu.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>mt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class Tz extends Kx{}function Iz(){return{select(t){return mt(this,void 0,void 0,function*(){return t[0]})}}}function kz(){return eu.createDefaultAuthorizationCache()}function Az(t){return mt(this,void 0,void 0,function*(){return eu.defaultErrorModalWalletNotFoundHandler()})}function Cz(){return Az}va.LocalSolanaMobileWalletAdapter=Kx;va.RemoteSolanaMobileWalletAdapter=Ez;var Nz=va.SolanaMobileWalletAdapter=Tz,Ep=va.SolanaMobileWalletAdapterWalletName=_z,Mz=va.createDefaultAddressSelector=Iz,Rz=va.createDefaultAuthorizationResultCache=kz,xz=va.createDefaultWalletNotFoundHandler=Cz,Dz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Oz=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Tp;function Pz(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new Lz(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class Lz extends Event{get detail(){return Dz(this,Tp,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Tp.set(this,void 0),Oz(this,Tp,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Tp=new WeakMap;function $z(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Bz(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,d=0,f=0;const h=c.length;for(;f!==h&&c[f]===0;)f++,u++;const w=(h-f)*s+1>>>0,T=new Uint8Array(w);for(;f!==h;){let y=c[f],b=0;for(let C=w-1;(y!==0||b<d)&&C!==-1;C--,b++)y+=256*T[C]>>>0,T[C]=y%n>>>0,y=y/n>>>0;if(y!==0)throw new Error("Non-zero carry");d=b,f++}let A=w-d;for(;A!==w&&T[A]===0;)A++;let S=r.repeat(u);for(;A<w;++A)S+=t.charAt(T[A]);return S}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;c[u]===r;)d++,u++;const h=(c.length-u)*i+1>>>0,w=new Uint8Array(h);for(;u<c.length;){const y=c.charCodeAt(u);if(y>255)return;let b=e[y];if(b===255)return;let C=0;for(let E=h-1;(b!==0||C<f)&&E!==-1;E--,C++)b+=n*w[E]>>>0,w[E]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=C,u++}let T=h-f;for(;T!==h&&w[T]===0;)T++;const A=new Uint8Array(d+(h-T));let S=d;for(;T!==h;)A[S++]=w[T++];return A}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var Uz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Fz=Bz(Uz);var Se=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Rn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},tr,$r,qa,Ka,Ma,ld,Im,rt,km,a_,Ip,l_,Ad,c_,OI,PI,LI,$I;class jz extends Lb{get name(){return Se(this,rt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Se(this,rt,"f").icon}get readyState(){return Se(this,km,"f")}get publicKey(){return Se(this,qa,"f")}get connecting(){return Se(this,Ka,"f")}get supportedTransactionVersions(){return Se(this,Im,"f")}get wallet(){return Se(this,rt,"f")}get standard(){return!0}constructor({wallet:e}){super(),tr.add(this),$r.set(this,void 0),qa.set(this,void 0),Ka.set(this,void 0),Ma.set(this,void 0),ld.set(this,void 0),Im.set(this,void 0),rt.set(this,void 0),km.set(this,typeof window>"u"||typeof document>"u"?st.Unsupported:st.Installed),c_.set(this,n=>{if("accounts"in n){const r=Se(this,rt,"f").accounts[0];Se(this,$r,"f")&&!Se(this,Ma,"f")&&r!==Se(this,$r,"f")&&(r?Se(this,tr,"m",Ip).call(this,r):(this.emit("error",new Fg),Se(this,tr,"m",l_).call(this)))}"features"in n&&Se(this,tr,"m",Ad).call(this)}),Rn(this,rt,e,"f"),Rn(this,$r,null,"f"),Rn(this,qa,null,"f"),Rn(this,Ka,!1,"f"),Rn(this,Ma,!1,"f"),Rn(this,ld,Se(this,rt,"f").features[is.StandardEvents].on("change",Se(this,c_,"f")),"f"),Se(this,tr,"m",Ad).call(this)}destroy(){Rn(this,$r,null,"f"),Rn(this,qa,null,"f"),Rn(this,Ka,!1,"f"),Rn(this,Ma,!1,"f");const e=Se(this,ld,"f");e&&(Rn(this,ld,null,"f"),e())}async autoConnect(){return Se(this,tr,"m",a_).call(this,{silent:!0})}async connect(){return Se(this,tr,"m",a_).call(this)}async disconnect(){if(is.StandardDisconnect in Se(this,rt,"f").features)try{Rn(this,Ma,!0,"f"),await Se(this,rt,"f").features[is.StandardDisconnect].disconnect()}catch(e){this.emit("error",new jg(e==null?void 0:e.message,e))}finally{Rn(this,Ma,!1,"f")}Se(this,tr,"m",l_).call(this)}async sendTransaction(e,n,r={}){try{const i=Se(this,$r,"f");if(!i)throw new un;let s;if(Fe.SolanaSignAndSendTransaction in Se(this,rt,"f").features)if(i.features.includes(Fe.SolanaSignAndSendTransaction))s=Fe.SolanaSignAndSendTransaction;else if(Fe.SolanaSignTransaction in Se(this,rt,"f").features&&i.features.includes(Fe.SolanaSignTransaction))s=Fe.SolanaSignTransaction;else throw new Ho;else if(Fe.SolanaSignTransaction in Se(this,rt,"f").features){if(!i.features.includes(Fe.SolanaSignTransaction))throw new Ho;s=Fe.SolanaSignTransaction}else throw new Va;const o=ox(n.rpcEndpoint);if(!i.chains.includes(o))throw new oo;try{const{signers:a,...l}=r;let c;if(Is(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Fe.SolanaSignAndSendTransaction){const[u]=await Se(this,rt,"f").features[Fe.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:Zh(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Fz.encode(u.signature)}else{const[u]=await Se(this,rt,"f").features[Fe.SolanaSignTransaction].signTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:Zh(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...l,preflightCommitment:Zh(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof qt?a:new oo(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}$r=new WeakMap,qa=new WeakMap,Ka=new WeakMap,Ma=new WeakMap,ld=new WeakMap,Im=new WeakMap,rt=new WeakMap,km=new WeakMap,c_=new WeakMap,tr=new WeakSet,a_=async function(e){try{if(this.connected||this.connecting)return;if(Se(this,km,"f")!==st.Installed)throw new Kc;if(Rn(this,Ka,!0,"f"),!Se(this,rt,"f").accounts.length)try{await Se(this,rt,"f").features[is.StandardConnect].connect(e)}catch(r){throw new cf(r==null?void 0:r.message,r)}const n=Se(this,rt,"f").accounts[0];if(!n)throw new Ho;Se(this,tr,"m",Ip).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Rn(this,Ka,!1,"f")}},Ip=function(e){let n;try{n=new oe(e.address)}catch(r){throw new Yc(r==null?void 0:r.message,r)}Rn(this,$r,e,"f"),Rn(this,qa,n,"f"),Se(this,tr,"m",Ad).call(this),this.emit("connect",n)},l_=function(){Rn(this,$r,null,"f"),Rn(this,qa,null,"f"),Se(this,tr,"m",Ad).call(this),this.emit("disconnect")},Ad=function(){var n,r;const e=Fe.SolanaSignAndSendTransaction in Se(this,rt,"f").features?Se(this,rt,"f").features[Fe.SolanaSignAndSendTransaction].supportedTransactionVersions:Se(this,rt,"f").features[Fe.SolanaSignTransaction].supportedTransactionVersions;Rn(this,Im,$z(e,["legacy"])?null:new Set(e),"f"),Fe.SolanaSignTransaction in Se(this,rt,"f").features&&((n=Se(this,$r,"f"))!=null&&n.features.includes(Fe.SolanaSignTransaction))?(this.signTransaction=Se(this,tr,"m",OI),this.signAllTransactions=Se(this,tr,"m",PI)):(delete this.signTransaction,delete this.signAllTransactions),Fe.SolanaSignMessage in Se(this,rt,"f").features&&((r=Se(this,$r,"f"))!=null&&r.features.includes(Fe.SolanaSignMessage))?this.signMessage=Se(this,tr,"m",LI):delete this.signMessage,Fe.SolanaSignIn in Se(this,rt,"f").features?this.signIn=Se(this,tr,"m",$I):delete this.signIn},OI=async function(e){try{const n=Se(this,$r,"f");if(!n)throw new un;if(!(Fe.SolanaSignTransaction in Se(this,rt,"f").features))throw new Va;if(!n.features.includes(Fe.SolanaSignTransaction))throw new Ho;try{const i=(await Se(this,rt,"f").features[Fe.SolanaSignTransaction].signTransaction({account:n,transaction:Is(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Is(e)?Hc.deserialize(i):Je.from(i)}catch(r){throw r instanceof qt?r:new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},PI=async function(e){try{const n=Se(this,$r,"f");if(!n)throw new un;if(!(Fe.SolanaSignTransaction in Se(this,rt,"f").features))throw new Va;if(!n.features.includes(Fe.SolanaSignTransaction))throw new Ho;try{const r=await Se(this,rt,"f").features[Fe.SolanaSignTransaction].signTransaction(...e.map(i=>({account:n,transaction:Is(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return Is(i)?Hc.deserialize(o):Je.from(o)})}catch(r){throw new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},LI=async function(e){try{const n=Se(this,$r,"f");if(!n)throw new un;if(!(Fe.SolanaSignMessage in Se(this,rt,"f").features))throw new Va;if(!n.features.includes(Fe.SolanaSignMessage))throw new Ho;try{return(await Se(this,rt,"f").features[Fe.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new zg(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},$I=async function(e={}){try{if(!(Fe.SolanaSignIn in Se(this,rt,"f").features))throw new Va;let n;try{[n]=await Se(this,rt,"f").features[Fe.SolanaSignIn].signIn(e)}catch(r){throw new Iv(r==null?void 0:r.message,r)}if(!n)throw new Iv;return Se(this,tr,"m",Ip).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const zz=BR;var Wz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vz=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},kp;let oi;const ty=new Set;function Hz(t){Cd=void 0,ty.add(t)}function Gz(t){Cd=void 0,ty.delete(t)}const fc={};function qz(){if(oi||(oi=Object.freeze({register:BI,get:Kz,on:Yz}),typeof window>"u"))return oi;const t=Object.freeze({register:BI});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Qz(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return oi}function BI(...t){var e;return t=t.filter(n=>!ty.has(n)),t.length?(t.forEach(n=>Hz(n)),(e=fc.register)==null||e.forEach(n=>u_(()=>n(...t))),function(){var r;t.forEach(i=>Gz(i)),(r=fc.unregister)==null||r.forEach(i=>u_(()=>i(...t)))}):()=>{}}let Cd;function Kz(){return Cd||(Cd=[...ty]),Cd}function Yz(t,e){var n;return(n=fc[t])!=null&&n.push(e)||(fc[t]=[e]),function(){var i;fc[t]=(i=fc[t])==null?void 0:i.filter(s=>e!==s)}}function u_(t){try{t()}catch(e){console.error(e)}}class Qz extends Event{get detail(){return Wz(this,kp,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),kp.set(this,void 0),Vz(this,kp,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}kp=new WeakMap;function Jz(){if(oi||(oi=qz(),typeof window>"u"))return oi;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),oi;const{register:e}=oi,n=(...r)=>r.forEach(i=>u_(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),oi}return n(...t),oi}function Zz(t){const e=UI(()=>new Set),{get:n,on:r}=UI(()=>Jz()),[i,s]=ce.useState(()=>FI(n()));ce.useEffect(()=>{const a=[r("register",(...l)=>s(c=>[...c,...FI(l)])),r("unregister",(...l)=>s(c=>c.filter(u=>l.some(d=>d===u.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=Xz(i);return ce.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,i]),ce.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),ce.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function UI(t){const e=ce.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function Xz(t){const e=ce.useRef(void 0);return ce.useEffect(()=>{e.current=t}),e.current}function FI(t){return t.filter(zz).map(e=>new jz({wallet:e}))}var Cc;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Cc||(Cc={}));function eW(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function tW({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Ep&&n.readyState===st.Installed)?Cc.DESKTOP_WEB:e&&/android/i.test(e)&&!eW(e)?Cc.MOBILE_WEB:Cc.DESKTOP_WEB}function nW(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function rW({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const l=ce.useRef(!1),[c,u]=ce.useState(!1),d=ce.useRef(!1),[f,h]=ce.useState(!1),[w,T]=ce.useState(()=>(n==null?void 0:n.publicKey)??null),[A,S]=ce.useState(()=>(n==null?void 0:n.connected)??!1),y=ce.useRef(o);ce.useEffect(()=>(y.current=o,()=>{y.current=void 0}),[o]);const b=ce.useRef((v,N)=>(r.current||(y.current?y.current(v,N):(console.error(v,N),v instanceof Kc&&typeof window<"u"&&N&&window.open(N.url,"_blank"))),v)),[C,E]=ce.useState(()=>e.map(v=>({adapter:v,readyState:v.readyState})).filter(({readyState:v})=>v!==st.Unsupported));ce.useEffect(()=>{E(N=>e.map((O,M)=>{const B=N[M];return B&&B.adapter===O&&B.readyState===O.readyState?B:{adapter:O,readyState:O.readyState}}).filter(({readyState:O})=>O!==st.Unsupported));function v(N){E(O=>{const M=O.findIndex(({adapter:j})=>j===this);if(M===-1)return O;const{adapter:B}=O[M];return[...O.slice(0,M),{adapter:B,readyState:N},...O.slice(M+1)].filter(({readyState:j})=>j!==st.Unsupported)})}return e.forEach(N=>N.on("readyStateChange",v,N)),()=>{e.forEach(N=>N.off("readyStateChange",v,N))}},[n,e]);const I=ce.useMemo(()=>C.find(v=>v.adapter===n)??null,[n,C]);ce.useEffect(()=>{if(!n)return;const v=M=>{T(M),l.current=!1,u(!1),S(!0),d.current=!1,h(!1)},N=()=>{r.current||(T(null),l.current=!1,u(!1),S(!1),d.current=!1,h(!1))},O=M=>{b.current(M,n)};return n.on("connect",v),n.on("disconnect",N),n.on("error",O),()=>{n.off("connect",v),n.off("disconnect",N),n.off("error",O),N()}},[n,r]);const k=ce.useRef(!1);ce.useEffect(()=>()=>{k.current=!1},[n]),ce.useEffect(()=>{k.current||l.current||A||!i||!((I==null?void 0:I.readyState)===st.Installed||(I==null?void 0:I.readyState)===st.Loadable)||(l.current=!0,u(!0),k.current=!0,async function(){try{await i()}catch{s()}finally{u(!1),l.current=!1}}())},[A,i,s,I]);const z=ce.useCallback(async(v,N,O)=>{if(!n)throw b.current(new II);if(!A)throw b.current(new un,n);return await n.sendTransaction(v,N,O)},[n,A]),D=ce.useMemo(()=>n&&"signTransaction"in n?async v=>{if(!A)throw b.current(new un,n);return await n.signTransaction(v)}:void 0,[n,A]),F=ce.useMemo(()=>n&&"signAllTransactions"in n?async v=>{if(!A)throw b.current(new un,n);return await n.signAllTransactions(v)}:void 0,[n,A]),V=ce.useMemo(()=>n&&"signMessage"in n?async v=>{if(!A)throw b.current(new un,n);return await n.signMessage(v)}:void 0,[n,A]),G=ce.useMemo(()=>n&&"signIn"in n?async v=>await n.signIn(v):void 0,[n]),x=ce.useCallback(async()=>{if(l.current||d.current||I!=null&&I.adapter.connected)return;if(!I)throw b.current(new II);const{adapter:v,readyState:N}=I;if(!(N===st.Installed||N===st.Loadable))throw b.current(new Kc,v);l.current=!0,u(!0);try{await v.connect()}catch(O){throw s(),O}finally{u(!1),l.current=!1}},[s,I]),p=ce.useCallback(async()=>{if(!d.current&&n){d.current=!0,h(!0);try{await n.disconnect()}finally{h(!1),d.current=!1}}},[n]);return le.createElement(UR.Provider,{value:{autoConnect:!!i,wallets:C,wallet:I,publicKey:w,connected:A,connecting:c,disconnecting:f,select:a,connect:x,disconnect:p,sendTransaction:z,signTransaction:D,signAllTransactions:F,signMessage:V,signIn:G}},t)}let J0;function iW(){var t;return J0===void 0&&(J0=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),J0}function jI(t){const e=iW();return tW({adapters:t,userAgentString:e})===Cc.MOBILE_WEB}function sW(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function oW({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=U8(),o=Zz(e),a=ce.useMemo(()=>{if(!jI(o))return null;const y=o.find(b=>b.name===Ep);return y||new Nz({addressSelector:Mz(),appIdentity:{uri:sW()},authorizationResultCache:Rz(),cluster:nW(s==null?void 0:s.rpcEndpoint),onWalletNotFound:xz()})},[o,s==null?void 0:s.rpcEndpoint]),l=ce.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,u]=K8(r,null),d=ce.useMemo(()=>l.find(y=>y.name===c)??null,[l,c]),f=ce.useCallback(y=>{c!==y&&(d&&d.name!==Ep&&d.disconnect(),u(y))},[d,u,c]);ce.useEffect(()=>{if(!d)return;function y(){T.current||u(null)}return d.on("disconnect",y),()=>{d.off("disconnect",y)}},[d,o,u,c]);const h=ce.useRef(!1),w=ce.useMemo(()=>{if(!(!n||!d))return async()=>{(n===!0||await n(d))&&(h.current?await d.connect():await d.autoConnect())}},[n,d]),T=ce.useRef(!1);ce.useEffect(()=>{if(c===Ep&&jI(o)){T.current=!1;return}function y(){T.current=!0}return window.addEventListener("beforeunload",y),()=>{window.removeEventListener("beforeunload",y)}},[o,c]);const A=ce.useCallback(()=>{d&&f(null)},[d,f]),S=ce.useCallback(y=>{h.current=!0,f(y)},[f]);return le.createElement(rW,{wallets:l,adapter:d,isUnloadingRef:T,onAutoConnectRequest:w,onConnectError:A,onError:i,onSelectWallet:S},t)}const aW="modulepreload",lW=function(t){return"/astroworms/"+t},zI={},Yx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=lW(l),l in zI)return;zI[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":aW,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},cW="Phantom";class uW extends Wg{constructor(e={}){super(),this.name=cW,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Fg),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new oe(n.toBytes())}catch(i){this.emit("error",new Yc(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==st.Unsupported&&(gm()?(this._readyState=st.Loadable,this.emit("readyStateChange",this._readyState)):$b(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===st.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==st.Installed)throw new Kc;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new cf(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Ho;let r;try{r=new oe(n.publicKey.toBytes())}catch(i){throw new Yc(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new jg(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new un;try{const{signers:s,...o}=r;Is(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof qt?s:new oo(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new un;try{return await n.signTransaction(e)||e}catch(r){throw new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new un;try{return await n.signAllTransactions(e)||e}catch(r){throw new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new un;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new zg(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const dW="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var dt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fW=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ap,Ya,d_,f_,h_,yr,p_,Qx,Jx,m_,g_,y_,w_,v_;class hW{constructor(){Ap.add(this),Ya.set(this,{}),d_.set(this,"1.0.0"),f_.set(this,"MetaMask"),h_.set(this,dW),yr.set(this,null),p_.set(this,(e,n)=>{var r;return(r=dt(this,Ya,"f")[e])!=null&&r.push(n)||(dt(this,Ya,"f")[e]=[n]),()=>dt(this,Ap,"m",Jx).call(this,e,n)}),m_.set(this,async()=>{if(!dt(this,yr,"f")){let e;try{e=(await Yx(async()=>{const{default:n}=await import("./index-DTCveqhc.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}fW(this,yr,new e,"f"),dt(this,yr,"f").on("standard_change",n=>dt(this,Ap,"m",Qx).call(this,"change",n))}return this.accounts.length||await dt(this,yr,"f").connect(),{accounts:this.accounts}}),g_.set(this,async()=>{dt(this,yr,"f")&&await dt(this,yr,"f").disconnect()}),y_.set(this,async(...e)=>{if(!dt(this,yr,"f"))throw new un;return await dt(this,yr,"f").standardSignAndSendTransaction(...e)}),w_.set(this,async(...e)=>{if(!dt(this,yr,"f"))throw new un;return await dt(this,yr,"f").standardSignTransaction(...e)}),v_.set(this,async(...e)=>{if(!dt(this,yr,"f"))throw new un;return await dt(this,yr,"f").standardSignMessage(...e)})}get version(){return dt(this,d_,"f")}get name(){return dt(this,f_,"f")}get icon(){return dt(this,h_,"f")}get chains(){return[zr.SOLANA_MAINNET_CHAIN,zr.SOLANA_DEVNET_CHAIN,zr.SOLANA_TESTNET_CHAIN]}get features(){return{[is.StandardConnect]:{version:"1.0.0",connect:dt(this,m_,"f")},[is.StandardDisconnect]:{version:"1.0.0",disconnect:dt(this,g_,"f")},[is.StandardEvents]:{version:"1.0.0",on:dt(this,p_,"f")},[Fe.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:dt(this,y_,"f")},[Fe.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:dt(this,w_,"f")},[Fe.SolanaSignMessage]:{version:"1.0.0",signMessage:dt(this,v_,"f")}}}get accounts(){return dt(this,yr,"f")?dt(this,yr,"f").standardAccounts:[]}}Ya=new WeakMap,d_=new WeakMap,f_=new WeakMap,h_=new WeakMap,yr=new WeakMap,p_=new WeakMap,m_=new WeakMap,g_=new WeakMap,y_=new WeakMap,w_=new WeakMap,v_=new WeakMap,Ap=new WeakSet,Qx=function(e,...n){var r;(r=dt(this,Ya,"f")[e])==null||r.forEach(i=>i.apply(null,n))},Jx=function(e,n){var r;dt(this,Ya,"f")[e]=(r=dt(this,Ya,"f")[e])==null?void 0:r.filter(i=>n!==i)};let WI=!1;function pW(){WI||(Pz(new hW),WI=!0)}async function mW(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var s,o;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((s=i.data)==null?void 0:s.name)==="metamask-provider"&&(((o=i.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),i.data.data.error||pW()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const gW="Solflare";class yW extends Wg{constructor(e={}){super(),this.name=gW,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Fg),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new oe(n.toBytes())}catch(i){this.emit("error",new Yc(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==st.Unsupported&&($b(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),mW())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Loadable&&gm()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable&&this._readyState!==st.Installed)throw new Kc;if(this.readyState===st.Loadable&&gm()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await Yx(async()=>{const{default:i}=await import("./index-Bo_9v4Zf.js");return{default:i}},[])).default}catch(i){throw new DR(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new Va(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new cf(i==null?void 0:i.message,i)}if(!n.publicKey)throw new cf;let r;try{r=new oe(n.publicKey.toBytes())}catch(i){throw new Yc(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new jg(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new un;try{const{signers:s,...o}=r;return Is(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,o)}catch(s){throw s instanceof qt?s:new oo(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new un;try{return await n.signTransaction(e)||e}catch(r){throw new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new un;try{return await n.signAllTransactions(e)||e}catch(r){throw new Xi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new un;try{return await n.signMessage(e,"utf8")}catch(r){throw new zg(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const VI=globalThis||void 0||self;function wW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zx={exports:{}},fn=Zx.exports={},ys,ws;function __(){throw new Error("setTimeout has not been defined")}function S_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ys=setTimeout:ys=__}catch{ys=__}try{typeof clearTimeout=="function"?ws=clearTimeout:ws=S_}catch{ws=S_}})();function Xx(t){if(ys===setTimeout)return setTimeout(t,0);if((ys===__||!ys)&&setTimeout)return ys=setTimeout,setTimeout(t,0);try{return ys(t,0)}catch{try{return ys.call(null,t,0)}catch{return ys.call(this,t,0)}}}function vW(t){if(ws===clearTimeout)return clearTimeout(t);if((ws===S_||!ws)&&clearTimeout)return ws=clearTimeout,clearTimeout(t);try{return ws(t)}catch{try{return ws.call(null,t)}catch{return ws.call(this,t)}}}var lo=[],Nc=!1,Qa,Cp=-1;function _W(){!Nc||!Qa||(Nc=!1,Qa.length?lo=Qa.concat(lo):Cp=-1,lo.length&&eD())}function eD(){if(!Nc){var t=Xx(_W);Nc=!0;for(var e=lo.length;e;){for(Qa=lo,lo=[];++Cp<e;)Qa&&Qa[Cp].run();Cp=-1,e=lo.length}Qa=null,Nc=!1,vW(t)}}fn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];lo.push(new tD(t,e)),lo.length===1&&!Nc&&Xx(eD)};function tD(t,e){this.fun=t,this.array=e}tD.prototype.run=function(){this.fun.apply(null,this.array)};fn.title="browser";fn.browser=!0;fn.env={};fn.argv=[];fn.version="";fn.versions={};function To(){}fn.on=To;fn.addListener=To;fn.once=To;fn.off=To;fn.removeListener=To;fn.removeAllListeners=To;fn.emit=To;fn.prependListener=To;fn.prependOnceListener=To;fn.listeners=function(t){return[]};fn.binding=function(t){throw new Error("process.binding is not supported")};fn.cwd=function(){return"/"};fn.chdir=function(t){throw new Error("process.chdir is not supported")};fn.umask=function(){return 0};var SW=Zx.exports;const nD=wW(SW),rD={setVisible(t){console.error(iD("call","setVisible"))},visible:!1};Object.defineProperty(rD,"visible",{get(){return console.error(iD("read","visible")),!1}});function iD(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const sD=ce.createContext(rD);function oD(){return ce.useContext(sD)}const bW=t=>le.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&le.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&le.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),EW=({wallet:t,...e})=>t&&le.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),HI=({id:t,children:e,expanded:n=!1})=>{const r=ce.useRef(null),i=ce.useRef(!0),s="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return ce.useLayoutEffect(()=>{n?o():a()},[n]),ce.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function u(d){l&&d.target===l&&d.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",u),()=>l.removeEventListener("transitionend",u)},[n]),le.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},Z0=({handleClick:t,tabIndex:e,wallet:n})=>le.createElement("li",null,le.createElement(bW,{onClick:t,startIcon:le.createElement(EW,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===st.Installed&&le.createElement("span",null,"Detected"))),TW=()=>le.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),le.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),le.createElement("g",{clipPath:"url(#clip0_880_5115)"},le.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),le.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),le.createElement("defs",null,le.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("clipPath",{id:"clip0_880_5115"},le.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),IW=({className:t="",container:e="body"})=>{const n=ce.useRef(null),{wallets:r,select:i}=FR(),{setVisible:s}=oD(),[o,a]=ce.useState(!1),[l,c]=ce.useState(!1),[u,d]=ce.useState(null),[f,h]=ce.useMemo(()=>{const b=[],C=[];for(const E of r)E.readyState===st.Installed?b.push(E):C.push(E);return b.length?[b,C]:[C,[]]},[r]),w=ce.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),T=ce.useCallback(b=>{b.preventDefault(),w()},[w]),A=ce.useCallback((b,C)=>{i(C),T(b)},[i,T]),S=ce.useCallback(()=>a(!o),[o]),y=ce.useCallback(b=>{const C=n.current;if(!C)return;const E=C.querySelectorAll("button"),I=E[0],k=E[E.length-1];b.shiftKey?document.activeElement===I&&(k.focus(),b.preventDefault()):document.activeElement===k&&(I.focus(),b.preventDefault())},[n]);return ce.useLayoutEffect(()=>{const b=E=>{E.key==="Escape"?w():E.key==="Tab"&&y(E)},{overflow:C}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",b,!1),()=>{document.body.style.overflow=C,window.removeEventListener("keydown",b,!1)}},[w,y]),ce.useLayoutEffect(()=>d(document.querySelector(e)),[e]),u&&HN.createPortal(le.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},le.createElement("div",{className:"wallet-adapter-modal-container"},le.createElement("div",{className:"wallet-adapter-modal-wrapper"},le.createElement("button",{onClick:T,className:"wallet-adapter-modal-button-close"},le.createElement("svg",{width:"14",height:"14"},le.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),f.length?le.createElement(le.Fragment,null,le.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),le.createElement("ul",{className:"wallet-adapter-modal-list"},f.map(b=>le.createElement(Z0,{key:b.adapter.name,handleClick:C=>A(C,b.adapter.name),wallet:b})),h.length?le.createElement(HI,{expanded:o,id:"wallet-adapter-modal-collapse"},h.map(b=>le.createElement(Z0,{key:b.adapter.name,handleClick:C=>A(C,b.adapter.name),tabIndex:o?0:-1,wallet:b}))):null),h.length?le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},le.createElement("span",null,o?"Less ":"More ","options"),le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):le.createElement(le.Fragment,null,le.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),le.createElement("div",{className:"wallet-adapter-modal-middle"},le.createElement(TW,null)),h.length?le.createElement(le.Fragment,null,le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},le.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),le.createElement(HI,{expanded:o,id:"wallet-adapter-modal-collapse"},le.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(b=>le.createElement(Z0,{key:b.adapter.name,handleClick:C=>A(C,b.adapter.name),tabIndex:o?0:-1,wallet:b}))))):null))),le.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:T})),u)},kW=({children:t,...e})=>{const[n,r]=ce.useState(!1);return le.createElement(sD.Provider,{value:{visible:n,setVisible:r}},t,n&&le.createElement(IW,{...e}))};var aD={},b_={},Yb={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.sseDependendFuncs=void 0;Lf.sseDependendFuncs=["sendTransactionBundles","signWithShadowSignerAndSendTransactionBundles"];var ny={},Am=function(){return Am=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Am.apply(this,arguments)};const AW="16.11.0",CW=Object.freeze({major:16,minor:11,patch:0,preReleaseTag:null});function Ue(t,e){if(!!!t)throw new Error(e)}function yi(t){return typeof(t==null?void 0:t.then)=="function"}function wi(t){return typeof t=="object"&&t!==null}function dn(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const NW=/\r\n|[\n\r]/g;function Cm(t,e){let n=0,r=1;for(const i of t.body.matchAll(NW)){if(typeof i.index=="number"||dn(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function lD(t){return Qb(t.source,Cm(t.source,t.start))}function Qb(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,l=e.column+a,c=`${t.name}:${o}:${l}
`,u=r.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){const f=Math.floor(l/80),h=l%80,w=[];for(let T=0;T<d.length;T+=80)w.push(d.slice(T,T+80));return c+GI([[`${o} |`,w[0]],...w.slice(1,f+1).map(T=>["|",T]),["|","^".padStart(h)],["|",w[f+1]]])}return c+GI([[`${o-1} |`,u[i-1]],[`${o} |`,d],["|","^".padStart(l)],[`${o+1} |`,u[i+1]]])}function GI(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function MW(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}let Z=class cD extends Error{constructor(e,...n){var r,i,s;const{nodes:o,source:a,positions:l,path:c,originalError:u,extensions:d}=MW(n);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=qI(Array.isArray(o)?o:o?[o]:void 0);const f=qI((r=this.nodes)===null||r===void 0?void 0:r.map(w=>w.loc).filter(w=>w!=null));this.source=a??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(w=>w.start)),this.locations=l&&a?l.map(w=>Cm(a,w)):f==null?void 0:f.map(w=>Cm(w.source,w.start));const h=wi(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(s=d??h)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,cD):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+lD(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+Qb(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function qI(t){return t===void 0||t.length===0?void 0:t}function RW(t){return t.toString()}function xW(t){return t.toJSON()}function $n(t,e,n){return new Z(`Syntax Error: ${n}`,{source:t,positions:[e]})}class uD{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Jb{constructor(e,n,r,i,s,o){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const dD={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},DW=new Set(Object.keys(dD));function E_(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&DW.has(e)}var Un;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(Un||(Un={}));var Te;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Te||(Te={}));var U;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(U||(U={}));function T_(t){return t===9||t===32}function ff(t){return t>=48&&t<=57}function fD(t){return t>=97&&t<=122||t>=65&&t<=90}function Zb(t){return fD(t)||t===95}function hD(t){return fD(t)||ff(t)||t===95}function OW(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<t.length;++o){var s;const a=t[o],l=PW(a);l!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&l<n&&(n=l))}return t.map((o,a)=>a===0?o:o.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function PW(t){let e=0;for(;e<t.length&&T_(t.charCodeAt(e));)++e;return e}function LW(t){if(t==="")return!0;let e=!0,n=!1,r=!0,i=!1;for(let s=0;s<t.length;++s)switch(t.codePointAt(s)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(e&&!i)return!1;i=!0,e=!0,n=!1;break;case 9:case 32:n||(n=e);break;default:r&&(r=n),e=!1}return!(e||r&&i)}function pD(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(h=>h.length===0||T_(h.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,l=t.endsWith("\\"),c=a||l,u=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||o);let d="";const f=i&&T_(t.charCodeAt(0));return(u&&!f||s)&&(d+=`
`),d+=n,(u||c)&&(d+=`
`),'"""'+d+'"""'}var ee;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(ee||(ee={}));class Xb{constructor(e){const n=new Jb(ee.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==ee.EOF)do if(e.next)e=e.next;else{const n=$W(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===ee.COMMENT);return e}}function mD(t){return t===ee.BANG||t===ee.DOLLAR||t===ee.AMP||t===ee.PAREN_L||t===ee.PAREN_R||t===ee.SPREAD||t===ee.COLON||t===ee.EQUALS||t===ee.AT||t===ee.BRACKET_L||t===ee.BRACKET_R||t===ee.BRACE_L||t===ee.PIPE||t===ee.BRACE_R}function bu(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function ry(t,e){return gD(t.charCodeAt(e))&&yD(t.charCodeAt(e+1))}function gD(t){return t>=55296&&t<=56319}function yD(t){return t>=56320&&t<=57343}function dl(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return ee.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Mn(t,e,n,r,i){const s=t.line,o=1+n-t.lineStart;return new Jb(e,n,r,s,o,i)}function $W(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return BW(t,i);case 33:return Mn(t,ee.BANG,i,i+1);case 36:return Mn(t,ee.DOLLAR,i,i+1);case 38:return Mn(t,ee.AMP,i,i+1);case 40:return Mn(t,ee.PAREN_L,i,i+1);case 41:return Mn(t,ee.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Mn(t,ee.SPREAD,i,i+3);break;case 58:return Mn(t,ee.COLON,i,i+1);case 61:return Mn(t,ee.EQUALS,i,i+1);case 64:return Mn(t,ee.AT,i,i+1);case 91:return Mn(t,ee.BRACKET_L,i,i+1);case 93:return Mn(t,ee.BRACKET_R,i,i+1);case 123:return Mn(t,ee.BRACE_L,i,i+1);case 124:return Mn(t,ee.PIPE,i,i+1);case 125:return Mn(t,ee.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?VW(t,i):FW(t,i)}if(ff(s)||s===45)return UW(t,i,s);if(Zb(s))return HW(t,i);throw $n(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:bu(s)||ry(n,i)?`Unexpected character: ${dl(t,i)}.`:`Invalid character: ${dl(t,i)}.`)}return Mn(t,ee.EOF,r,r)}function BW(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(bu(s))++i;else if(ry(n,i))i+=2;else break}return Mn(t,ee.COMMENT,e,i,n.slice(e+1,i))}function UW(t,e,n){const r=t.source.body;let i=e,s=n,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),ff(s))throw $n(t.source,i,`Invalid number, unexpected digit after 0: ${dl(t,i)}.`)}else i=X0(t,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=X0(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=X0(t,i,s),s=r.charCodeAt(i)),s===46||Zb(s))throw $n(t.source,i,`Invalid number, expected digit but got: ${dl(t,i)}.`);return Mn(t,o?ee.FLOAT:ee.INT,e,i,r.slice(e,i))}function X0(t,e,n){if(!ff(n))throw $n(t.source,e,`Invalid number, expected digit but got: ${dl(t,e)}.`);const r=t.source.body;let i=e+1;for(;ff(r.charCodeAt(i));)++i;return i}function FW(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,o="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return o+=n.slice(s,i),Mn(t,ee.STRING,e,i+1,o);if(a===92){o+=n.slice(s,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?jW(t,i):zW(t,i):WW(t,i);o+=l.value,i+=l.size,s=i;continue}if(a===10||a===13)break;if(bu(a))++i;else if(ry(n,i))i+=2;else throw $n(t.source,i,`Invalid character within String: ${dl(t,i)}.`)}throw $n(t.source,i,"Unterminated string.")}function jW(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!bu(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|cd(s),r<0)break}throw $n(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function zW(t,e){const n=t.source.body,r=KI(n,e+2);if(bu(r))return{value:String.fromCodePoint(r),size:6};if(gD(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=KI(n,e+8);if(yD(i))return{value:String.fromCodePoint(r,i),size:12}}throw $n(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function KI(t,e){return cd(t.charCodeAt(e))<<12|cd(t.charCodeAt(e+1))<<8|cd(t.charCodeAt(e+2))<<4|cd(t.charCodeAt(e+3))}function cd(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function WW(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw $n(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function VW(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,o=s,a="";const l=[];for(;s<r;){const c=n.charCodeAt(s);if(c===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(o,s),l.push(a);const u=Mn(t,ee.BLOCK_STRING,e,s+3,OW(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,u}if(c===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){a+=n.slice(o,s),l.push(a),c===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(bu(c))++s;else if(ry(n,s))s+=2;else throw $n(t.source,s,`Invalid character within String: ${dl(t,s)}.`)}throw $n(t.source,s,"Unterminated string.")}function HW(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(hD(s))++i;else break}return Mn(t,ee.NAME,e,i,n.slice(e,i))}const GW=10,wD=2;function te(t){return iy(t,[])}function iy(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return qW(t,e);default:return String(t)}}function qW(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(KW(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:iy(r,n)}else if(Array.isArray(t))return QW(t,n);return YW(t,n)}function KW(t){return typeof t.toJSON=="function"}function YW(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>wD?"["+JW(t)+"]":"{ "+n.map(([i,s])=>i+": "+iy(s,e)).join(", ")+" }"}function QW(t,e){if(t.length===0)return"[]";if(e.length>wD)return"[Array]";const n=Math.min(GW,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(iy(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function JW(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const ZW=globalThis.process&&!0,ds=ZW?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;const i=n.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===s){const o=te(e);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class sy{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Ue(!1,`Body must be a string. Received: ${te(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Ue(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ue(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function vD(t){return ds(t,sy)}function Eu(t,e){const n=new oy(t,e),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}function _D(t,e){const n=new oy(t,e);n.expectToken(ee.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(ee.EOF),r}function XW(t,e){const n=new oy(t,e);n.expectToken(ee.SOF);const r=n.parseConstValueLiteral();return n.expectToken(ee.EOF),r}function eV(t,e){const n=new oy(t,e);n.expectToken(ee.SOF);const r=n.parseTypeReference();return n.expectToken(ee.EOF),r}class oy{constructor(e,n={}){const r=vD(e)?e:new sy(e);this._lexer=new Xb(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(ee.NAME);return this.node(e,{kind:U.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:U.DOCUMENT,definitions:this.many(ee.SOF,this.parseDefinition,ee.EOF)})}parseDefinition(){if(this.peek(ee.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===ee.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw $n(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(ee.BRACE_L))return this.node(e,{kind:U.OPERATION_DEFINITION,operation:Un.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(ee.NAME)&&(r=this.parseName()),this.node(e,{kind:U.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(ee.NAME);switch(e.value){case"query":return Un.QUERY;case"mutation":return Un.MUTATION;case"subscription":return Un.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(ee.PAREN_L,this.parseVariableDefinition,ee.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:U.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ee.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ee.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(ee.DOLLAR),this.node(e,{kind:U.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:U.SELECTION_SET,selections:this.many(ee.BRACE_L,this.parseSelection,ee.BRACE_R)})}parseSelection(){return this.peek(ee.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(ee.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:U.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ee.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ee.PAREN_L,n,ee.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(ee.COLON),this.node(n,{kind:U.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(ee.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(ee.NAME)?this.node(e,{kind:U.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:U.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:U.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:U.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case ee.BRACKET_L:return this.parseList(e);case ee.BRACE_L:return this.parseObject(e);case ee.INT:return this.advanceLexer(),this.node(n,{kind:U.INT,value:n.value});case ee.FLOAT:return this.advanceLexer(),this.node(n,{kind:U.FLOAT,value:n.value});case ee.STRING:case ee.BLOCK_STRING:return this.parseStringLiteral();case ee.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:U.BOOLEAN,value:!0});case"false":return this.node(n,{kind:U.BOOLEAN,value:!1});case"null":return this.node(n,{kind:U.NULL});default:return this.node(n,{kind:U.ENUM,value:n.value})}case ee.DOLLAR:if(e)if(this.expectToken(ee.DOLLAR),this._lexer.token.kind===ee.NAME){const r=this._lexer.token.value;throw $n(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:U.STRING,value:e.value,block:e.kind===ee.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:U.LIST,values:this.any(ee.BRACKET_L,n,ee.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:U.OBJECT,fields:this.any(ee.BRACE_L,n,ee.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(ee.COLON),this.node(n,{kind:U.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(ee.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(ee.AT),this.node(n,{kind:U.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(ee.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(ee.BRACKET_R),n=this.node(e,{kind:U.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(ee.BANG)?this.node(e,{kind:U.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:U.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ee.STRING)||this.peek(ee.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(ee.BRACE_L,this.parseOperationTypeDefinition,ee.BRACE_R);return this.node(e,{kind:U.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(ee.COLON);const r=this.parseNamedType();return this.node(e,{kind:U.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:U.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:U.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ee.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ee.BRACE_L,this.parseFieldDefinition,ee.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(ee.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:U.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(ee.PAREN_L,this.parseInputValueDef,ee.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(ee.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(ee.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:U.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:U.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:U.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(ee.EQUALS)?this.delimitedMany(ee.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:U.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(ee.BRACE_L,this.parseEnumValueDefinition,ee.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:U.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw $n(this._lexer.source,this._lexer.token.start,`${Ch(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:U.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(ee.BRACE_L,this.parseInputValueDef,ee.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===ee.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(ee.BRACE_L,this.parseOperationTypeDefinition,ee.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:U.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:U.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:U.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:U.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:U.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:U.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:U.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ee.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:U.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(ee.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Te,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new uD(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw $n(this._lexer.source,n.start,`Expected ${SD(e)}, found ${Ch(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===ee.NAME&&n.value===e)this.advanceLexer();else throw $n(this._lexer.source,n.start,`Expected "${e}", found ${Ch(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===ee.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return $n(this._lexer.source,n.start,`Unexpected ${Ch(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(n.kind!==ee.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw $n(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Ch(t){const e=t.value;return SD(t.kind)+(e!=null?` "${e}"`:"")}function SD(t){return mD(t)?`"${t}"`:t}const tV=5;function yo(t,e){const[n,r]=e?[t,e]:[void 0,t];let i=" Did you mean ";n&&(i+=n+" ");const s=r.map(l=>`"${l}"`);switch(s.length){case 0:return"";case 1:return i+s[0]+"?";case 2:return i+s[0]+" or "+s[1]+"?"}const o=s.slice(0,tV),a=o.pop();return i+o.join(", ")+", or "+a+"?"}function YI(t){return t}function wo(t,e){const n=Object.create(null);for(const r of t)n[e(r)]=r;return n}function Ko(t,e,n){const r=Object.create(null);for(const i of t)r[e(i)]=n(i);return r}function no(t,e){const n=Object.create(null);for(const r of Object.keys(t))n[r]=e(t[r],r);return n}function $f(t,e){let n=0,r=0;for(;n<t.length&&r<e.length;){let i=t.charCodeAt(n),s=e.charCodeAt(r);if(Nh(i)&&Nh(s)){let o=0;do++n,o=o*10+i-I_,i=t.charCodeAt(n);while(Nh(i)&&o>0);let a=0;do++r,a=a*10+s-I_,s=e.charCodeAt(r);while(Nh(s)&&a>0);if(o<a)return-1;if(o>a)return 1}else{if(i<s)return-1;if(i>s)return 1;++n,++r}}return t.length-e.length}const I_=48,nV=57;function Nh(t){return!isNaN(t)&&I_<=t&&t<=nV}function Sa(t,e){const n=Object.create(null),r=new rV(t),i=Math.floor(t.length*.4)+1;for(const s of e){const o=r.measure(s,i);o!==void 0&&(n[s]=o)}return Object.keys(n).sort((s,o)=>{const a=n[s]-n[o];return a!==0?a:$f(s,o)})}class rV{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=QI(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,n){if(this._input===e)return 0;const r=e.toLowerCase();if(this._inputLowerCase===r)return 1;let i=QI(r),s=this._inputArray;if(i.length<s.length){const u=i;i=s,s=u}const o=i.length,a=s.length;if(o-a>n)return;const l=this._rows;for(let u=0;u<=a;u++)l[0][u]=u;for(let u=1;u<=o;u++){const d=l[(u-1)%3],f=l[u%3];let h=f[0]=u;for(let w=1;w<=a;w++){const T=i[u-1]===s[w-1]?0:1;let A=Math.min(d[w]+1,f[w-1]+1,d[w-1]+T);if(u>1&&w>1&&i[u-1]===s[w-2]&&i[u-2]===s[w-1]){const S=l[(u-2)%3][w-2];A=Math.min(A,S+1)}A<h&&(h=A),f[w]=A}if(h>n)return}const c=l[o%3][a];return c<=n?c:void 0}}function QI(t){const e=t.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r);return n}function ji(t){if(t==null)return Object.create(null);if(Object.getPrototypeOf(t)===null)return t;const e=Object.create(null);for(const[n,r]of Object.entries(t))e[n]=r;return e}function iV(t){return`"${t.replace(sV,oV)}"`}const sV=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function oV(t){return aV[t.charCodeAt(0)]}const aV=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],hc=Object.freeze({});function Tu(t,e,n=dD){const r=new Map;for(const S of Object.values(U))r.set(S,tu(e,S));let i,s=Array.isArray(t),o=[t],a=-1,l=[],c=t,u,d;const f=[],h=[];do{a++;const S=a===o.length,y=S&&l.length!==0;if(S){if(u=h.length===0?void 0:f[f.length-1],c=d,d=h.pop(),y)if(s){c=c.slice();let C=0;for(const[E,I]of l){const k=E-C;I===null?(c.splice(k,1),C++):c[k]=I}}else{c={...c};for(const[C,E]of l)c[C]=E}a=i.index,o=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(d){if(u=s?a:o[a],c=d[u],c==null)continue;f.push(u)}let b;if(!Array.isArray(c)){var w,T;E_(c)||Ue(!1,`Invalid AST Node: ${te(c)}.`);const C=S?(w=r.get(c.kind))===null||w===void 0?void 0:w.leave:(T=r.get(c.kind))===null||T===void 0?void 0:T.enter;if(b=C==null?void 0:C.call(e,c,u,d,f,h),b===hc)break;if(b===!1){if(!S){f.pop();continue}}else if(b!==void 0&&(l.push([u,b]),!S))if(E_(b))c=b;else{f.pop();continue}}if(b===void 0&&y&&l.push([u,c]),S)f.pop();else{var A;i={inArray:s,index:a,keys:o,edits:l,prev:i},s=Array.isArray(c),o=s?c:(A=n[c.kind])!==null&&A!==void 0?A:[],a=-1,l=[],d&&h.push(d),d=c}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function eE(t){const e=new Array(t.length).fill(null),n=Object.create(null);for(const r of Object.values(U)){let i=!1;const s=new Array(t.length).fill(void 0),o=new Array(t.length).fill(void 0);for(let l=0;l<t.length;++l){const{enter:c,leave:u}=tu(t[l],r);i||(i=c!=null||u!=null),s[l]=c,o[l]=u}if(!i)continue;const a={enter(...l){const c=l[0];for(let d=0;d<t.length;d++)if(e[d]===null){var u;const f=(u=s[d])===null||u===void 0?void 0:u.apply(t[d],l);if(f===!1)e[d]=c;else if(f===hc)e[d]=hc;else if(f!==void 0)return f}},leave(...l){const c=l[0];for(let d=0;d<t.length;d++)if(e[d]===null){var u;const f=(u=o[d])===null||u===void 0?void 0:u.apply(t[d],l);if(f===hc)e[d]=hc;else if(f!==void 0&&f!==!1)return f}else e[d]===c&&(e[d]=null)}};n[r]=a}return n}function tu(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function lV(t,e,n){const{enter:r,leave:i}=tu(t,e);return n?i:r}function Dt(t){return Tu(t,uV)}const cV=80,uV={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>ge(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Ge("(",ge(t.variableDefinitions,", "),")"),n=ge([t.operation,ge([t.name,e]),ge(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Ge(" = ",n)+Ge(" ",ge(r," "))},SelectionSet:{leave:({selections:t})=>Vi(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=Ge("",t,": ")+e;let o=s+Ge("(",ge(n,", "),")");return o.length>cV&&(o=s+Ge(`(
`,Np(ge(n,`
`)),`
)`)),ge([o,ge(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ge(" ",ge(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>ge(["...",Ge("on ",t),ge(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Ge("(",ge(n,", "),")")} on ${e} ${Ge("",ge(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?pD(t):iV(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+ge(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+ge(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ge("(",ge(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Ge("",t,`
`)+ge(["schema",ge(e," "),Vi(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Ge("",t,`
`)+ge(["scalar",e,ge(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ge("",t,`
`)+ge(["type",e,Ge("implements ",ge(n," & ")),ge(r," "),Vi(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Ge("",t,`
`)+e+(JI(n)?Ge(`(
`,Np(ge(n,`
`)),`
)`):Ge("(",ge(n,", "),")"))+": "+r+Ge(" ",ge(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Ge("",t,`
`)+ge([e+": "+n,Ge("= ",r),ge(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ge("",t,`
`)+ge(["interface",e,Ge("implements ",ge(n," & ")),ge(r," "),Vi(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Ge("",t,`
`)+ge(["union",e,ge(n," "),Ge("= ",ge(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Ge("",t,`
`)+ge(["enum",e,ge(n," "),Vi(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Ge("",t,`
`)+ge([e,ge(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Ge("",t,`
`)+ge(["input",e,ge(n," "),Vi(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Ge("",t,`
`)+"directive @"+e+(JI(n)?Ge(`(
`,Np(ge(n,`
`)),`
)`):Ge("(",ge(n,", "),")"))+(r?" repeatable":"")+" on "+ge(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>ge(["extend schema",ge(t," "),Vi(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>ge(["extend scalar",t,ge(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ge(["extend type",t,Ge("implements ",ge(e," & ")),ge(n," "),Vi(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ge(["extend interface",t,Ge("implements ",ge(e," & ")),ge(n," "),Vi(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>ge(["extend union",t,ge(e," "),Ge("= ",ge(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>ge(["extend enum",t,ge(e," "),Vi(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>ge(["extend input",t,ge(e," "),Vi(n)]," ")}};function ge(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function Vi(t){return Ge(`{
`,Np(ge(t,`
`)),`
}`)}function Ge(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function Np(t){return Ge("  ",t.replace(/\n/g,`
  `))}function JI(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function Nm(t,e){switch(t.kind){case U.NULL:return null;case U.INT:return parseInt(t.value,10);case U.FLOAT:return parseFloat(t.value);case U.STRING:case U.ENUM:case U.BOOLEAN:return t.value;case U.LIST:return t.values.map(n=>Nm(n,e));case U.OBJECT:return Ko(t.fields,n=>n.name.value,n=>Nm(n.value,e));case U.VARIABLE:return e==null?void 0:e[t.name.value]}}function Ei(t){if(t!=null||Ue(!1,"Must provide name."),typeof t=="string"||Ue(!1,"Expected name to be a string."),t.length===0)throw new Z("Expected name to be a non-empty string.");for(let e=1;e<t.length;++e)if(!hD(t.charCodeAt(e)))throw new Z(`Names must only contain [_a-zA-Z0-9] but "${t}" does not.`);if(!Zb(t.charCodeAt(0)))throw new Z(`Names must start with [_a-zA-Z] but "${t}" does not.`);return t}function bD(t){if(t==="true"||t==="false"||t==="null")throw new Z(`Enum values cannot be named: ${t}`);return Ei(t)}function Bf(t){return Ti(t)||et(t)||ct(t)||Fn(t)||Dn(t)||vt(t)||Ot(t)||xe(t)}function dV(t){if(!Bf(t))throw new Error(`Expected ${te(t)} to be a GraphQL type.`);return t}function Ti(t){return ds(t,Ls)}function fV(t){if(!Ti(t))throw new Error(`Expected ${te(t)} to be a GraphQL Scalar type.`);return t}function et(t){return ds(t,$i)}function ED(t){if(!et(t))throw new Error(`Expected ${te(t)} to be a GraphQL Object type.`);return t}function ct(t){return ds(t,nu)}function TD(t){if(!ct(t))throw new Error(`Expected ${te(t)} to be a GraphQL Interface type.`);return t}function Fn(t){return ds(t,ru)}function hV(t){if(!Fn(t))throw new Error(`Expected ${te(t)} to be a GraphQL Union type.`);return t}function Dn(t){return ds(t,ha)}function pV(t){if(!Dn(t))throw new Error(`Expected ${te(t)} to be a GraphQL Enum type.`);return t}function vt(t){return ds(t,iu)}function mV(t){if(!vt(t))throw new Error(`Expected ${te(t)} to be a GraphQL Input Object type.`);return t}function Ot(t){return ds(t,ir)}function gV(t){if(!Ot(t))throw new Error(`Expected ${te(t)} to be a GraphQL List type.`);return t}function xe(t){return ds(t,Be)}function yV(t){if(!xe(t))throw new Error(`Expected ${te(t)} to be a GraphQL Non-Null type.`);return t}function Wr(t){return Ti(t)||Dn(t)||vt(t)||Uf(t)&&Wr(t.ofType)}function wV(t){if(!Wr(t))throw new Error(`Expected ${te(t)} to be a GraphQL input type.`);return t}function oa(t){return Ti(t)||et(t)||ct(t)||Fn(t)||Dn(t)||Uf(t)&&oa(t.ofType)}function vV(t){if(!oa(t))throw new Error(`Expected ${te(t)} to be a GraphQL output type.`);return t}function Os(t){return Ti(t)||Dn(t)}function _V(t){if(!Os(t))throw new Error(`Expected ${te(t)} to be a GraphQL leaf type.`);return t}function Ps(t){return et(t)||ct(t)||Fn(t)}function SV(t){if(!Ps(t))throw new Error(`Expected ${te(t)} to be a GraphQL composite type.`);return t}function Rs(t){return ct(t)||Fn(t)}function bV(t){if(!Rs(t))throw new Error(`Expected ${te(t)} to be a GraphQL abstract type.`);return t}class ir{constructor(e){Bf(e)||Ue(!1,`Expected ${te(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class Be{constructor(e){ay(e)||Ue(!1,`Expected ${te(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Uf(t){return Ot(t)||xe(t)}function EV(t){if(!Uf(t))throw new Error(`Expected ${te(t)} to be a GraphQL wrapping type.`);return t}function ay(t){return Bf(t)&&!xe(t)}function ID(t){if(!ay(t))throw new Error(`Expected ${te(t)} to be a GraphQL nullable type.`);return t}function tE(t){if(t)return xe(t)?t.ofType:t}function Ff(t){return Ti(t)||et(t)||ct(t)||Fn(t)||Dn(t)||vt(t)}function TV(t){if(!Ff(t))throw new Error(`Expected ${te(t)} to be a GraphQL named type.`);return t}function Mr(t){if(t){let e=t;for(;Uf(e);)e=e.ofType;return e}}function nE(t){return typeof t=="function"?t():t}function rE(t){return typeof t=="function"?t():t}class Ls{constructor(e){var n,r,i,s;const o=(n=e.parseValue)!==null&&n!==void 0?n:YI;this.name=Ei(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(r=e.serialize)!==null&&r!==void 0?r:YI,this.parseValue=o,this.parseLiteral=(i=e.parseLiteral)!==null&&i!==void 0?i:(a,l)=>o(Nm(a,l)),this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(s=e.extensionASTNodes)!==null&&s!==void 0?s:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||Ue(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${te(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||Ue(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||Ue(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class $i{constructor(e){var n;this.name=Ei(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>AD(e),this._interfaces=()=>kD(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||Ue(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${te(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:ND(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function kD(t){var e;const n=nE((e=t.interfaces)!==null&&e!==void 0?e:[]);return Array.isArray(n)||Ue(!1,`${t.name} interfaces must be an Array or a function which returns an Array.`),n}function AD(t){const e=rE(t.fields);return Mc(e)||Ue(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),no(e,(n,r)=>{var i;Mc(n)||Ue(!1,`${t.name}.${r} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||Ue(!1,`${t.name}.${r} field resolver must be a function if provided, but got: ${te(n.resolve)}.`);const s=(i=n.args)!==null&&i!==void 0?i:{};return Mc(s)||Ue(!1,`${t.name}.${r} args must be an object with argument names as keys.`),{name:Ei(r),description:n.description,type:n.type,args:CD(s),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:ji(n.extensions),astNode:n.astNode}})}function CD(t){return Object.entries(t).map(([e,n])=>({name:Ei(e),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:ji(n.extensions),astNode:n.astNode}))}function Mc(t){return wi(t)&&!Array.isArray(t)}function ND(t){return no(t,e=>({description:e.description,type:e.type,args:MD(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function MD(t){return Ko(t,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function ba(t){return xe(t.type)&&t.defaultValue===void 0}class nu{constructor(e){var n;this.name=Ei(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=AD.bind(void 0,e),this._interfaces=kD.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Ue(!1,`${this.name} must provide "resolveType" as a function, but got: ${te(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:ND(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class ru{constructor(e){var n;this.name=Ei(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=IV.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Ue(!1,`${this.name} must provide "resolveType" as a function, but got: ${te(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function IV(t){const e=nE(t.types);return Array.isArray(e)||Ue(!1,`Must provide Array of types or a function which returns such an array for Union ${t.name}.`),e}class ha{constructor(e){var n;this.name=Ei(e.name),this.description=e.description,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=typeof e.values=="function"?e.values:ZI(this.name,e.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return typeof this._values=="function"&&(this._values=ZI(this.name,this._values())),this._values}getValue(e){return this._nameLookup===null&&(this._nameLookup=wo(this.getValues(),n=>n.name)),this._nameLookup[e]}serialize(e){this._valueLookup===null&&(this._valueLookup=new Map(this.getValues().map(r=>[r.value,r])));const n=this._valueLookup.get(e);if(n===void 0)throw new Z(`Enum "${this.name}" cannot represent value: ${te(e)}`);return n.name}parseValue(e){if(typeof e!="string"){const r=te(e);throw new Z(`Enum "${this.name}" cannot represent non-string value: ${r}.`+Mh(this,r))}const n=this.getValue(e);if(n==null)throw new Z(`Value "${e}" does not exist in "${this.name}" enum.`+Mh(this,e));return n.value}parseLiteral(e,n){if(e.kind!==U.ENUM){const i=Dt(e);throw new Z(`Enum "${this.name}" cannot represent non-enum value: ${i}.`+Mh(this,i),{nodes:e})}const r=this.getValue(e.value);if(r==null){const i=Dt(e);throw new Z(`Value "${i}" does not exist in "${this.name}" enum.`+Mh(this,i),{nodes:e})}return r.value}toConfig(){const e=Ko(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Mh(t,e){const n=t.getValues().map(i=>i.name),r=Sa(e,n);return yo("the enum value",r)}function ZI(t,e){return Mc(e)||Ue(!1,`${t} values must be an object with value names as keys.`),Object.entries(e).map(([n,r])=>(Mc(r)||Ue(!1,`${t}.${n} must refer to an object with a "value" key representing an internal value but got: ${te(r)}.`),{name:bD(n),description:r.description,value:r.value!==void 0?r.value:n,deprecationReason:r.deprecationReason,extensions:ji(r.extensions),astNode:r.astNode}))}class iu{constructor(e){var n,r;this.name=Ei(e.name),this.description=e.description,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this.isOneOf=(r=e.isOneOf)!==null&&r!==void 0?r:!1,this._fields=kV.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const e=no(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}function kV(t){const e=rE(t.fields);return Mc(e)||Ue(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),no(e,(n,r)=>(!("resolve"in n)||Ue(!1,`${t.name}.${r} field has a resolve property, but Input Types cannot define resolvers.`),{name:Ei(r),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:ji(n.extensions),astNode:n.astNode}))}function ly(t){return xe(t.type)&&t.defaultValue===void 0}function Mm(t,e){return t===e?!0:xe(t)&&xe(e)||Ot(t)&&Ot(e)?Mm(t.ofType,e.ofType):!1}function tl(t,e,n){return e===n?!0:xe(n)?xe(e)?tl(t,e.ofType,n.ofType):!1:xe(e)?tl(t,e.ofType,n):Ot(n)?Ot(e)?tl(t,e.ofType,n.ofType):!1:Ot(e)?!1:Rs(n)&&(ct(e)||et(e))&&t.isSubType(n,e)}function k_(t,e,n){return e===n?!0:Rs(e)?Rs(n)?t.getPossibleTypes(e).some(r=>t.isSubType(n,r)):t.isSubType(e,n):Rs(n)?t.isSubType(n,e):!1}const Mp=2147483647,Rp=-2147483648,RD=new Ls({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(t){const e=zf(t);if(typeof e=="boolean")return e?1:0;let n=e;if(typeof e=="string"&&e!==""&&(n=Number(e)),typeof n!="number"||!Number.isInteger(n))throw new Z(`Int cannot represent non-integer value: ${te(e)}`);if(n>Mp||n<Rp)throw new Z("Int cannot represent non 32-bit signed integer value: "+te(e));return n},parseValue(t){if(typeof t!="number"||!Number.isInteger(t))throw new Z(`Int cannot represent non-integer value: ${te(t)}`);if(t>Mp||t<Rp)throw new Z(`Int cannot represent non 32-bit signed integer value: ${t}`);return t},parseLiteral(t){if(t.kind!==U.INT)throw new Z(`Int cannot represent non-integer value: ${Dt(t)}`,{nodes:t});const e=parseInt(t.value,10);if(e>Mp||e<Rp)throw new Z(`Int cannot represent non 32-bit signed integer value: ${t.value}`,{nodes:t});return e}}),xD=new Ls({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(t){const e=zf(t);if(typeof e=="boolean")return e?1:0;let n=e;if(typeof e=="string"&&e!==""&&(n=Number(e)),typeof n!="number"||!Number.isFinite(n))throw new Z(`Float cannot represent non numeric value: ${te(e)}`);return n},parseValue(t){if(typeof t!="number"||!Number.isFinite(t))throw new Z(`Float cannot represent non numeric value: ${te(t)}`);return t},parseLiteral(t){if(t.kind!==U.FLOAT&&t.kind!==U.INT)throw new Z(`Float cannot represent non numeric value: ${Dt(t)}`,t);return parseFloat(t.value)}}),rn=new Ls({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(t){const e=zf(t);if(typeof e=="string")return e;if(typeof e=="boolean")return e?"true":"false";if(typeof e=="number"&&Number.isFinite(e))return e.toString();throw new Z(`String cannot represent value: ${te(t)}`)},parseValue(t){if(typeof t!="string")throw new Z(`String cannot represent a non string value: ${te(t)}`);return t},parseLiteral(t){if(t.kind!==U.STRING)throw new Z(`String cannot represent a non string value: ${Dt(t)}`,{nodes:t});return t.value}}),Kr=new Ls({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(t){const e=zf(t);if(typeof e=="boolean")return e;if(Number.isFinite(e))return e!==0;throw new Z(`Boolean cannot represent a non boolean value: ${te(e)}`)},parseValue(t){if(typeof t!="boolean")throw new Z(`Boolean cannot represent a non boolean value: ${te(t)}`);return t},parseLiteral(t){if(t.kind!==U.BOOLEAN)throw new Z(`Boolean cannot represent a non boolean value: ${Dt(t)}`,{nodes:t});return t.value}}),iE=new Ls({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(t){const e=zf(t);if(typeof e=="string")return e;if(Number.isInteger(e))return String(e);throw new Z(`ID cannot represent value: ${te(t)}`)},parseValue(t){if(typeof t=="string")return t;if(typeof t=="number"&&Number.isInteger(t))return t.toString();throw new Z(`ID cannot represent value: ${te(t)}`)},parseLiteral(t){if(t.kind!==U.STRING&&t.kind!==U.INT)throw new Z("ID cannot represent a non-string and non-integer value: "+Dt(t),{nodes:t});return t.value}}),jf=Object.freeze([rn,RD,xD,Kr,iE]);function cy(t){return jf.some(({name:e})=>t.name===e)}function zf(t){if(wi(t)){if(typeof t.valueOf=="function"){const e=t.valueOf();if(!wi(e))return e}if(typeof t.toJSON=="function")return t.toJSON()}return t}function uy(t){return ds(t,us)}function AV(t){if(!uy(t))throw new Error(`Expected ${te(t)} to be a GraphQL directive.`);return t}class us{constructor(e){var n,r;this.name=Ei(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(n=e.isRepeatable)!==null&&n!==void 0?n:!1,this.extensions=ji(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||Ue(!1,`@${e.name} locations must be an Array.`);const i=(r=e.args)!==null&&r!==void 0?r:{};wi(i)&&!Array.isArray(i)||Ue(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=CD(i)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:MD(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const sE=new us({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[Te.FIELD,Te.FRAGMENT_SPREAD,Te.INLINE_FRAGMENT],args:{if:{type:new Be(Kr),description:"Included when true."}}}),oE=new us({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[Te.FIELD,Te.FRAGMENT_SPREAD,Te.INLINE_FRAGMENT],args:{if:{type:new Be(Kr),description:"Skipped when true."}}}),aE="No longer supported",dy=new us({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[Te.FIELD_DEFINITION,Te.ARGUMENT_DEFINITION,Te.INPUT_FIELD_DEFINITION,Te.ENUM_VALUE],args:{reason:{type:rn,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:aE}}}),lE=new us({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[Te.SCALAR],args:{url:{type:new Be(rn),description:"The URL that specifies the behavior of this scalar."}}}),cE=new us({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[Te.INPUT_OBJECT],args:{}}),Ea=Object.freeze([sE,oE,dy,lE,cE]);function uE(t){return Ea.some(({name:e})=>e===t.name)}function dE(t){return typeof t=="object"&&typeof(t==null?void 0:t[Symbol.iterator])=="function"}function Yo(t,e){if(xe(e)){const n=Yo(t,e.ofType);return(n==null?void 0:n.kind)===U.NULL?null:n}if(t===null)return{kind:U.NULL};if(t===void 0)return null;if(Ot(e)){const n=e.ofType;if(dE(t)){const r=[];for(const i of t){const s=Yo(i,n);s!=null&&r.push(s)}return{kind:U.LIST,values:r}}return Yo(t,n)}if(vt(e)){if(!wi(t))return null;const n=[];for(const r of Object.values(e.getFields())){const i=Yo(t[r.name],r.type);i&&n.push({kind:U.OBJECT_FIELD,name:{kind:U.NAME,value:r.name},value:i})}return{kind:U.OBJECT,fields:n}}if(Os(e)){const n=e.serialize(t);if(n==null)return null;if(typeof n=="boolean")return{kind:U.BOOLEAN,value:n};if(typeof n=="number"&&Number.isFinite(n)){const r=String(n);return XI.test(r)?{kind:U.INT,value:r}:{kind:U.FLOAT,value:r}}if(typeof n=="string")return Dn(e)?{kind:U.ENUM,value:n}:e===iE&&XI.test(n)?{kind:U.INT,value:n}:{kind:U.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${te(n)}.`)}dn(!1,"Unexpected input type: "+te(e))}const XI=/^-?(?:0|[1-9][0-9]*)$/,fy=new $i({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:rn,resolve:t=>t.description},types:{description:"A list of all types supported by this server.",type:new Be(new ir(new Be(Mi))),resolve(t){return Object.values(t.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new Be(Mi),resolve:t=>t.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Mi,resolve:t=>t.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Mi,resolve:t=>t.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new Be(new ir(new Be(fE))),resolve:t=>t.getDirectives()}})}),fE=new $i({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new Be(rn),resolve:t=>t.name},description:{type:rn,resolve:t=>t.description},isRepeatable:{type:new Be(Kr),resolve:t=>t.isRepeatable},locations:{type:new Be(new ir(new Be(hE))),resolve:t=>t.locations},args:{type:new Be(new ir(new Be(Wf))),args:{includeDeprecated:{type:Kr,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(n=>n.deprecationReason==null)}}})}),hE=new ha({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:Te.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:Te.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:Te.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:Te.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:Te.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:Te.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:Te.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:Te.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:Te.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:Te.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:Te.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:Te.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:Te.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:Te.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:Te.UNION,description:"Location adjacent to a union definition."},ENUM:{value:Te.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:Te.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:Te.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:Te.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Mi=new $i({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new Be(gE),resolve(t){if(Ti(t))return gt.SCALAR;if(et(t))return gt.OBJECT;if(ct(t))return gt.INTERFACE;if(Fn(t))return gt.UNION;if(Dn(t))return gt.ENUM;if(vt(t))return gt.INPUT_OBJECT;if(Ot(t))return gt.LIST;if(xe(t))return gt.NON_NULL;dn(!1,`Unexpected type: "${te(t)}".`)}},name:{type:rn,resolve:t=>"name"in t?t.name:void 0},description:{type:rn,resolve:t=>"description"in t?t.description:void 0},specifiedByURL:{type:rn,resolve:t=>"specifiedByURL"in t?t.specifiedByURL:void 0},fields:{type:new ir(new Be(pE)),args:{includeDeprecated:{type:Kr,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(et(t)||ct(t)){const n=Object.values(t.getFields());return e?n:n.filter(r=>r.deprecationReason==null)}}},interfaces:{type:new ir(new Be(Mi)),resolve(t){if(et(t)||ct(t))return t.getInterfaces()}},possibleTypes:{type:new ir(new Be(Mi)),resolve(t,e,n,{schema:r}){if(Rs(t))return r.getPossibleTypes(t)}},enumValues:{type:new ir(new Be(mE)),args:{includeDeprecated:{type:Kr,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(Dn(t)){const n=t.getValues();return e?n:n.filter(r=>r.deprecationReason==null)}}},inputFields:{type:new ir(new Be(Wf)),args:{includeDeprecated:{type:Kr,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(vt(t)){const n=Object.values(t.getFields());return e?n:n.filter(r=>r.deprecationReason==null)}}},ofType:{type:Mi,resolve:t=>"ofType"in t?t.ofType:void 0},isOneOf:{type:Kr,resolve:t=>{if(vt(t))return t.isOneOf}}})}),pE=new $i({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new Be(rn),resolve:t=>t.name},description:{type:rn,resolve:t=>t.description},args:{type:new Be(new ir(new Be(Wf))),args:{includeDeprecated:{type:Kr,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(n=>n.deprecationReason==null)}},type:{type:new Be(Mi),resolve:t=>t.type},isDeprecated:{type:new Be(Kr),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:rn,resolve:t=>t.deprecationReason}})}),Wf=new $i({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new Be(rn),resolve:t=>t.name},description:{type:rn,resolve:t=>t.description},type:{type:new Be(Mi),resolve:t=>t.type},defaultValue:{type:rn,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(t){const{type:e,defaultValue:n}=t,r=Yo(n,e);return r?Dt(r):null}},isDeprecated:{type:new Be(Kr),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:rn,resolve:t=>t.deprecationReason}})}),mE=new $i({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new Be(rn),resolve:t=>t.name},description:{type:rn,resolve:t=>t.description},isDeprecated:{type:new Be(Kr),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:rn,resolve:t=>t.deprecationReason}})});var gt;(function(t){t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.INPUT_OBJECT="INPUT_OBJECT",t.LIST="LIST",t.NON_NULL="NON_NULL"})(gt||(gt={}));const gE=new ha({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:gt.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:gt.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:gt.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:gt.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:gt.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:gt.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:gt.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:gt.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),hf={name:"__schema",type:new Be(fy),description:"Access the current type schema of this server.",args:[],resolve:(t,e,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},pf={name:"__type",type:Mi,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new Be(rn),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(t,{name:e},n,{schema:r})=>r.getType(e),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},mf={name:"__typename",type:new Be(rn),description:"The name of the current Object type at runtime.",args:[],resolve:(t,e,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Vf=Object.freeze([fy,fE,hE,Mi,pE,Wf,mE,gE]);function Cl(t){return Vf.some(({name:e})=>t.name===e)}function DD(t){return ds(t,Iu)}function yE(t){if(!DD(t))throw new Error(`Expected ${te(t)} to be a GraphQL schema.`);return t}class Iu{constructor(e){var n,r;this.__validationErrors=e.assumeValid===!0?[]:void 0,wi(e)||Ue(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||Ue(!1,`"types" must be Array if provided but got: ${te(e.types)}.`),!e.directives||Array.isArray(e.directives)||Ue(!1,`"directives" must be Array if provided but got: ${te(e.directives)}.`),this.description=e.description,this.extensions=ji(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=(r=e.directives)!==null&&r!==void 0?r:Ea;const i=new Set(e.types);if(e.types!=null)for(const s of e.types)i.delete(s),Qi(s,i);this._queryType!=null&&Qi(this._queryType,i),this._mutationType!=null&&Qi(this._mutationType,i),this._subscriptionType!=null&&Qi(this._subscriptionType,i);for(const s of this._directives)if(uy(s))for(const o of s.args)Qi(o.type,i);Qi(fy,i),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const s of i){if(s==null)continue;const o=s.name;if(o||Ue(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[o]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${o}".`);if(this._typeMap[o]=s,ct(s)){for(const a of s.getInterfaces())if(ct(a)){let l=this._implementationsMap[a.name];l===void 0&&(l=this._implementationsMap[a.name]={objects:[],interfaces:[]}),l.interfaces.push(s)}}else if(et(s)){for(const a of s.getInterfaces())if(ct(a)){let l=this._implementationsMap[a.name];l===void 0&&(l=this._implementationsMap[a.name]={objects:[],interfaces:[]}),l.objects.push(s)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case Un.QUERY:return this.getQueryType();case Un.MUTATION:return this.getMutationType();case Un.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return Fn(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const n=this._implementationsMap[e.name];return n??{objects:[],interfaces:[]}}isSubType(e,n){let r=this._subTypeMap[e.name];if(r===void 0){if(r=Object.create(null),Fn(e))for(const i of e.getTypes())r[i.name]=!0;else{const i=this.getImplementations(e);for(const s of i.objects)r[s.name]=!0;for(const s of i.interfaces)r[s.name]=!0}this._subTypeMap[e.name]=r}return r[n.name]!==void 0}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(n=>n.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function Qi(t,e){const n=Mr(t);if(!e.has(n)){if(e.add(n),Fn(n))for(const r of n.getTypes())Qi(r,e);else if(et(n)||ct(n)){for(const r of n.getInterfaces())Qi(r,e);for(const r of Object.values(n.getFields())){Qi(r.type,e);for(const i of r.args)Qi(i.type,e)}}else if(vt(n))for(const r of Object.values(n.getFields()))Qi(r.type,e)}return e}function wE(t){if(yE(t),t.__validationErrors)return t.__validationErrors;const e=new CV(t);NV(e),MV(e),RV(e);const n=e.getErrors();return t.__validationErrors=n,n}function vE(t){const e=wE(t);if(e.length!==0)throw new Error(e.map(n=>n.message).join(`

`))}class CV{constructor(e){this._errors=[],this.schema=e}reportError(e,n){const r=Array.isArray(n)?n.filter(Boolean):n;this._errors.push(new Z(e,{nodes:r}))}getErrors(){return this._errors}}function NV(t){const e=t.schema,n=e.getQueryType();if(!n)t.reportError("Query root type must be provided.",e.astNode);else if(!et(n)){var r;t.reportError(`Query root type must be Object type, it cannot be ${te(n)}.`,(r=ew(e,Un.QUERY))!==null&&r!==void 0?r:n.astNode)}const i=e.getMutationType();if(i&&!et(i)){var s;t.reportError(`Mutation root type must be Object type if provided, it cannot be ${te(i)}.`,(s=ew(e,Un.MUTATION))!==null&&s!==void 0?s:i.astNode)}const o=e.getSubscriptionType();if(o&&!et(o)){var a;t.reportError(`Subscription root type must be Object type if provided, it cannot be ${te(o)}.`,(a=ew(e,Un.SUBSCRIPTION))!==null&&a!==void 0?a:o.astNode)}}function ew(t,e){var n;return(n=[t.astNode,...t.extensionASTNodes].flatMap(r=>{var i;return(i=r==null?void 0:r.operationTypes)!==null&&i!==void 0?i:[]}).find(r=>r.operation===e))===null||n===void 0?void 0:n.type}function MV(t){for(const n of t.schema.getDirectives()){if(!uy(n)){t.reportError(`Expected directive but got: ${te(n)}.`,n==null?void 0:n.astNode);continue}fl(t,n),n.locations.length===0&&t.reportError(`Directive @${n.name} must include 1 or more locations.`,n.astNode);for(const r of n.args)if(fl(t,r),Wr(r.type)||t.reportError(`The type of @${n.name}(${r.name}:) must be Input Type but got: ${te(r.type)}.`,r.astNode),ba(r)&&r.deprecationReason!=null){var e;t.reportError(`Required argument @${n.name}(${r.name}:) cannot be deprecated.`,[_E(r.astNode),(e=r.astNode)===null||e===void 0?void 0:e.type])}}}function fl(t,e){e.name.startsWith("__")&&t.reportError(`Name "${e.name}" must not begin with "__", which is reserved by GraphQL introspection.`,e.astNode)}function RV(t){const e=BV(t),n=t.schema.getTypeMap();for(const r of Object.values(n)){if(!Ff(r)){t.reportError(`Expected GraphQL named type but got: ${te(r)}.`,r.astNode);continue}Cl(r)||fl(t,r),et(r)||ct(r)?(ek(t,r),tk(t,r)):Fn(r)?OV(t,r):Dn(r)?PV(t,r):vt(r)&&(LV(t,r),e(r))}}function ek(t,e){const n=Object.values(e.getFields());n.length===0&&t.reportError(`Type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const o of n){if(fl(t,o),!oa(o.type)){var r;t.reportError(`The type of ${e.name}.${o.name} must be Output Type but got: ${te(o.type)}.`,(r=o.astNode)===null||r===void 0?void 0:r.type)}for(const a of o.args){const l=a.name;if(fl(t,a),!Wr(a.type)){var i;t.reportError(`The type of ${e.name}.${o.name}(${l}:) must be Input Type but got: ${te(a.type)}.`,(i=a.astNode)===null||i===void 0?void 0:i.type)}if(ba(a)&&a.deprecationReason!=null){var s;t.reportError(`Required argument ${e.name}.${o.name}(${l}:) cannot be deprecated.`,[_E(a.astNode),(s=a.astNode)===null||s===void 0?void 0:s.type])}}}}function tk(t,e){const n=Object.create(null);for(const r of e.getInterfaces()){if(!ct(r)){t.reportError(`Type ${te(e)} must only implement Interface types, it cannot implement ${te(r)}.`,Nd(e,r));continue}if(e===r){t.reportError(`Type ${e.name} cannot implement itself because it would create a circular reference.`,Nd(e,r));continue}if(n[r.name]){t.reportError(`Type ${e.name} can only implement ${r.name} once.`,Nd(e,r));continue}n[r.name]=!0,DV(t,e,r),xV(t,e,r)}}function xV(t,e,n){const r=e.getFields();for(const l of Object.values(n.getFields())){const c=l.name,u=r[c];if(!u){t.reportError(`Interface field ${n.name}.${c} expected but ${e.name} does not provide it.`,[l.astNode,e.astNode,...e.extensionASTNodes]);continue}if(!tl(t.schema,u.type,l.type)){var i,s;t.reportError(`Interface field ${n.name}.${c} expects type ${te(l.type)} but ${e.name}.${c} is type ${te(u.type)}.`,[(i=l.astNode)===null||i===void 0?void 0:i.type,(s=u.astNode)===null||s===void 0?void 0:s.type])}for(const d of l.args){const f=d.name,h=u.args.find(w=>w.name===f);if(!h){t.reportError(`Interface field argument ${n.name}.${c}(${f}:) expected but ${e.name}.${c} does not provide it.`,[d.astNode,u.astNode]);continue}if(!Mm(d.type,h.type)){var o,a;t.reportError(`Interface field argument ${n.name}.${c}(${f}:) expects type ${te(d.type)} but ${e.name}.${c}(${f}:) is type ${te(h.type)}.`,[(o=d.astNode)===null||o===void 0?void 0:o.type,(a=h.astNode)===null||a===void 0?void 0:a.type])}}for(const d of u.args){const f=d.name;!l.args.find(w=>w.name===f)&&ba(d)&&t.reportError(`Object field ${e.name}.${c} includes required argument ${f} that is missing from the Interface field ${n.name}.${c}.`,[d.astNode,l.astNode])}}}function DV(t,e,n){const r=e.getInterfaces();for(const i of n.getInterfaces())r.includes(i)||t.reportError(i===e?`Type ${e.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${e.name} must implement ${i.name} because it is implemented by ${n.name}.`,[...Nd(n,i),...Nd(e,n)])}function OV(t,e){const n=e.getTypes();n.length===0&&t.reportError(`Union type ${e.name} must define one or more member types.`,[e.astNode,...e.extensionASTNodes]);const r=Object.create(null);for(const i of n){if(r[i.name]){t.reportError(`Union type ${e.name} can only include type ${i.name} once.`,nk(e,i.name));continue}r[i.name]=!0,et(i)||t.reportError(`Union type ${e.name} can only include Object types, it cannot include ${te(i)}.`,nk(e,String(i)))}}function PV(t,e){const n=e.getValues();n.length===0&&t.reportError(`Enum type ${e.name} must define one or more values.`,[e.astNode,...e.extensionASTNodes]);for(const r of n)fl(t,r)}function LV(t,e){const n=Object.values(e.getFields());n.length===0&&t.reportError(`Input Object type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const s of n){if(fl(t,s),!Wr(s.type)){var r;t.reportError(`The type of ${e.name}.${s.name} must be Input Type but got: ${te(s.type)}.`,(r=s.astNode)===null||r===void 0?void 0:r.type)}if(ly(s)&&s.deprecationReason!=null){var i;t.reportError(`Required input field ${e.name}.${s.name} cannot be deprecated.`,[_E(s.astNode),(i=s.astNode)===null||i===void 0?void 0:i.type])}e.isOneOf&&$V(e,s,t)}}function $V(t,e,n){if(xe(e.type)){var r;n.reportError(`OneOf input field ${t.name}.${e.name} must be nullable.`,(r=e.astNode)===null||r===void 0?void 0:r.type)}e.defaultValue!==void 0&&n.reportError(`OneOf input field ${t.name}.${e.name} cannot have a default value.`,e.astNode)}function BV(t){const e=Object.create(null),n=[],r=Object.create(null);return i;function i(s){if(e[s.name])return;e[s.name]=!0,r[s.name]=n.length;const o=Object.values(s.getFields());for(const a of o)if(xe(a.type)&&vt(a.type.ofType)){const l=a.type.ofType,c=r[l.name];if(n.push(a),c===void 0)i(l);else{const u=n.slice(c),d=u.map(f=>f.name).join(".");t.reportError(`Cannot reference Input Object "${l.name}" within itself through a series of non-null fields: "${d}".`,u.map(f=>f.astNode))}n.pop()}r[s.name]=void 0}}function Nd(t,e){const{astNode:n,extensionASTNodes:r}=t;return(n!=null?[n,...r]:r).flatMap(s=>{var o;return(o=s.interfaces)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e.name)}function nk(t,e){const{astNode:n,extensionASTNodes:r}=t;return(n!=null?[n,...r]:r).flatMap(s=>{var o;return(o=s.types)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e)}function _E(t){var e;return t==null||(e=t.directives)===null||e===void 0?void 0:e.find(n=>n.name.value===dy.name)}function ei(t,e){switch(e.kind){case U.LIST_TYPE:{const n=ei(t,e.type);return n&&new ir(n)}case U.NON_NULL_TYPE:{const n=ei(t,e.type);return n&&new Be(n)}case U.NAMED_TYPE:return t.getType(e.name.value)}}class SE{constructor(e,n,r){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=r??UV,n&&(Wr(n)&&this._inputTypeStack.push(n),Ps(n)&&this._parentTypeStack.push(n),oa(n)&&this._typeStack.push(n))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const n=this._schema;switch(e.kind){case U.SELECTION_SET:{const i=Mr(this.getType());this._parentTypeStack.push(Ps(i)?i:void 0);break}case U.FIELD:{const i=this.getParentType();let s,o;i&&(s=this._getFieldDef(n,i,e),s&&(o=s.type)),this._fieldDefStack.push(s),this._typeStack.push(oa(o)?o:void 0);break}case U.DIRECTIVE:this._directive=n.getDirective(e.name.value);break;case U.OPERATION_DEFINITION:{const i=n.getRootType(e.operation);this._typeStack.push(et(i)?i:void 0);break}case U.INLINE_FRAGMENT:case U.FRAGMENT_DEFINITION:{const i=e.typeCondition,s=i?ei(n,i):Mr(this.getType());this._typeStack.push(oa(s)?s:void 0);break}case U.VARIABLE_DEFINITION:{const i=ei(n,e.type);this._inputTypeStack.push(Wr(i)?i:void 0);break}case U.ARGUMENT:{var r;let i,s;const o=(r=this.getDirective())!==null&&r!==void 0?r:this.getFieldDef();o&&(i=o.args.find(a=>a.name===e.name.value),i&&(s=i.type)),this._argument=i,this._defaultValueStack.push(i?i.defaultValue:void 0),this._inputTypeStack.push(Wr(s)?s:void 0);break}case U.LIST:{const i=tE(this.getInputType()),s=Ot(i)?i.ofType:i;this._defaultValueStack.push(void 0),this._inputTypeStack.push(Wr(s)?s:void 0);break}case U.OBJECT_FIELD:{const i=Mr(this.getInputType());let s,o;vt(i)&&(o=i.getFields()[e.name.value],o&&(s=o.type)),this._defaultValueStack.push(o?o.defaultValue:void 0),this._inputTypeStack.push(Wr(s)?s:void 0);break}case U.ENUM:{const i=Mr(this.getInputType());let s;Dn(i)&&(s=i.getValue(e.value)),this._enumValue=s;break}}}leave(e){switch(e.kind){case U.SELECTION_SET:this._parentTypeStack.pop();break;case U.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case U.DIRECTIVE:this._directive=null;break;case U.OPERATION_DEFINITION:case U.INLINE_FRAGMENT:case U.FRAGMENT_DEFINITION:this._typeStack.pop();break;case U.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case U.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case U.LIST:case U.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case U.ENUM:this._enumValue=null;break}}}function UV(t,e,n){const r=n.name.value;if(r===hf.name&&t.getQueryType()===e)return hf;if(r===pf.name&&t.getQueryType()===e)return pf;if(r===mf.name&&Ps(e))return mf;if(et(e)||ct(e))return e.getFields()[r]}function bE(t,e){return{enter(...n){const r=n[0];t.enter(r);const i=tu(e,r.kind).enter;if(i){const s=i.apply(e,n);return s!==void 0&&(t.leave(r),E_(s)&&t.enter(s)),s}},leave(...n){const r=n[0],i=tu(e,r.kind).leave;let s;return i&&(s=i.apply(e,n)),t.leave(r),s}}}function FV(t){return EE(t)||TE(t)||IE(t)}function EE(t){return t.kind===U.OPERATION_DEFINITION||t.kind===U.FRAGMENT_DEFINITION}function jV(t){return t.kind===U.FIELD||t.kind===U.FRAGMENT_SPREAD||t.kind===U.INLINE_FRAGMENT}function OD(t){return t.kind===U.VARIABLE||t.kind===U.INT||t.kind===U.FLOAT||t.kind===U.STRING||t.kind===U.BOOLEAN||t.kind===U.NULL||t.kind===U.ENUM||t.kind===U.LIST||t.kind===U.OBJECT}function A_(t){return OD(t)&&(t.kind===U.LIST?t.values.some(A_):t.kind===U.OBJECT?t.fields.some(e=>A_(e.value)):t.kind!==U.VARIABLE)}function zV(t){return t.kind===U.NAMED_TYPE||t.kind===U.LIST_TYPE||t.kind===U.NON_NULL_TYPE}function TE(t){return t.kind===U.SCHEMA_DEFINITION||ku(t)||t.kind===U.DIRECTIVE_DEFINITION}function ku(t){return t.kind===U.SCALAR_TYPE_DEFINITION||t.kind===U.OBJECT_TYPE_DEFINITION||t.kind===U.INTERFACE_TYPE_DEFINITION||t.kind===U.UNION_TYPE_DEFINITION||t.kind===U.ENUM_TYPE_DEFINITION||t.kind===U.INPUT_OBJECT_TYPE_DEFINITION}function IE(t){return t.kind===U.SCHEMA_EXTENSION||hy(t)}function hy(t){return t.kind===U.SCALAR_TYPE_EXTENSION||t.kind===U.OBJECT_TYPE_EXTENSION||t.kind===U.INTERFACE_TYPE_EXTENSION||t.kind===U.UNION_TYPE_EXTENSION||t.kind===U.ENUM_TYPE_EXTENSION||t.kind===U.INPUT_OBJECT_TYPE_EXTENSION}function PD(t){return{Document(e){for(const n of e.definitions)if(!EE(n)){const r=n.kind===U.SCHEMA_DEFINITION||n.kind===U.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';t.reportError(new Z(`The ${r} definition is not executable.`,{nodes:n}))}return!1}}}function LD(t){return{Field(e){const n=t.getParentType();if(n&&!t.getFieldDef()){const i=t.getSchema(),s=e.name.value;let o=yo("to use an inline fragment on",WV(i,n,s));o===""&&(o=yo(VV(n,s))),t.reportError(new Z(`Cannot query field "${s}" on type "${n.name}".`+o,{nodes:e}))}}}}function WV(t,e,n){if(!Rs(e))return[];const r=new Set,i=Object.create(null);for(const o of t.getPossibleTypes(e))if(o.getFields()[n]){r.add(o),i[o.name]=1;for(const a of o.getInterfaces()){var s;a.getFields()[n]&&(r.add(a),i[a.name]=((s=i[a.name])!==null&&s!==void 0?s:0)+1)}}return[...r].sort((o,a)=>{const l=i[a.name]-i[o.name];return l!==0?l:ct(o)&&t.isSubType(o,a)?-1:ct(a)&&t.isSubType(a,o)?1:$f(o.name,a.name)}).map(o=>o.name)}function VV(t,e){if(et(t)||ct(t)){const n=Object.keys(t.getFields());return Sa(e,n)}return[]}function $D(t){return{InlineFragment(e){const n=e.typeCondition;if(n){const r=ei(t.getSchema(),n);if(r&&!Ps(r)){const i=Dt(n);t.reportError(new Z(`Fragment cannot condition on non composite type "${i}".`,{nodes:n}))}}},FragmentDefinition(e){const n=ei(t.getSchema(),e.typeCondition);if(n&&!Ps(n)){const r=Dt(e.typeCondition);t.reportError(new Z(`Fragment "${e.name.value}" cannot condition on non composite type "${r}".`,{nodes:e.typeCondition}))}}}}function BD(t){return{...UD(t),Argument(e){const n=t.getArgument(),r=t.getFieldDef(),i=t.getParentType();if(!n&&r&&i){const s=e.name.value,o=r.args.map(l=>l.name),a=Sa(s,o);t.reportError(new Z(`Unknown argument "${s}" on field "${i.name}.${r.name}".`+yo(a),{nodes:e}))}}}}function UD(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():Ea;for(const o of r)e[o.name]=o.args.map(a=>a.name);const i=t.getDocument().definitions;for(const o of i)if(o.kind===U.DIRECTIVE_DEFINITION){var s;const a=(s=o.arguments)!==null&&s!==void 0?s:[];e[o.name.value]=a.map(l=>l.name.value)}return{Directive(o){const a=o.name.value,l=e[a];if(o.arguments&&l)for(const c of o.arguments){const u=c.name.value;if(!l.includes(u)){const d=Sa(u,l);t.reportError(new Z(`Unknown argument "${u}" on directive "@${a}".`+yo(d),{nodes:c}))}}return!1}}}function kE(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():Ea;for(const s of r)e[s.name]=s.locations;const i=t.getDocument().definitions;for(const s of i)s.kind===U.DIRECTIVE_DEFINITION&&(e[s.name.value]=s.locations.map(o=>o.value));return{Directive(s,o,a,l,c){const u=s.name.value,d=e[u];if(!d){t.reportError(new Z(`Unknown directive "@${u}".`,{nodes:s}));return}const f=HV(c);f&&!d.includes(f)&&t.reportError(new Z(`Directive "@${u}" may not be used on ${f}.`,{nodes:s}))}}}function HV(t){const e=t[t.length-1];switch("kind"in e||dn(!1),e.kind){case U.OPERATION_DEFINITION:return GV(e.operation);case U.FIELD:return Te.FIELD;case U.FRAGMENT_SPREAD:return Te.FRAGMENT_SPREAD;case U.INLINE_FRAGMENT:return Te.INLINE_FRAGMENT;case U.FRAGMENT_DEFINITION:return Te.FRAGMENT_DEFINITION;case U.VARIABLE_DEFINITION:return Te.VARIABLE_DEFINITION;case U.SCHEMA_DEFINITION:case U.SCHEMA_EXTENSION:return Te.SCHEMA;case U.SCALAR_TYPE_DEFINITION:case U.SCALAR_TYPE_EXTENSION:return Te.SCALAR;case U.OBJECT_TYPE_DEFINITION:case U.OBJECT_TYPE_EXTENSION:return Te.OBJECT;case U.FIELD_DEFINITION:return Te.FIELD_DEFINITION;case U.INTERFACE_TYPE_DEFINITION:case U.INTERFACE_TYPE_EXTENSION:return Te.INTERFACE;case U.UNION_TYPE_DEFINITION:case U.UNION_TYPE_EXTENSION:return Te.UNION;case U.ENUM_TYPE_DEFINITION:case U.ENUM_TYPE_EXTENSION:return Te.ENUM;case U.ENUM_VALUE_DEFINITION:return Te.ENUM_VALUE;case U.INPUT_OBJECT_TYPE_DEFINITION:case U.INPUT_OBJECT_TYPE_EXTENSION:return Te.INPUT_OBJECT;case U.INPUT_VALUE_DEFINITION:{const n=t[t.length-3];return"kind"in n||dn(!1),n.kind===U.INPUT_OBJECT_TYPE_DEFINITION?Te.INPUT_FIELD_DEFINITION:Te.ARGUMENT_DEFINITION}default:dn(!1,"Unexpected kind: "+te(e.kind))}}function GV(t){switch(t){case Un.QUERY:return Te.QUERY;case Un.MUTATION:return Te.MUTATION;case Un.SUBSCRIPTION:return Te.SUBSCRIPTION}}function FD(t){return{FragmentSpread(e){const n=e.name.value;t.getFragment(n)||t.reportError(new Z(`Unknown fragment "${n}".`,{nodes:e.name}))}}}function AE(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);for(const s of t.getDocument().definitions)ku(s)&&(r[s.name.value]=!0);const i=[...Object.keys(n),...Object.keys(r)];return{NamedType(s,o,a,l,c){const u=s.name.value;if(!n[u]&&!r[u]){var d;const f=(d=c[2])!==null&&d!==void 0?d:a,h=f!=null&&qV(f);if(h&&rk.includes(u))return;const w=Sa(u,h?rk.concat(i):i);t.reportError(new Z(`Unknown type "${u}".`+yo(w),{nodes:s}))}}}}const rk=[...jf,...Vf].map(t=>t.name);function qV(t){return"kind"in t&&(TE(t)||IE(t))}function jD(t){let e=0;return{Document(n){e=n.definitions.filter(r=>r.kind===U.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&e>1&&t.reportError(new Z("This anonymous operation must be the only defined operation.",{nodes:n}))}}}function zD(t){var e,n,r;const i=t.getSchema(),s=(e=(n=(r=i==null?void 0:i.astNode)!==null&&r!==void 0?r:i==null?void 0:i.getQueryType())!==null&&n!==void 0?n:i==null?void 0:i.getMutationType())!==null&&e!==void 0?e:i==null?void 0:i.getSubscriptionType();let o=0;return{SchemaDefinition(a){if(s){t.reportError(new Z("Cannot define a new schema within a schema extension.",{nodes:a}));return}o>0&&t.reportError(new Z("Must provide only one schema definition.",{nodes:a})),++o}}}const KV=3;function WD(t){function e(n,r=Object.create(null),i=0){if(n.kind===U.FRAGMENT_SPREAD){const s=n.name.value;if(r[s]===!0)return!1;const o=t.getFragment(s);if(!o)return!1;try{return r[s]=!0,e(o,r,i)}finally{r[s]=void 0}}if(n.kind===U.FIELD&&(n.name.value==="fields"||n.name.value==="interfaces"||n.name.value==="possibleTypes"||n.name.value==="inputFields")&&(i++,i>=KV))return!0;if("selectionSet"in n&&n.selectionSet){for(const s of n.selectionSet.selections)if(e(s,r,i))return!0}return!1}return{Field(n){if((n.name.value==="__schema"||n.name.value==="__type")&&e(n))return t.reportError(new Z("Maximum introspection depth exceeded",{nodes:[n]})),!1}}}function VD(t){const e=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return i(s),!1}};function i(s){if(e[s.name.value])return;const o=s.name.value;e[o]=!0;const a=t.getFragmentSpreads(s.selectionSet);if(a.length!==0){r[o]=n.length;for(const l of a){const c=l.name.value,u=r[c];if(n.push(l),u===void 0){const d=t.getFragment(c);d&&i(d)}else{const d=n.slice(u),f=d.slice(0,-1).map(h=>'"'+h.name.value+'"').join(", ");t.reportError(new Z(`Cannot spread fragment "${c}" within itself`+(f!==""?` via ${f}.`:"."),{nodes:d}))}n.pop()}r[o]=void 0}}}function HD(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(n){const r=t.getRecursiveVariableUsages(n);for(const{node:i}of r){const s=i.name.value;e[s]!==!0&&t.reportError(new Z(n.name?`Variable "$${s}" is not defined by operation "${n.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(n){e[n.variable.name.value]=!0}}}function GD(t){const e=[],n=[];return{OperationDefinition(r){return e.push(r),!1},FragmentDefinition(r){return n.push(r),!1},Document:{leave(){const r=Object.create(null);for(const i of e)for(const s of t.getRecursivelyReferencedFragments(i))r[s.name.value]=!0;for(const i of n){const s=i.name.value;r[s]!==!0&&t.reportError(new Z(`Fragment "${s}" is never used.`,{nodes:i}))}}}}}function qD(t){let e=[];return{OperationDefinition:{enter(){e=[]},leave(n){const r=Object.create(null),i=t.getRecursiveVariableUsages(n);for(const{node:s}of i)r[s.name.value]=!0;for(const s of e){const o=s.variable.name.value;r[o]!==!0&&t.reportError(new Z(n.name?`Variable "$${o}" is never used in operation "${n.name.value}".`:`Variable "$${o}" is never used.`,{nodes:s}))}}},VariableDefinition(n){e.push(n)}}}function py(t){switch(t.kind){case U.OBJECT:return{...t,fields:YV(t.fields)};case U.LIST:return{...t,values:t.values.map(py)};case U.INT:case U.FLOAT:case U.STRING:case U.BOOLEAN:case U.NULL:case U.ENUM:case U.VARIABLE:return t}}function YV(t){return t.map(e=>({...e,value:py(e.value)})).sort((e,n)=>$f(e.name.value,n.name.value))}function KD(t){return Array.isArray(t)?t.map(([e,n])=>`subfields "${e}" conflict because `+KD(n)).join(" and "):t}function YD(t){const e=new ZD,n=new t7,r=new Map;return{SelectionSet(i){const s=QV(t,r,e,n,t.getParentType(),i);for(const[[o,a],l,c]of s){const u=KD(a);t.reportError(new Z(`Fields "${o}" conflict because ${u}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:l.concat(c)}))}}}}function QV(t,e,n,r,i,s){const o=[],[a,l]=Dm(t,e,i,s);if(ZV(t,o,e,n,r,a),l.length!==0)for(let c=0;c<l.length;c++){Rm(t,o,e,n,r,!1,a,l[c]);for(let u=c+1;u<l.length;u++)xm(t,o,e,n,r,!1,l[c],l[u])}return o}function Rm(t,e,n,r,i,s,o,a){if(r.has(o,a,s))return;r.add(o,a,s);const l=t.getFragment(a);if(!l)return;const[c,u]=N_(t,n,l);if(o!==c){CE(t,e,n,r,i,s,o,c);for(const d of u)Rm(t,e,n,r,i,s,o,d)}}function xm(t,e,n,r,i,s,o,a){if(o===a||i.has(o,a,s))return;i.add(o,a,s);const l=t.getFragment(o),c=t.getFragment(a);if(!l||!c)return;const[u,d]=N_(t,n,l),[f,h]=N_(t,n,c);CE(t,e,n,r,i,s,u,f);for(const w of h)xm(t,e,n,r,i,s,o,w);for(const w of d)xm(t,e,n,r,i,s,w,a)}function JV(t,e,n,r,i,s,o,a,l){const c=[],[u,d]=Dm(t,e,s,o),[f,h]=Dm(t,e,a,l);CE(t,c,e,n,r,i,u,f);for(const w of h)Rm(t,c,e,n,r,i,u,w);for(const w of d)Rm(t,c,e,n,r,i,f,w);for(const w of d)for(const T of h)xm(t,c,e,n,r,i,w,T);return c}function ZV(t,e,n,r,i,s){for(const[o,a]of Object.entries(s))if(a.length>1)for(let l=0;l<a.length;l++)for(let c=l+1;c<a.length;c++){const u=QD(t,n,r,i,!1,o,a[l],a[c]);u&&e.push(u)}}function CE(t,e,n,r,i,s,o,a){for(const[l,c]of Object.entries(o)){const u=a[l];if(u)for(const d of c)for(const f of u){const h=QD(t,n,r,i,s,l,d,f);h&&e.push(h)}}}function QD(t,e,n,r,i,s,o,a){const[l,c,u]=o,[d,f,h]=a,w=i||l!==d&&et(l)&&et(d);if(!w){const b=c.name.value,C=f.name.value;if(b!==C)return[[s,`"${b}" and "${C}" are different fields`],[c],[f]];if(!XV(c,f))return[[s,"they have differing arguments"],[c],[f]]}const T=u==null?void 0:u.type,A=h==null?void 0:h.type;if(T&&A&&C_(T,A))return[[s,`they return conflicting types "${te(T)}" and "${te(A)}"`],[c],[f]];const S=c.selectionSet,y=f.selectionSet;if(S&&y){const b=JV(t,e,n,r,w,Mr(T),S,Mr(A),y);return e7(b,s,c,f)}}function XV(t,e){const n=t.arguments,r=e.arguments;if(n===void 0||n.length===0)return r===void 0||r.length===0;if(r===void 0||r.length===0||n.length!==r.length)return!1;const i=new Map(r.map(({name:s,value:o})=>[s.value,o]));return n.every(s=>{const o=s.value,a=i.get(s.name.value);return a===void 0?!1:ik(o)===ik(a)})}function ik(t){return Dt(py(t))}function C_(t,e){return Ot(t)?Ot(e)?C_(t.ofType,e.ofType):!0:Ot(e)?!0:xe(t)?xe(e)?C_(t.ofType,e.ofType):!0:xe(e)?!0:Os(t)||Os(e)?t!==e:!1}function Dm(t,e,n,r){const i=e.get(r);if(i)return i;const s=Object.create(null),o=Object.create(null);JD(t,n,r,s,o);const a=[s,Object.keys(o)];return e.set(r,a),a}function N_(t,e,n){const r=e.get(n.selectionSet);if(r)return r;const i=ei(t.getSchema(),n.typeCondition);return Dm(t,e,i,n.selectionSet)}function JD(t,e,n,r,i){for(const s of n.selections)switch(s.kind){case U.FIELD:{const o=s.name.value;let a;(et(e)||ct(e))&&(a=e.getFields()[o]);const l=s.alias?s.alias.value:o;r[l]||(r[l]=[]),r[l].push([e,s,a]);break}case U.FRAGMENT_SPREAD:i[s.name.value]=!0;break;case U.INLINE_FRAGMENT:{const o=s.typeCondition,a=o?ei(t.getSchema(),o):e;JD(t,a,s.selectionSet,r,i);break}}}function e7(t,e,n,r){if(t.length>0)return[[e,t.map(([i])=>i)],[n,...t.map(([,i])=>i).flat()],[r,...t.map(([,,i])=>i).flat()]]}class ZD{constructor(){this._data=new Map}has(e,n,r){var i;const s=(i=this._data.get(e))===null||i===void 0?void 0:i.get(n);return s===void 0?!1:r?!0:r===s}add(e,n,r){const i=this._data.get(e);i===void 0?this._data.set(e,new Map([[n,r]])):i.set(n,r)}}class t7{constructor(){this._orderedPairSet=new ZD}has(e,n,r){return e<n?this._orderedPairSet.has(e,n,r):this._orderedPairSet.has(n,e,r)}add(e,n,r){e<n?this._orderedPairSet.add(e,n,r):this._orderedPairSet.add(n,e,r)}}function XD(t){return{InlineFragment(e){const n=t.getType(),r=t.getParentType();if(Ps(n)&&Ps(r)&&!k_(t.getSchema(),n,r)){const i=te(r),s=te(n);t.reportError(new Z(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:e}))}},FragmentSpread(e){const n=e.name.value,r=n7(t,n),i=t.getParentType();if(r&&i&&!k_(t.getSchema(),r,i)){const s=te(i),o=te(r);t.reportError(new Z(`Fragment "${n}" cannot be spread here as objects of type "${s}" can never be of type "${o}".`,{nodes:e}))}}}}function n7(t,e){const n=t.getFragment(e);if(n){const r=ei(t.getSchema(),n.typeCondition);if(Ps(r))return r}}function eO(t){const e=t.getSchema(),n=Object.create(null);for(const i of t.getDocument().definitions)ku(i)&&(n[i.name.value]=i);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(i){const s=i.name.value,o=n[s],a=e==null?void 0:e.getType(s);let l;if(o?l=r7[o.kind]:a&&(l=i7(a)),l){if(l!==i.kind){const c=s7(i.kind);t.reportError(new Z(`Cannot extend non-${c} type "${s}".`,{nodes:o?[o,i]:i}))}}else{const c=Object.keys({...n,...e==null?void 0:e.getTypeMap()}),u=Sa(s,c);t.reportError(new Z(`Cannot extend type "${s}" because it is not defined.`+yo(u),{nodes:i.name}))}}}const r7={[U.SCALAR_TYPE_DEFINITION]:U.SCALAR_TYPE_EXTENSION,[U.OBJECT_TYPE_DEFINITION]:U.OBJECT_TYPE_EXTENSION,[U.INTERFACE_TYPE_DEFINITION]:U.INTERFACE_TYPE_EXTENSION,[U.UNION_TYPE_DEFINITION]:U.UNION_TYPE_EXTENSION,[U.ENUM_TYPE_DEFINITION]:U.ENUM_TYPE_EXTENSION,[U.INPUT_OBJECT_TYPE_DEFINITION]:U.INPUT_OBJECT_TYPE_EXTENSION};function i7(t){if(Ti(t))return U.SCALAR_TYPE_EXTENSION;if(et(t))return U.OBJECT_TYPE_EXTENSION;if(ct(t))return U.INTERFACE_TYPE_EXTENSION;if(Fn(t))return U.UNION_TYPE_EXTENSION;if(Dn(t))return U.ENUM_TYPE_EXTENSION;if(vt(t))return U.INPUT_OBJECT_TYPE_EXTENSION;dn(!1,"Unexpected type: "+te(t))}function s7(t){switch(t){case U.SCALAR_TYPE_EXTENSION:return"scalar";case U.OBJECT_TYPE_EXTENSION:return"object";case U.INTERFACE_TYPE_EXTENSION:return"interface";case U.UNION_TYPE_EXTENSION:return"union";case U.ENUM_TYPE_EXTENSION:return"enum";case U.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:dn(!1,"Unexpected kind: "+te(t))}}function tO(t){return{...nO(t),Field:{leave(e){var n;const r=t.getFieldDef();if(!r)return!1;const i=new Set((n=e.arguments)===null||n===void 0?void 0:n.map(s=>s.name.value));for(const s of r.args)if(!i.has(s.name)&&ba(s)){const o=te(s.type);t.reportError(new Z(`Field "${r.name}" argument "${s.name}" of type "${o}" is required, but it was not provided.`,{nodes:e}))}}}}}function nO(t){var e;const n=Object.create(null),r=t.getSchema(),i=(e=r==null?void 0:r.getDirectives())!==null&&e!==void 0?e:Ea;for(const a of i)n[a.name]=wo(a.args.filter(ba),l=>l.name);const s=t.getDocument().definitions;for(const a of s)if(a.kind===U.DIRECTIVE_DEFINITION){var o;const l=(o=a.arguments)!==null&&o!==void 0?o:[];n[a.name.value]=wo(l.filter(o7),c=>c.name.value)}return{Directive:{leave(a){const l=a.name.value,c=n[l];if(c){var u;const d=(u=a.arguments)!==null&&u!==void 0?u:[],f=new Set(d.map(h=>h.name.value));for(const[h,w]of Object.entries(c))if(!f.has(h)){const T=Bf(w.type)?te(w.type):Dt(w.type);t.reportError(new Z(`Directive "@${l}" argument "${h}" of type "${T}" is required, but it was not provided.`,{nodes:a}))}}}}}}function o7(t){return t.type.kind===U.NON_NULL_TYPE&&t.defaultValue==null}function rO(t){return{Field(e){const n=t.getType(),r=e.selectionSet;if(n)if(Os(Mr(n))){if(r){const i=e.name.value,s=te(n);t.reportError(new Z(`Field "${i}" must not have a selection since type "${s}" has no subfields.`,{nodes:r}))}}else if(r){if(r.selections.length===0){const i=e.name.value,s=te(n);t.reportError(new Z(`Field "${i}" of type "${s}" must have at least one field selected.`,{nodes:e}))}}else{const i=e.name.value,s=te(n);t.reportError(new Z(`Field "${i}" of type "${s}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:e}))}}}}function iO(t){return t.map(e=>typeof e=="number"?"["+e.toString()+"]":"."+e).join("")}function su(t,e,n){return{prev:t,key:e,typename:n}}function Cr(t){const e=[];let n=t;for(;n;)e.push(n.key),n=n.prev;return e.reverse()}function sO(t,e,n=a7){return ud(t,e,n,void 0)}function a7(t,e,n){let r="Invalid value "+te(e);throw t.length>0&&(r+=` at "value${iO(t)}"`),n.message=r+": "+n.message,n}function ud(t,e,n,r){if(xe(e)){if(t!=null)return ud(t,e.ofType,n,r);n(Cr(r),t,new Z(`Expected non-nullable type "${te(e)}" not to be null.`));return}if(t==null)return null;if(Ot(e)){const i=e.ofType;return dE(t)?Array.from(t,(s,o)=>{const a=su(r,o,void 0);return ud(s,i,n,a)}):[ud(t,i,n,r)]}if(vt(e)){if(!wi(t)||Array.isArray(t)){n(Cr(r),t,new Z(`Expected type "${e.name}" to be an object.`));return}const i={},s=e.getFields();for(const o of Object.values(s)){const a=t[o.name];if(a===void 0){if(o.defaultValue!==void 0)i[o.name]=o.defaultValue;else if(xe(o.type)){const l=te(o.type);n(Cr(r),t,new Z(`Field "${o.name}" of required type "${l}" was not provided.`))}continue}i[o.name]=ud(a,o.type,n,su(r,o.name,e.name))}for(const o of Object.keys(t))if(!s[o]){const a=Sa(o,Object.keys(e.getFields()));n(Cr(r),t,new Z(`Field "${o}" is not defined by type "${e.name}".`+yo(a)))}if(e.isOneOf){const o=Object.keys(i);o.length!==1&&n(Cr(r),t,new Z(`Exactly one key must be specified for OneOf type "${e.name}".`));const a=o[0],l=i[a];l===null&&n(Cr(r).concat(a),l,new Z(`Field "${a}" must be non-null.`))}return i}if(Os(e)){let i;try{i=e.parseValue(t)}catch(s){s instanceof Z?n(Cr(r),t,s):n(Cr(r),t,new Z(`Expected type "${e.name}". `+s.message,{originalError:s}));return}return i===void 0&&n(Cr(r),t,new Z(`Expected type "${e.name}".`)),i}dn(!1,"Unexpected input type: "+te(e))}function ks(t,e,n){if(t){if(t.kind===U.VARIABLE){const r=t.name.value;if(n==null||n[r]===void 0)return;const i=n[r];return i===null&&xe(e)?void 0:i}if(xe(e))return t.kind===U.NULL?void 0:ks(t,e.ofType,n);if(t.kind===U.NULL)return null;if(Ot(e)){const r=e.ofType;if(t.kind===U.LIST){const s=[];for(const o of t.values)if(sk(o,n)){if(xe(r))return;s.push(null)}else{const a=ks(o,r,n);if(a===void 0)return;s.push(a)}return s}const i=ks(t,r,n);return i===void 0?void 0:[i]}if(vt(e)){if(t.kind!==U.OBJECT)return;const r=Object.create(null),i=wo(t.fields,s=>s.name.value);for(const s of Object.values(e.getFields())){const o=i[s.name];if(!o||sk(o.value,n)){if(s.defaultValue!==void 0)r[s.name]=s.defaultValue;else if(xe(s.type))return;continue}const a=ks(o.value,s.type,n);if(a===void 0)return;r[s.name]=a}if(e.isOneOf){const s=Object.keys(r);if(s.length!==1||r[s[0]]===null)return}return r}if(Os(e)){let r;try{r=e.parseLiteral(t,n)}catch{return}return r===void 0?void 0:r}dn(!1,"Unexpected input type: "+te(e))}}function sk(t,e){return t.kind===U.VARIABLE&&(e==null||e[t.name.value]===void 0)}function oO(t,e,n,r){const i=[],s=r==null?void 0:r.maxErrors;try{const o=l7(t,e,n,a=>{if(s!=null&&i.length>=s)throw new Z("Too many errors processing variables, error limit reached. Execution aborted.");i.push(a)});if(i.length===0)return{coerced:o}}catch(o){i.push(o)}return{errors:i}}function l7(t,e,n,r){const i={};for(const s of e){const o=s.variable.name.value,a=ei(t,s.type);if(!Wr(a)){const c=Dt(s.type);r(new Z(`Variable "$${o}" expected value of type "${c}" which cannot be used as an input type.`,{nodes:s.type}));continue}if(!aO(n,o)){if(s.defaultValue)i[o]=ks(s.defaultValue,a);else if(xe(a)){const c=te(a);r(new Z(`Variable "$${o}" of required type "${c}" was not provided.`,{nodes:s}))}continue}const l=n[o];if(l===null&&xe(a)){const c=te(a);r(new Z(`Variable "$${o}" of non-null type "${c}" must not be null.`,{nodes:s}));continue}i[o]=sO(l,a,(c,u,d)=>{let f=`Variable "$${o}" got invalid value `+te(u);c.length>0&&(f+=` at "${o}${iO(c)}"`),r(new Z(f+"; "+d.message,{nodes:s,originalError:d}))})}return i}function my(t,e,n){var r;const i={},s=(r=e.arguments)!==null&&r!==void 0?r:[],o=wo(s,a=>a.name.value);for(const a of t.args){const l=a.name,c=a.type,u=o[l];if(!u){if(a.defaultValue!==void 0)i[l]=a.defaultValue;else if(xe(c))throw new Z(`Argument "${l}" of required type "${te(c)}" was not provided.`,{nodes:e});continue}const d=u.value;let f=d.kind===U.NULL;if(d.kind===U.VARIABLE){const w=d.name.value;if(n==null||!aO(n,w)){if(a.defaultValue!==void 0)i[l]=a.defaultValue;else if(xe(c))throw new Z(`Argument "${l}" of required type "${te(c)}" was provided the variable "$${w}" which was not provided a runtime value.`,{nodes:d});continue}f=n[w]==null}if(f&&xe(c))throw new Z(`Argument "${l}" of non-null type "${te(c)}" must not be null.`,{nodes:d});const h=ks(d,c,n);if(h===void 0)throw new Z(`Argument "${l}" has invalid value ${Dt(d)}.`,{nodes:d});i[l]=h}return i}function ou(t,e,n){var r;const i=(r=e.directives)===null||r===void 0?void 0:r.find(s=>s.name.value===t.name);if(i)return my(t,i,n)}function aO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function NE(t,e,n,r,i){const s=new Map;return Om(t,e,n,r,i,s,new Set),s}function c7(t,e,n,r,i){const s=new Map,o=new Set;for(const a of i)a.selectionSet&&Om(t,e,n,r,a.selectionSet,s,o);return s}function Om(t,e,n,r,i,s,o){for(const a of i.selections)switch(a.kind){case U.FIELD:{if(!tw(n,a))continue;const l=u7(a),c=s.get(l);c!==void 0?c.push(a):s.set(l,[a]);break}case U.INLINE_FRAGMENT:{if(!tw(n,a)||!ok(t,a,r))continue;Om(t,e,n,r,a.selectionSet,s,o);break}case U.FRAGMENT_SPREAD:{const l=a.name.value;if(o.has(l)||!tw(n,a))continue;o.add(l);const c=e[l];if(!c||!ok(t,c,r))continue;Om(t,e,n,r,c.selectionSet,s,o);break}}}function tw(t,e){const n=ou(oE,e,t);if((n==null?void 0:n.if)===!0)return!1;const r=ou(sE,e,t);return(r==null?void 0:r.if)!==!1}function ok(t,e,n){const r=e.typeCondition;if(!r)return!0;const i=ei(t,r);return i===n?!0:Rs(i)?t.isSubType(i,n):!1}function u7(t){return t.alias?t.alias.value:t.name.value}function lO(t){return{OperationDefinition(e){if(e.operation==="subscription"){const n=t.getSchema(),r=n.getSubscriptionType();if(r){const i=e.name?e.name.value:null,s=Object.create(null),o=t.getDocument(),a=Object.create(null);for(const c of o.definitions)c.kind===U.FRAGMENT_DEFINITION&&(a[c.name.value]=c);const l=NE(n,a,s,r,e.selectionSet);if(l.size>1){const d=[...l.values()].slice(1).flat();t.reportError(new Z(i!=null?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:d}))}for(const c of l.values())c[0].name.value.startsWith("__")&&t.reportError(new Z(i!=null?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:c}))}}}}}function ME(t,e){const n=new Map;for(const r of t){const i=e(r),s=n.get(i);s===void 0?n.set(i,[r]):s.push(r)}return n}function cO(t){return{DirectiveDefinition(r){var i;const s=(i=r.arguments)!==null&&i!==void 0?i:[];return n(`@${r.name.value}`,s)},InterfaceTypeDefinition:e,InterfaceTypeExtension:e,ObjectTypeDefinition:e,ObjectTypeExtension:e};function e(r){var i;const s=r.name.value,o=(i=r.fields)!==null&&i!==void 0?i:[];for(const l of o){var a;const c=l.name.value,u=(a=l.arguments)!==null&&a!==void 0?a:[];n(`${s}.${c}`,u)}return!1}function n(r,i){const s=ME(i,o=>o.name.value);for(const[o,a]of s)a.length>1&&t.reportError(new Z(`Argument "${r}(${o}:)" can only be defined once.`,{nodes:a.map(l=>l.name)}));return!1}}function RE(t){return{Field:e,Directive:e};function e(n){var r;const i=(r=n.arguments)!==null&&r!==void 0?r:[],s=ME(i,o=>o.name.value);for(const[o,a]of s)a.length>1&&t.reportError(new Z(`There can be only one argument named "${o}".`,{nodes:a.map(l=>l.name)}))}}function uO(t){const e=Object.create(null),n=t.getSchema();return{DirectiveDefinition(r){const i=r.name.value;if(n!=null&&n.getDirective(i)){t.reportError(new Z(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}));return}return e[i]?t.reportError(new Z(`There can be only one directive named "@${i}".`,{nodes:[e[i],r.name]})):e[i]=r.name,!1}}}function xE(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():Ea;for(const a of r)e[a.name]=!a.isRepeatable;const i=t.getDocument().definitions;for(const a of i)a.kind===U.DIRECTIVE_DEFINITION&&(e[a.name.value]=!a.repeatable);const s=Object.create(null),o=Object.create(null);return{enter(a){if(!("directives"in a)||!a.directives)return;let l;if(a.kind===U.SCHEMA_DEFINITION||a.kind===U.SCHEMA_EXTENSION)l=s;else if(ku(a)||hy(a)){const c=a.name.value;l=o[c],l===void 0&&(o[c]=l=Object.create(null))}else l=Object.create(null);for(const c of a.directives){const u=c.name.value;e[u]&&(l[u]?t.reportError(new Z(`The directive "@${u}" can only be used once at this location.`,{nodes:[l[u],c]})):l[u]=c)}}}}function dO(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(s){var o;const a=s.name.value;r[a]||(r[a]=Object.create(null));const l=(o=s.values)!==null&&o!==void 0?o:[],c=r[a];for(const u of l){const d=u.name.value,f=n[a];Dn(f)&&f.getValue(d)?t.reportError(new Z(`Enum value "${a}.${d}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:u.name})):c[d]?t.reportError(new Z(`Enum value "${a}.${d}" can only be defined once.`,{nodes:[c[d],u.name]})):c[d]=u.name}return!1}}function fO(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(s){var o;const a=s.name.value;r[a]||(r[a]=Object.create(null));const l=(o=s.fields)!==null&&o!==void 0?o:[],c=r[a];for(const u of l){const d=u.name.value;d7(n[a],d)?t.reportError(new Z(`Field "${a}.${d}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:u.name})):c[d]?t.reportError(new Z(`Field "${a}.${d}" can only be defined once.`,{nodes:[c[d],u.name]})):c[d]=u.name}return!1}}function d7(t,e){return et(t)||ct(t)||vt(t)?t.getFields()[e]!=null:!1}function hO(t){const e=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const r=n.name.value;return e[r]?t.reportError(new Z(`There can be only one fragment named "${r}".`,{nodes:[e[r],n.name]})):e[r]=n.name,!1}}}function DE(t){const e=[];let n=Object.create(null);return{ObjectValue:{enter(){e.push(n),n=Object.create(null)},leave(){const r=e.pop();r||dn(!1),n=r}},ObjectField(r){const i=r.name.value;n[i]?t.reportError(new Z(`There can be only one input field named "${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name}}}function pO(t){const e=Object.create(null);return{OperationDefinition(n){const r=n.name;return r&&(e[r.value]?t.reportError(new Z(`There can be only one operation named "${r.value}".`,{nodes:[e[r.value],r]})):e[r.value]=r),!1},FragmentDefinition:()=>!1}}function mO(t){const e=t.getSchema(),n=Object.create(null),r=e?{query:e.getQueryType(),mutation:e.getMutationType(),subscription:e.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(s){var o;const a=(o=s.operationTypes)!==null&&o!==void 0?o:[];for(const l of a){const c=l.operation,u=n[c];r[c]?t.reportError(new Z(`Type for ${c} already defined in the schema. It cannot be redefined.`,{nodes:l})):u?t.reportError(new Z(`There can be only one ${c} type in schema.`,{nodes:[u,l]})):n[c]=l}return!1}}function gO(t){const e=Object.create(null),n=t.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(i){const s=i.name.value;if(n!=null&&n.getType(s)){t.reportError(new Z(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:i.name}));return}return e[s]?t.reportError(new Z(`There can be only one type named "${s}".`,{nodes:[e[s],i.name]})):e[s]=i.name,!1}}function yO(t){return{OperationDefinition(e){var n;const r=(n=e.variableDefinitions)!==null&&n!==void 0?n:[],i=ME(r,s=>s.variable.name.value);for(const[s,o]of i)o.length>1&&t.reportError(new Z(`There can be only one variable named "$${s}".`,{nodes:o.map(a=>a.variable.name)}))}}}function wO(t){let e={};return{OperationDefinition:{enter(){e={}}},VariableDefinition(n){e[n.variable.name.value]=n},ListValue(n){const r=tE(t.getParentInputType());if(!Ot(r))return Ta(t,n),!1},ObjectValue(n){const r=Mr(t.getInputType());if(!vt(r))return Ta(t,n),!1;const i=wo(n.fields,s=>s.name.value);for(const s of Object.values(r.getFields()))if(!i[s.name]&&ly(s)){const a=te(s.type);t.reportError(new Z(`Field "${r.name}.${s.name}" of required type "${a}" was not provided.`,{nodes:n}))}r.isOneOf&&f7(t,n,r,i,e)},ObjectField(n){const r=Mr(t.getParentInputType());if(!t.getInputType()&&vt(r)){const s=Sa(n.name.value,Object.keys(r.getFields()));t.reportError(new Z(`Field "${n.name.value}" is not defined by type "${r.name}".`+yo(s),{nodes:n}))}},NullValue(n){const r=t.getInputType();xe(r)&&t.reportError(new Z(`Expected value of type "${te(r)}", found ${Dt(n)}.`,{nodes:n}))},EnumValue:n=>Ta(t,n),IntValue:n=>Ta(t,n),FloatValue:n=>Ta(t,n),StringValue:n=>Ta(t,n),BooleanValue:n=>Ta(t,n)}}function Ta(t,e){const n=t.getInputType();if(!n)return;const r=Mr(n);if(!Os(r)){const i=te(n);t.reportError(new Z(`Expected value of type "${i}", found ${Dt(e)}.`,{nodes:e}));return}try{if(r.parseLiteral(e,void 0)===void 0){const s=te(n);t.reportError(new Z(`Expected value of type "${s}", found ${Dt(e)}.`,{nodes:e}))}}catch(i){const s=te(n);i instanceof Z?t.reportError(i):t.reportError(new Z(`Expected value of type "${s}", found ${Dt(e)}; `+i.message,{nodes:e,originalError:i}))}}function f7(t,e,n,r,i){var s;const o=Object.keys(r);if(o.length!==1){t.reportError(new Z(`OneOf Input Object "${n.name}" must specify exactly one key.`,{nodes:[e]}));return}const l=(s=r[o[0]])===null||s===void 0?void 0:s.value,c=!l||l.kind===U.NULL,u=(l==null?void 0:l.kind)===U.VARIABLE;if(c){t.reportError(new Z(`Field "${n.name}.${o[0]}" must be non-null.`,{nodes:[e]}));return}if(u){const d=l.name.value;i[d].type.kind!==U.NON_NULL_TYPE&&t.reportError(new Z(`Variable "${d}" must be non-nullable to be used for OneOf Input Object "${n.name}".`,{nodes:[e]}))}}function vO(t){return{VariableDefinition(e){const n=ei(t.getSchema(),e.type);if(n!==void 0&&!Wr(n)){const r=e.variable.name.value,i=Dt(e.type);t.reportError(new Z(`Variable "$${r}" cannot be non-input type "${i}".`,{nodes:e.type}))}}}}function _O(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(n){const r=t.getRecursiveVariableUsages(n);for(const{node:i,type:s,defaultValue:o,parentType:a}of r){const l=i.name.value,c=e[l];if(c&&s){const u=t.getSchema(),d=ei(u,c.type);if(d&&!h7(u,d,c.defaultValue,s,o)){const f=te(d),h=te(s);t.reportError(new Z(`Variable "$${l}" of type "${f}" used in position expecting type "${h}".`,{nodes:[c,i]}))}vt(a)&&a.isOneOf&&ay(d)&&t.reportError(new Z(`Variable "$${l}" is of type "${d}" but must be non-nullable to be used for OneOf Input Object "${a}".`,{nodes:[c,i]}))}}}},VariableDefinition(n){e[n.variable.name.value]=n}}}function h7(t,e,n,r,i){if(xe(r)&&!xe(e)){if(!(n!=null&&n.kind!==U.NULL)&&!(i!==void 0))return!1;const a=r.ofType;return tl(t,e,a)}return tl(t,e,r)}const SO=Object.freeze([WD]),bO=Object.freeze([PD,pO,jD,lO,AE,$D,vO,rO,LD,hO,FD,GD,XD,VD,yO,HD,qD,kE,xE,BD,RE,wO,tO,_O,YD,DE,...SO]),p7=Object.freeze([zD,mO,gO,dO,fO,cO,uO,AE,kE,xE,eO,UD,RE,DE,nO]);class EO{constructor(e,n){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const r of this.getDocument().definitions)r.kind===U.FRAGMENT_DEFINITION&&(n[r.name.value]=r);this._fragments=n}return n[e]}getFragmentSpreads(e){let n=this._fragmentSpreads.get(e);if(!n){n=[];const r=[e];let i;for(;i=r.pop();)for(const s of i.selections)s.kind===U.FRAGMENT_SPREAD?n.push(s):s.selectionSet&&r.push(s.selectionSet);this._fragmentSpreads.set(e,n)}return n}getRecursivelyReferencedFragments(e){let n=this._recursivelyReferencedFragments.get(e);if(!n){n=[];const r=Object.create(null),i=[e.selectionSet];let s;for(;s=i.pop();)for(const o of this.getFragmentSpreads(s)){const a=o.name.value;if(r[a]!==!0){r[a]=!0;const l=this.getFragment(a);l&&(n.push(l),i.push(l.selectionSet))}}this._recursivelyReferencedFragments.set(e,n)}return n}}class m7 extends EO{constructor(e,n,r){super(e,r),this._schema=n}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class TO extends EO{constructor(e,n,r,i){super(n,i),this._schema=e,this._typeInfo=r,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let n=this._variableUsages.get(e);if(!n){const r=[],i=new SE(this._schema);Tu(e,bE(i,{VariableDefinition:()=>!1,Variable(s){r.push({node:s,type:i.getInputType(),defaultValue:i.getDefaultValue(),parentType:i.getParentInputType()})}})),n=r,this._variableUsages.set(e,n)}return n}getRecursiveVariableUsages(e){let n=this._recursiveVariableUsages.get(e);if(!n){n=this.getVariableUsages(e);for(const r of this.getRecursivelyReferencedFragments(e))n=n.concat(this.getVariableUsages(r));this._recursiveVariableUsages.set(e,n)}return n}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function OE(t,e,n=bO,r,i=new SE(t)){var s;const o=(s=r==null?void 0:r.maxErrors)!==null&&s!==void 0?s:100;e||Ue(!1,"Must provide document."),vE(t);const a=Object.freeze({}),l=[],c=new TO(t,e,i,d=>{if(l.length>=o)throw l.push(new Z("Too many validation errors, error limit reached. Validation aborted.")),a;l.push(d)}),u=eE(n.map(d=>d(c)));try{Tu(e,bE(i,u))}catch(d){if(d!==a)throw d}return l}function IO(t,e,n=p7){const r=[],i=new m7(t,e,o=>{r.push(o)}),s=n.map(o=>o(i));return Tu(t,eE(s)),r}function g7(t){const e=IO(t);if(e.length!==0)throw new Error(e.map(n=>n.message).join(`

`))}function y7(t,e){const n=IO(t,e);if(n.length!==0)throw new Error(n.map(r=>r.message).join(`

`))}function w7(t){let e;return function(r,i,s){e===void 0&&(e=new WeakMap);let o=e.get(r);o===void 0&&(o=new WeakMap,e.set(r,o));let a=o.get(i);a===void 0&&(a=new WeakMap,o.set(i,a));let l=a.get(s);return l===void 0&&(l=t(r,i,s),a.set(s,l)),l}}function ak(t){return Promise.all(Object.values(t)).then(e=>{const n=Object.create(null);for(const[r,i]of Object.keys(t).entries())n[i]=e[r];return n})}function v7(t,e,n){let r=n;for(const i of t)r=yi(r)?r.then(s=>e(s,i)):e(r,i);return r}function _7(t){return t instanceof Error?t:new S7(t)}class S7 extends Error{constructor(e){super("Unexpected error value: "+te(e)),this.name="NonErrorThrown",this.thrownValue=e}}function au(t,e,n){var r;const i=_7(t);return b7(i)?i:new Z(i.message,{nodes:(r=i.nodes)!==null&&r!==void 0?r:e,source:i.source,positions:i.positions,path:n,originalError:i})}function b7(t){return Array.isArray(t.path)}const E7=w7((t,e,n)=>c7(t.schema,t.fragments,t.variableValues,e,n));function Hf(t){arguments.length<2||Ue(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:e,document:n,variableValues:r,rootValue:i}=t;AO(e,n,r);const s=CO(t);if(!("schema"in s))return{errors:s};try{const{operation:o}=s,a=T7(s,o,i);return yi(a)?a.then(l=>Rh(l,s.errors),l=>(s.errors.push(l),Rh(null,s.errors))):Rh(a,s.errors)}catch(o){return s.errors.push(o),Rh(null,s.errors)}}function kO(t){const e=Hf(t);if(yi(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function Rh(t,e){return e.length===0?{data:t}:{errors:e,data:t}}function AO(t,e,n){e||Ue(!1,"Must provide document."),vE(t),n==null||wi(n)||Ue(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function CO(t){var e,n,r;const{schema:i,document:s,rootValue:o,contextValue:a,variableValues:l,operationName:c,fieldResolver:u,typeResolver:d,subscribeFieldResolver:f,options:h}=t;let w;const T=Object.create(null);for(const y of s.definitions)switch(y.kind){case U.OPERATION_DEFINITION:if(c==null){if(w!==void 0)return[new Z("Must provide operation name if query contains multiple operations.")];w=y}else((e=y.name)===null||e===void 0?void 0:e.value)===c&&(w=y);break;case U.FRAGMENT_DEFINITION:T[y.name.value]=y;break}if(!w)return c!=null?[new Z(`Unknown operation named "${c}".`)]:[new Z("Must provide an operation.")];const A=(n=w.variableDefinitions)!==null&&n!==void 0?n:[],S=oO(i,A,l??{},{maxErrors:(r=h==null?void 0:h.maxCoercionErrors)!==null&&r!==void 0?r:50});return S.errors?S.errors:{schema:i,fragments:T,rootValue:o,contextValue:a,operation:w,variableValues:S.coerced,fieldResolver:u??R_,typeResolver:d??RO,subscribeFieldResolver:f??R_,errors:[]}}function T7(t,e,n){const r=t.schema.getRootType(e.operation);if(r==null)throw new Z(`Schema is not configured to execute ${e.operation} operation.`,{nodes:e});const i=NE(t.schema,t.fragments,t.variableValues,r,e.selectionSet),s=void 0;switch(e.operation){case Un.QUERY:return Pm(t,r,n,s,i);case Un.MUTATION:return I7(t,r,n,s,i);case Un.SUBSCRIPTION:return Pm(t,r,n,s,i)}}function I7(t,e,n,r,i){return v7(i.entries(),(s,[o,a])=>{const l=su(r,o,e.name),c=NO(t,e,n,a,l);return c===void 0?s:yi(c)?c.then(u=>(s[o]=u,s)):(s[o]=c,s)},Object.create(null))}function Pm(t,e,n,r,i){const s=Object.create(null);let o=!1;try{for(const[a,l]of i.entries()){const c=su(r,a,e.name),u=NO(t,e,n,l,c);u!==void 0&&(s[a]=u,yi(u)&&(o=!0))}}catch(a){if(o)return ak(s).finally(()=>{throw a});throw a}return o?ak(s):s}function NO(t,e,n,r,i){var s;const o=xO(t.schema,e,r[0]);if(!o)return;const a=o.type,l=(s=o.resolve)!==null&&s!==void 0?s:t.fieldResolver,c=MO(t,o,r,e,i);try{const u=my(o,r[0],t.variableValues),d=t.contextValue,f=l(n,u,d,c);let h;return yi(f)?h=f.then(w=>gf(t,a,r,c,i,w)):h=gf(t,a,r,c,i,f),yi(h)?h.then(void 0,w=>{const T=au(w,r,Cr(i));return Lm(T,a,t)}):h}catch(u){const d=au(u,r,Cr(i));return Lm(d,a,t)}}function MO(t,e,n,r,i){return{fieldName:e.name,fieldNodes:n,returnType:e.type,parentType:r,path:i,schema:t.schema,fragments:t.fragments,rootValue:t.rootValue,operation:t.operation,variableValues:t.variableValues}}function Lm(t,e,n){if(xe(e))throw t;return n.errors.push(t),null}function gf(t,e,n,r,i,s){if(s instanceof Error)throw s;if(xe(e)){const o=gf(t,e.ofType,n,r,i,s);if(o===null)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return o}if(s==null)return null;if(Ot(e))return k7(t,e,n,r,i,s);if(Os(e))return A7(e,s);if(Rs(e))return C7(t,e,n,r,i,s);if(et(e))return M_(t,e,n,r,i,s);dn(!1,"Cannot complete value of unexpected output type: "+te(e))}function k7(t,e,n,r,i,s){if(!dE(s))throw new Z(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const o=e.ofType;let a=!1;const l=Array.from(s,(c,u)=>{const d=su(i,u,void 0);try{let f;return yi(c)?f=c.then(h=>gf(t,o,n,r,d,h)):f=gf(t,o,n,r,d,c),yi(f)?(a=!0,f.then(void 0,h=>{const w=au(h,n,Cr(d));return Lm(w,o,t)})):f}catch(f){const h=au(f,n,Cr(d));return Lm(h,o,t)}});return a?Promise.all(l):l}function A7(t,e){const n=t.serialize(e);if(n==null)throw new Error(`Expected \`${te(t)}.serialize(${te(e)})\` to return non-nullable value, returned: ${te(n)}`);return n}function C7(t,e,n,r,i,s){var o;const a=(o=e.resolveType)!==null&&o!==void 0?o:t.typeResolver,l=t.contextValue,c=a(s,l,r,e);return yi(c)?c.then(u=>M_(t,lk(u,t,e,n,r,s),n,r,i,s)):M_(t,lk(c,t,e,n,r,s),n,r,i,s)}function lk(t,e,n,r,i,s){if(t==null)throw new Z(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if(et(t))throw new Z("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof t!="string")throw new Z(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}" with value ${te(s)}, received "${te(t)}".`);const o=e.schema.getType(t);if(o==null)throw new Z(`Abstract type "${n.name}" was resolved to a type "${t}" that does not exist inside the schema.`,{nodes:r});if(!et(o))throw new Z(`Abstract type "${n.name}" was resolved to a non-object type "${t}".`,{nodes:r});if(!e.schema.isSubType(n,o))throw new Z(`Runtime Object type "${o.name}" is not a possible type for "${n.name}".`,{nodes:r});return o}function M_(t,e,n,r,i,s){const o=E7(t,e,n);if(e.isTypeOf){const a=e.isTypeOf(s,t.contextValue,r);if(yi(a))return a.then(l=>{if(!l)throw ck(e,s,n);return Pm(t,e,s,i,o)});if(!a)throw ck(e,s,n)}return Pm(t,e,s,i,o)}function ck(t,e,n){return new Z(`Expected value of type "${t.name}" but got: ${te(e)}.`,{nodes:n})}const RO=function(t,e,n,r){if(wi(t)&&typeof t.__typename=="string")return t.__typename;const i=n.schema.getPossibleTypes(r),s=[];for(let o=0;o<i.length;o++){const a=i[o];if(a.isTypeOf){const l=a.isTypeOf(t,e,n);if(yi(l))s[o]=l;else if(l)return a.name}}if(s.length)return Promise.all(s).then(o=>{for(let a=0;a<o.length;a++)if(o[a])return i[a].name})},R_=function(t,e,n,r){if(wi(t)||typeof t=="function"){const i=t[r.fieldName];return typeof i=="function"?t[r.fieldName](e,n,r):i}};function xO(t,e,n){const r=n.name.value;return r===hf.name&&t.getQueryType()===e?hf:r===pf.name&&t.getQueryType()===e?pf:r===mf.name?mf:e.getFields()[r]}function N7(t){return new Promise(e=>e(DO(t)))}function M7(t){const e=DO(t);if(yi(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function DO(t){arguments.length<2||Ue(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:e,source:n,rootValue:r,contextValue:i,variableValues:s,operationName:o,fieldResolver:a,typeResolver:l}=t,c=wE(e);if(c.length>0)return{errors:c};let u;try{u=Eu(n)}catch(f){return{errors:[f]}}const d=OE(e,u);return d.length>0?{errors:d}:Hf({schema:e,document:u,rootValue:r,contextValue:i,variableValues:s,operationName:o,fieldResolver:a,typeResolver:l})}function OO(t){return typeof(t==null?void 0:t[Symbol.asyncIterator])=="function"}function R7(t,e){const n=t[Symbol.asyncIterator]();async function r(i){if(i.done)return i;try{return{value:await e(i.value),done:!1}}catch(s){if(typeof n.return=="function")try{await n.return()}catch{}throw s}}return{async next(){return r(await n.next())},async return(){return typeof n.return=="function"?r(await n.return()):{value:void 0,done:!0}},async throw(i){if(typeof n.throw=="function")return r(await n.throw(i));throw i},[Symbol.asyncIterator](){return this}}}async function PO(t){arguments.length<2||Ue(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const e=await LO(t);return OO(e)?R7(e,r=>Hf({...t,rootValue:r})):e}function x7(t){const e=t[0];return e&&"document"in e?e:{schema:e,document:t[1],rootValue:t[2],contextValue:t[3],variableValues:t[4],operationName:t[5],subscribeFieldResolver:t[6]}}async function LO(...t){const e=x7(t),{schema:n,document:r,variableValues:i}=e;AO(n,r,i);const s=CO(e);if(!("schema"in s))return{errors:s};try{const o=await D7(s);if(!OO(o))throw new Error(`Subscription field must return Async Iterable. Received: ${te(o)}.`);return o}catch(o){if(o instanceof Z)return{errors:[o]};throw o}}async function D7(t){const{schema:e,fragments:n,operation:r,variableValues:i,rootValue:s}=t,o=e.getSubscriptionType();if(o==null)throw new Z("Schema is not configured to execute subscription operation.",{nodes:r});const a=NE(e,n,i,o,r.selectionSet),[l,c]=[...a.entries()][0],u=xO(e,o,c[0]);if(!u){const w=c[0].name.value;throw new Z(`The subscription field "${w}" is not defined.`,{nodes:c})}const d=su(void 0,l,o.name),f=MO(t,u,c,o,d);try{var h;const w=my(u,c[0],i),T=t.contextValue,S=await((h=u.subscribe)!==null&&h!==void 0?h:t.subscribeFieldResolver)(s,w,T,f);if(S instanceof Error)throw S;return S}catch(w){throw au(w,c,Cr(d))}}function O7(t){return{Field(e){const n=t.getFieldDef(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=t.getParentType();i!=null||dn(!1),t.reportError(new Z(`The field ${i.name}.${n.name} is deprecated. ${r}`,{nodes:e}))}},Argument(e){const n=t.getArgument(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=t.getDirective();if(i!=null)t.reportError(new Z(`Directive "@${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:e}));else{const s=t.getParentType(),o=t.getFieldDef();s!=null&&o!=null||dn(!1),t.reportError(new Z(`Field "${s.name}.${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:e}))}}},ObjectField(e){const n=Mr(t.getParentInputType());if(vt(n)){const r=n.getFields()[e.name.value],i=r==null?void 0:r.deprecationReason;i!=null&&t.reportError(new Z(`The input field ${n.name}.${r.name} is deprecated. ${i}`,{nodes:e}))}},EnumValue(e){const n=t.getEnumValue(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=Mr(t.getInputType());i!=null||dn(!1),t.reportError(new Z(`The enum value "${i.name}.${n.name}" is deprecated. ${r}`,{nodes:e}))}}}}function P7(t){return{Field(e){const n=Mr(t.getType());n&&Cl(n)&&t.reportError(new Z(`GraphQL introspection has been disabled, but the requested query contained the field "${e.name.value}".`,{nodes:e}))}}}function $O(t){const e={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,oneOf:!1,...t},n=e.descriptions?"description":"",r=e.specifiedByUrl?"specifiedByURL":"",i=e.directiveIsRepeatable?"isRepeatable":"",s=e.schemaDescription?n:"";function o(l){return e.inputValueDeprecation?l:""}const a=e.oneOf?"isOneOf":"";return`
    query IntrospectionQuery {
      __schema {
        ${s}
        queryType { name kind }
        mutationType { name kind }
        subscriptionType { name kind }
        types {
          ...FullType
        }
        directives {
          name
          ${n}
          ${i}
          locations
          args${o("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${n}
      ${r}
      ${a}
      fields(includeDeprecated: true) {
        name
        ${n}
        args${o("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${o("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${n}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${n}
      type { ...TypeRef }
      defaultValue
      ${o("isDeprecated")}
      ${o("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}function BO(t,e){let n=null;for(const i of t.definitions)if(i.kind===U.OPERATION_DEFINITION){var r;if(e==null){if(n)return null;n=i}else if(((r=i.name)===null||r===void 0?void 0:r.value)===e)return i}return n}function L7(t,e){if(e.operation==="query"){const n=t.getQueryType();if(!n)throw new Z("Schema does not define the required query root type.",{nodes:e});return n}if(e.operation==="mutation"){const n=t.getMutationType();if(!n)throw new Z("Schema is not configured for mutations.",{nodes:e});return n}if(e.operation==="subscription"){const n=t.getSubscriptionType();if(!n)throw new Z("Schema is not configured for subscriptions.",{nodes:e});return n}throw new Z("Can only have query, mutation and subscription operations.",{nodes:e})}function $7(t,e){const n={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,oneOf:!0,...e},r=Eu($O(n)),i=kO({schema:t,document:r});return!i.errors&&i.data||dn(!1),i.data}function B7(t,e){wi(t)&&wi(t.__schema)||Ue(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${te(t)}.`);const n=t.__schema,r=Ko(n.types,D=>D.name,D=>f(D));for(const D of[...jf,...Vf])r[D.name]&&(r[D.name]=D);const i=n.queryType?u(n.queryType):null,s=n.mutationType?u(n.mutationType):null,o=n.subscriptionType?u(n.subscriptionType):null,a=n.directives?n.directives.map(z):[];return new Iu({description:n.description,query:i,mutation:s,subscription:o,types:Object.values(r),directives:a,assumeValid:e==null?void 0:e.assumeValid});function l(D){if(D.kind===gt.LIST){const F=D.ofType;if(!F)throw new Error("Decorated type deeper than introspection query.");return new ir(l(F))}if(D.kind===gt.NON_NULL){const F=D.ofType;if(!F)throw new Error("Decorated type deeper than introspection query.");const V=l(F);return new Be(ID(V))}return c(D)}function c(D){const F=D.name;if(!F)throw new Error(`Unknown type reference: ${te(D)}.`);const V=r[F];if(!V)throw new Error(`Invalid or incomplete schema, unknown type: ${F}. Ensure that a full introspection query is used in order to build a client schema.`);return V}function u(D){return ED(c(D))}function d(D){return TD(c(D))}function f(D){if(D!=null&&D.name!=null&&D.kind!=null)switch(D.kind){case gt.SCALAR:return h(D);case gt.OBJECT:return T(D);case gt.INTERFACE:return A(D);case gt.UNION:return S(D);case gt.ENUM:return y(D);case gt.INPUT_OBJECT:return b(D)}const F=te(D);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${F}.`)}function h(D){return new Ls({name:D.name,description:D.description,specifiedByURL:D.specifiedByURL})}function w(D){if(D.interfaces===null&&D.kind===gt.INTERFACE)return[];if(!D.interfaces){const F=te(D);throw new Error(`Introspection result missing interfaces: ${F}.`)}return D.interfaces.map(d)}function T(D){return new $i({name:D.name,description:D.description,interfaces:()=>w(D),fields:()=>C(D)})}function A(D){return new nu({name:D.name,description:D.description,interfaces:()=>w(D),fields:()=>C(D)})}function S(D){if(!D.possibleTypes){const F=te(D);throw new Error(`Introspection result missing possibleTypes: ${F}.`)}return new ru({name:D.name,description:D.description,types:()=>D.possibleTypes.map(u)})}function y(D){if(!D.enumValues){const F=te(D);throw new Error(`Introspection result missing enumValues: ${F}.`)}return new ha({name:D.name,description:D.description,values:Ko(D.enumValues,F=>F.name,F=>({description:F.description,deprecationReason:F.deprecationReason}))})}function b(D){if(!D.inputFields){const F=te(D);throw new Error(`Introspection result missing inputFields: ${F}.`)}return new iu({name:D.name,description:D.description,fields:()=>I(D.inputFields),isOneOf:D.isOneOf})}function C(D){if(!D.fields)throw new Error(`Introspection result missing fields: ${te(D)}.`);return Ko(D.fields,F=>F.name,E)}function E(D){const F=l(D.type);if(!oa(F)){const V=te(F);throw new Error(`Introspection must provide output type for fields, but received: ${V}.`)}if(!D.args){const V=te(D);throw new Error(`Introspection result missing field args: ${V}.`)}return{description:D.description,deprecationReason:D.deprecationReason,type:F,args:I(D.args)}}function I(D){return Ko(D,F=>F.name,k)}function k(D){const F=l(D.type);if(!Wr(F)){const G=te(F);throw new Error(`Introspection must provide input type for arguments, but received: ${G}.`)}const V=D.defaultValue!=null?ks(_D(D.defaultValue),F):void 0;return{description:D.description,type:F,defaultValue:V,deprecationReason:D.deprecationReason}}function z(D){if(!D.args){const F=te(D);throw new Error(`Introspection result missing directive args: ${F}.`)}if(!D.locations){const F=te(D);throw new Error(`Introspection result missing directive locations: ${F}.`)}return new us({name:D.name,description:D.description,isRepeatable:D.isRepeatable,locations:D.locations.slice(),args:I(D.args)})}}function U7(t,e,n){yE(t),e!=null&&e.kind===U.DOCUMENT||Ue(!1,"Must provide valid Document AST."),(n==null?void 0:n.assumeValid)!==!0&&(n==null?void 0:n.assumeValidSDL)!==!0&&y7(e,t);const r=t.toConfig(),i=UO(r,e,n);return r===i?t:new Iu(i)}function UO(t,e,n){var r,i,s,o;const a=[],l=Object.create(null),c=[];let u;const d=[];for(const m of e.definitions)if(m.kind===U.SCHEMA_DEFINITION)u=m;else if(m.kind===U.SCHEMA_EXTENSION)d.push(m);else if(ku(m))a.push(m);else if(hy(m)){const L=m.name.value,q=l[L];l[L]=q?q.concat([m]):[m]}else m.kind===U.DIRECTIVE_DEFINITION&&c.push(m);if(Object.keys(l).length===0&&a.length===0&&c.length===0&&d.length===0&&u==null)return t;const f=Object.create(null);for(const m of t.types)f[m.name]=y(m);for(const m of a){var h;const L=m.name.value;f[L]=(h=uk[L])!==null&&h!==void 0?h:P(m)}const w={query:t.query&&A(t.query),mutation:t.mutation&&A(t.mutation),subscription:t.subscription&&A(t.subscription),...u&&V([u]),...V(d)};return{description:(r=u)===null||r===void 0||(i=r.description)===null||i===void 0?void 0:i.value,...w,types:Object.values(f),directives:[...t.directives.map(S),...c.map(p)],extensions:Object.create(null),astNode:(s=u)!==null&&s!==void 0?s:t.astNode,extensionASTNodes:t.extensionASTNodes.concat(d),assumeValid:(o=n==null?void 0:n.assumeValid)!==null&&o!==void 0?o:!1};function T(m){return Ot(m)?new ir(T(m.ofType)):xe(m)?new Be(T(m.ofType)):A(m)}function A(m){return f[m.name]}function S(m){const L=m.toConfig();return new us({...L,args:no(L.args,F)})}function y(m){if(Cl(m)||cy(m))return m;if(Ti(m))return E(m);if(et(m))return I(m);if(ct(m))return k(m);if(Fn(m))return z(m);if(Dn(m))return C(m);if(vt(m))return b(m);dn(!1,"Unexpected type: "+te(m))}function b(m){var L;const q=m.toConfig(),Q=(L=l[q.name])!==null&&L!==void 0?L:[];return new iu({...q,fields:()=>({...no(q.fields,ne=>({...ne,type:T(ne.type)})),...O(Q)}),extensionASTNodes:q.extensionASTNodes.concat(Q)})}function C(m){var L;const q=m.toConfig(),Q=(L=l[m.name])!==null&&L!==void 0?L:[];return new ha({...q,values:{...q.values,...M(Q)},extensionASTNodes:q.extensionASTNodes.concat(Q)})}function E(m){var L;const q=m.toConfig(),Q=(L=l[q.name])!==null&&L!==void 0?L:[];let ne=q.specifiedByURL;for(const _e of Q){var Ce;ne=(Ce=dk(_e))!==null&&Ce!==void 0?Ce:ne}return new Ls({...q,specifiedByURL:ne,extensionASTNodes:q.extensionASTNodes.concat(Q)})}function I(m){var L;const q=m.toConfig(),Q=(L=l[q.name])!==null&&L!==void 0?L:[];return new $i({...q,interfaces:()=>[...m.getInterfaces().map(A),...B(Q)],fields:()=>({...no(q.fields,D),...v(Q)}),extensionASTNodes:q.extensionASTNodes.concat(Q)})}function k(m){var L;const q=m.toConfig(),Q=(L=l[q.name])!==null&&L!==void 0?L:[];return new nu({...q,interfaces:()=>[...m.getInterfaces().map(A),...B(Q)],fields:()=>({...no(q.fields,D),...v(Q)}),extensionASTNodes:q.extensionASTNodes.concat(Q)})}function z(m){var L;const q=m.toConfig(),Q=(L=l[q.name])!==null&&L!==void 0?L:[];return new ru({...q,types:()=>[...m.getTypes().map(A),...j(Q)],extensionASTNodes:q.extensionASTNodes.concat(Q)})}function D(m){return{...m,type:T(m.type),args:m.args&&no(m.args,F)}}function F(m){return{...m,type:T(m.type)}}function V(m){const L={};for(const Q of m){var q;const ne=(q=Q.operationTypes)!==null&&q!==void 0?q:[];for(const Ce of ne)L[Ce.operation]=G(Ce.type)}return L}function G(m){var L;const q=m.name.value,Q=(L=uk[q])!==null&&L!==void 0?L:f[q];if(Q===void 0)throw new Error(`Unknown type: "${q}".`);return Q}function x(m){return m.kind===U.LIST_TYPE?new ir(x(m.type)):m.kind===U.NON_NULL_TYPE?new Be(x(m.type)):G(m)}function p(m){var L;return new us({name:m.name.value,description:(L=m.description)===null||L===void 0?void 0:L.value,locations:m.locations.map(({value:q})=>q),isRepeatable:m.repeatable,args:N(m.arguments),astNode:m})}function v(m){const L=Object.create(null);for(const ne of m){var q;const Ce=(q=ne.fields)!==null&&q!==void 0?q:[];for(const _e of Ce){var Q;L[_e.name.value]={type:x(_e.type),description:(Q=_e.description)===null||Q===void 0?void 0:Q.value,args:N(_e.arguments),deprecationReason:xh(_e),astNode:_e}}}return L}function N(m){const L=m??[],q=Object.create(null);for(const ne of L){var Q;const Ce=x(ne.type);q[ne.name.value]={type:Ce,description:(Q=ne.description)===null||Q===void 0?void 0:Q.value,defaultValue:ks(ne.defaultValue,Ce),deprecationReason:xh(ne),astNode:ne}}return q}function O(m){const L=Object.create(null);for(const ne of m){var q;const Ce=(q=ne.fields)!==null&&q!==void 0?q:[];for(const _e of Ce){var Q;const Oe=x(_e.type);L[_e.name.value]={type:Oe,description:(Q=_e.description)===null||Q===void 0?void 0:Q.value,defaultValue:ks(_e.defaultValue,Oe),deprecationReason:xh(_e),astNode:_e}}}return L}function M(m){const L=Object.create(null);for(const ne of m){var q;const Ce=(q=ne.values)!==null&&q!==void 0?q:[];for(const _e of Ce){var Q;L[_e.name.value]={description:(Q=_e.description)===null||Q===void 0?void 0:Q.value,deprecationReason:xh(_e),astNode:_e}}}return L}function B(m){return m.flatMap(L=>{var q,Q;return(q=(Q=L.interfaces)===null||Q===void 0?void 0:Q.map(G))!==null&&q!==void 0?q:[]})}function j(m){return m.flatMap(L=>{var q,Q;return(q=(Q=L.types)===null||Q===void 0?void 0:Q.map(G))!==null&&q!==void 0?q:[]})}function P(m){var L;const q=m.name.value,Q=(L=l[q])!==null&&L!==void 0?L:[];switch(m.kind){case U.OBJECT_TYPE_DEFINITION:{var ne;const He=[m,...Q];return new $i({name:q,description:(ne=m.description)===null||ne===void 0?void 0:ne.value,interfaces:()=>B(He),fields:()=>v(He),astNode:m,extensionASTNodes:Q})}case U.INTERFACE_TYPE_DEFINITION:{var Ce;const He=[m,...Q];return new nu({name:q,description:(Ce=m.description)===null||Ce===void 0?void 0:Ce.value,interfaces:()=>B(He),fields:()=>v(He),astNode:m,extensionASTNodes:Q})}case U.ENUM_TYPE_DEFINITION:{var _e;const He=[m,...Q];return new ha({name:q,description:(_e=m.description)===null||_e===void 0?void 0:_e.value,values:M(He),astNode:m,extensionASTNodes:Q})}case U.UNION_TYPE_DEFINITION:{var Oe;const He=[m,...Q];return new ru({name:q,description:(Oe=m.description)===null||Oe===void 0?void 0:Oe.value,types:()=>j(He),astNode:m,extensionASTNodes:Q})}case U.SCALAR_TYPE_DEFINITION:{var ti;return new Ls({name:q,description:(ti=m.description)===null||ti===void 0?void 0:ti.value,specifiedByURL:dk(m),astNode:m,extensionASTNodes:Q})}case U.INPUT_OBJECT_TYPE_DEFINITION:{var ze;const He=[m,...Q];return new iu({name:q,description:(ze=m.description)===null||ze===void 0?void 0:ze.value,fields:()=>O(He),astNode:m,extensionASTNodes:Q,isOneOf:F7(m)})}}}}const uk=wo([...jf,...Vf],t=>t.name);function xh(t){const e=ou(dy,t);return e==null?void 0:e.reason}function dk(t){const e=ou(lE,t);return e==null?void 0:e.url}function F7(t){return!!ou(cE,t)}function FO(t,e){t!=null&&t.kind===U.DOCUMENT||Ue(!1,"Must provide valid Document AST."),(e==null?void 0:e.assumeValid)!==!0&&(e==null?void 0:e.assumeValidSDL)!==!0&&g7(t);const r=UO({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},t,e);if(r.astNode==null)for(const s of r.types)switch(s.name){case"Query":r.query=s;break;case"Mutation":r.mutation=s;break;case"Subscription":r.subscription=s;break}const i=[...r.directives,...Ea.filter(s=>r.directives.every(o=>o.name!==s.name))];return new Iu({...r,directives:i})}function j7(t,e){const n=Eu(t,{noLocation:e==null?void 0:e.noLocation,allowLegacyFragmentVariables:e==null?void 0:e.allowLegacyFragmentVariables});return FO(n,{assumeValidSDL:e==null?void 0:e.assumeValidSDL,assumeValid:e==null?void 0:e.assumeValid})}function z7(t){const e=t.toConfig(),n=Ko(nw(e.types),f=>f.name,d);return new Iu({...e,types:Object.values(n),directives:nw(e.directives).map(o),query:s(e.query),mutation:s(e.mutation),subscription:s(e.subscription)});function r(f){return Ot(f)?new ir(r(f.ofType)):xe(f)?new Be(r(f.ofType)):i(f)}function i(f){return n[f.name]}function s(f){return f&&i(f)}function o(f){const h=f.toConfig();return new us({...h,locations:jO(h.locations,w=>w),args:a(h.args)})}function a(f){return Dh(f,h=>({...h,type:r(h.type)}))}function l(f){return Dh(f,h=>({...h,type:r(h.type),args:h.args&&a(h.args)}))}function c(f){return Dh(f,h=>({...h,type:r(h.type)}))}function u(f){return nw(f).map(i)}function d(f){if(Ti(f)||Cl(f))return f;if(et(f)){const h=f.toConfig();return new $i({...h,interfaces:()=>u(h.interfaces),fields:()=>l(h.fields)})}if(ct(f)){const h=f.toConfig();return new nu({...h,interfaces:()=>u(h.interfaces),fields:()=>l(h.fields)})}if(Fn(f)){const h=f.toConfig();return new ru({...h,types:()=>u(h.types)})}if(Dn(f)){const h=f.toConfig();return new ha({...h,values:Dh(h.values,w=>w)})}if(vt(f)){const h=f.toConfig();return new iu({...h,fields:()=>c(h.fields)})}dn(!1,"Unexpected type: "+te(f))}}function Dh(t,e){const n=Object.create(null);for(const r of Object.keys(t).sort($f))n[r]=e(t[r]);return n}function nw(t){return jO(t,e=>e.name)}function jO(t,e){return t.slice().sort((n,r)=>{const i=e(n),s=e(r);return $f(i,s)})}function W7(t){return zO(t,e=>!uE(e),H7)}function V7(t){return zO(t,uE,Cl)}function H7(t){return!cy(t)&&!Cl(t)}function zO(t,e,n){const r=t.getDirectives().filter(e),i=Object.values(t.getTypeMap()).filter(n);return[G7(t),...r.map(s=>e9(s)),...i.map(s=>WO(s))].filter(Boolean).join(`

`)}function G7(t){if(t.description==null&&q7(t))return;const e=[],n=t.getQueryType();n&&e.push(`  query: ${n.name}`);const r=t.getMutationType();r&&e.push(`  mutation: ${r.name}`);const i=t.getSubscriptionType();return i&&e.push(`  subscription: ${i.name}`),Bi(t)+`schema {
${e.join(`
`)}
}`}function q7(t){const e=t.getQueryType();if(e&&e.name!=="Query")return!1;const n=t.getMutationType();if(n&&n.name!=="Mutation")return!1;const r=t.getSubscriptionType();return!(r&&r.name!=="Subscription")}function WO(t){if(Ti(t))return K7(t);if(et(t))return Y7(t);if(ct(t))return Q7(t);if(Fn(t))return J7(t);if(Dn(t))return Z7(t);if(vt(t))return X7(t);dn(!1,"Unexpected type: "+te(t))}function K7(t){return Bi(t)+`scalar ${t.name}`+t9(t)}function VO(t){const e=t.getInterfaces();return e.length?" implements "+e.map(n=>n.name).join(" & "):""}function Y7(t){return Bi(t)+`type ${t.name}`+VO(t)+HO(t)}function Q7(t){return Bi(t)+`interface ${t.name}`+VO(t)+HO(t)}function J7(t){const e=t.getTypes(),n=e.length?" = "+e.join(" | "):"";return Bi(t)+"union "+t.name+n}function Z7(t){const e=t.getValues().map((n,r)=>Bi(n,"  ",!r)+"  "+n.name+LE(n.deprecationReason));return Bi(t)+`enum ${t.name}`+PE(e)}function X7(t){const e=Object.values(t.getFields()).map((n,r)=>Bi(n,"  ",!r)+"  "+x_(n));return Bi(t)+`input ${t.name}`+(t.isOneOf?" @oneOf":"")+PE(e)}function HO(t){const e=Object.values(t.getFields()).map((n,r)=>Bi(n,"  ",!r)+"  "+n.name+GO(n.args,"  ")+": "+String(n.type)+LE(n.deprecationReason));return PE(e)}function PE(t){return t.length!==0?` {
`+t.join(`
`)+`
}`:""}function GO(t,e=""){return t.length===0?"":t.every(n=>!n.description)?"("+t.map(x_).join(", ")+")":`(
`+t.map((n,r)=>Bi(n,"  "+e,!r)+"  "+e+x_(n)).join(`
`)+`
`+e+")"}function x_(t){const e=Yo(t.defaultValue,t.type);let n=t.name+": "+String(t.type);return e&&(n+=` = ${Dt(e)}`),n+LE(t.deprecationReason)}function e9(t){return Bi(t)+"directive @"+t.name+GO(t.args)+(t.isRepeatable?" repeatable":"")+" on "+t.locations.join(" | ")}function LE(t){return t==null?"":t!==aE?` @deprecated(reason: ${Dt({kind:U.STRING,value:t})})`:" @deprecated"}function t9(t){return t.specifiedByURL==null?"":` @specifiedBy(url: ${Dt({kind:U.STRING,value:t.specifiedByURL})})`}function Bi(t,e="",n=!0){const{description:r}=t;if(r==null)return"";const i=Dt({kind:U.STRING,value:r,block:LW(r)});return(e&&!n?`
`+e:e)+i.replace(/\n/g,`
`+e)+`
`}function n9(t){const e=[];for(const n of t)e.push(...n.definitions);return{kind:U.DOCUMENT,definitions:e}}function r9(t){const e=[],n=Object.create(null);for(const i of t.definitions)switch(i.kind){case U.OPERATION_DEFINITION:e.push(i);break;case U.FRAGMENT_DEFINITION:n[i.name.value]=fk(i.selectionSet);break}const r=Object.create(null);for(const i of e){const s=new Set;for(const a of fk(i.selectionSet))qO(s,n,a);const o=i.name?i.name.value:"";r[o]={kind:U.DOCUMENT,definitions:t.definitions.filter(a=>a===i||a.kind===U.FRAGMENT_DEFINITION&&s.has(a.name.value))}}return r}function qO(t,e,n){if(!t.has(n)){t.add(n);const r=e[n];if(r!==void 0)for(const i of r)qO(t,e,i)}}function fk(t){const e=[];return Tu(t,{FragmentSpread(n){e.push(n.name.value)}}),e}function i9(t){const e=vD(t)?t:new sy(t),n=e.body,r=new Xb(e);let i="",s=!1;for(;r.advance().kind!==ee.EOF;){const o=r.token,a=o.kind,l=!mD(o.kind);s&&(l||o.kind===ee.SPREAD)&&(i+=" ");const c=n.slice(o.start,o.end);a===ee.BLOCK_STRING?i+=pD(o.value,{minimize:!0}):i+=c,s=l}return i}function s9(t){const e=KO(t);if(e)throw e;return t}function KO(t){if(typeof t=="string"||Ue(!1,"Expected name to be a string."),t.startsWith("__"))return new Z(`Name "${t}" must not begin with "__", which is reserved by GraphQL introspection.`);try{Ei(t)}catch(e){return e}}var nn;(function(t){t.TYPE_REMOVED="TYPE_REMOVED",t.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",t.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",t.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",t.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",t.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",t.FIELD_REMOVED="FIELD_REMOVED",t.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",t.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",t.ARG_REMOVED="ARG_REMOVED",t.ARG_CHANGED_KIND="ARG_CHANGED_KIND",t.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",t.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",t.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",t.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",t.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"})(nn||(nn={}));var ss;(function(t){t.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",t.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",t.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",t.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",t.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",t.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"})(ss||(ss={}));function o9(t,e){return YO(t,e).filter(n=>n.type in nn)}function a9(t,e){return YO(t,e).filter(n=>n.type in ss)}function YO(t,e){return[...c9(t,e),...l9(t,e)]}function l9(t,e){const n=[],r=vo(t.getDirectives(),e.getDirectives());for(const i of r.removed)n.push({type:nn.DIRECTIVE_REMOVED,description:`${i.name} was removed.`});for(const[i,s]of r.persisted){const o=vo(i.args,s.args);for(const a of o.added)ba(a)&&n.push({type:nn.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${a.name} on directive ${i.name} was added.`});for(const a of o.removed)n.push({type:nn.DIRECTIVE_ARG_REMOVED,description:`${a.name} was removed from ${i.name}.`});i.isRepeatable&&!s.isRepeatable&&n.push({type:nn.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${i.name}.`});for(const a of i.locations)s.locations.includes(a)||n.push({type:nn.DIRECTIVE_LOCATION_REMOVED,description:`${a} was removed from ${i.name}.`})}return n}function c9(t,e){const n=[],r=vo(Object.values(t.getTypeMap()),Object.values(e.getTypeMap()));for(const i of r.removed)n.push({type:nn.TYPE_REMOVED,description:cy(i)?`Standard scalar ${i.name} was removed because it is not referenced anymore.`:`${i.name} was removed.`});for(const[i,s]of r.persisted)Dn(i)&&Dn(s)?n.push(...f9(i,s)):Fn(i)&&Fn(s)?n.push(...d9(i,s)):vt(i)&&vt(s)?n.push(...u9(i,s)):et(i)&&et(s)?n.push(...pk(i,s),...hk(i,s)):ct(i)&&ct(s)?n.push(...pk(i,s),...hk(i,s)):i.constructor!==s.constructor&&n.push({type:nn.TYPE_CHANGED_KIND,description:`${i.name} changed from ${mk(i)} to ${mk(s)}.`});return n}function u9(t,e){const n=[],r=vo(Object.values(t.getFields()),Object.values(e.getFields()));for(const i of r.added)ly(i)?n.push({type:nn.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${i.name} on input type ${t.name} was added.`}):n.push({type:ss.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${i.name} on input type ${t.name} was added.`});for(const i of r.removed)n.push({type:nn.FIELD_REMOVED,description:`${t.name}.${i.name} was removed.`});for(const[i,s]of r.persisted)Md(i.type,s.type)||n.push({type:nn.FIELD_CHANGED_KIND,description:`${t.name}.${i.name} changed type from ${String(i.type)} to ${String(s.type)}.`});return n}function d9(t,e){const n=[],r=vo(t.getTypes(),e.getTypes());for(const i of r.added)n.push({type:ss.TYPE_ADDED_TO_UNION,description:`${i.name} was added to union type ${t.name}.`});for(const i of r.removed)n.push({type:nn.TYPE_REMOVED_FROM_UNION,description:`${i.name} was removed from union type ${t.name}.`});return n}function f9(t,e){const n=[],r=vo(t.getValues(),e.getValues());for(const i of r.added)n.push({type:ss.VALUE_ADDED_TO_ENUM,description:`${i.name} was added to enum type ${t.name}.`});for(const i of r.removed)n.push({type:nn.VALUE_REMOVED_FROM_ENUM,description:`${i.name} was removed from enum type ${t.name}.`});return n}function hk(t,e){const n=[],r=vo(t.getInterfaces(),e.getInterfaces());for(const i of r.added)n.push({type:ss.IMPLEMENTED_INTERFACE_ADDED,description:`${i.name} added to interfaces implemented by ${t.name}.`});for(const i of r.removed)n.push({type:nn.IMPLEMENTED_INTERFACE_REMOVED,description:`${t.name} no longer implements interface ${i.name}.`});return n}function pk(t,e){const n=[],r=vo(Object.values(t.getFields()),Object.values(e.getFields()));for(const i of r.removed)n.push({type:nn.FIELD_REMOVED,description:`${t.name}.${i.name} was removed.`});for(const[i,s]of r.persisted)n.push(...h9(t,i,s)),dd(i.type,s.type)||n.push({type:nn.FIELD_CHANGED_KIND,description:`${t.name}.${i.name} changed type from ${String(i.type)} to ${String(s.type)}.`});return n}function h9(t,e,n){const r=[],i=vo(e.args,n.args);for(const s of i.removed)r.push({type:nn.ARG_REMOVED,description:`${t.name}.${e.name} arg ${s.name} was removed.`});for(const[s,o]of i.persisted)if(!Md(s.type,o.type))r.push({type:nn.ARG_CHANGED_KIND,description:`${t.name}.${e.name} arg ${s.name} has changed type from ${String(s.type)} to ${String(o.type)}.`});else if(s.defaultValue!==void 0)if(o.defaultValue===void 0)r.push({type:ss.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${s.name} defaultValue was removed.`});else{const l=gk(s.defaultValue,s.type),c=gk(o.defaultValue,o.type);l!==c&&r.push({type:ss.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${s.name} has changed defaultValue from ${l} to ${c}.`})}for(const s of i.added)ba(s)?r.push({type:nn.REQUIRED_ARG_ADDED,description:`A required arg ${s.name} on ${t.name}.${e.name} was added.`}):r.push({type:ss.OPTIONAL_ARG_ADDED,description:`An optional arg ${s.name} on ${t.name}.${e.name} was added.`});return r}function dd(t,e){return Ot(t)?Ot(e)&&dd(t.ofType,e.ofType)||xe(e)&&dd(t,e.ofType):xe(t)?xe(e)&&dd(t.ofType,e.ofType):Ff(e)&&t.name===e.name||xe(e)&&dd(t,e.ofType)}function Md(t,e){return Ot(t)?Ot(e)&&Md(t.ofType,e.ofType):xe(t)?xe(e)&&Md(t.ofType,e.ofType)||!xe(e)&&Md(t.ofType,e):Ff(e)&&t.name===e.name}function mk(t){if(Ti(t))return"a Scalar type";if(et(t))return"an Object type";if(ct(t))return"an Interface type";if(Fn(t))return"a Union type";if(Dn(t))return"an Enum type";if(vt(t))return"an Input type";dn(!1,"Unexpected type: "+te(t))}function gk(t,e){const n=Yo(t,e);return n!=null||dn(!1),Dt(py(n))}function vo(t,e){const n=[],r=[],i=[],s=wo(t,({name:a})=>a),o=wo(e,({name:a})=>a);for(const a of t){const l=o[a.name];l===void 0?r.push(a):i.push([a,l])}for(const a of e)s[a.name]===void 0&&n.push(a);return{added:n,persisted:i,removed:r}}const p9=Object.freeze(Object.defineProperty({__proto__:null,BREAK:hc,get BreakingChangeType(){return nn},DEFAULT_DEPRECATION_REASON:aE,get DangerousChangeType(){return ss},get DirectiveLocation(){return Te},ExecutableDefinitionsRule:PD,FieldsOnCorrectTypeRule:LD,FragmentsOnCompositeTypesRule:$D,GRAPHQL_MAX_INT:Mp,GRAPHQL_MIN_INT:Rp,GraphQLBoolean:Kr,GraphQLDeprecatedDirective:dy,GraphQLDirective:us,GraphQLEnumType:ha,GraphQLError:Z,GraphQLFloat:xD,GraphQLID:iE,GraphQLIncludeDirective:sE,GraphQLInputObjectType:iu,GraphQLInt:RD,GraphQLInterfaceType:nu,GraphQLList:ir,GraphQLNonNull:Be,GraphQLObjectType:$i,GraphQLOneOfDirective:cE,GraphQLScalarType:Ls,GraphQLSchema:Iu,GraphQLSkipDirective:oE,GraphQLSpecifiedByDirective:lE,GraphQLString:rn,GraphQLUnionType:ru,get Kind(){return U},KnownArgumentNamesRule:BD,KnownDirectivesRule:kE,KnownFragmentNamesRule:FD,KnownTypeNamesRule:AE,Lexer:Xb,Location:uD,LoneAnonymousOperationRule:jD,LoneSchemaDefinitionRule:zD,MaxIntrospectionDepthRule:WD,NoDeprecatedCustomRule:O7,NoFragmentCyclesRule:VD,NoSchemaIntrospectionCustomRule:P7,NoUndefinedVariablesRule:HD,NoUnusedFragmentsRule:GD,NoUnusedVariablesRule:qD,get OperationTypeNode(){return Un},OverlappingFieldsCanBeMergedRule:YD,PossibleFragmentSpreadsRule:XD,PossibleTypeExtensionsRule:eO,ProvidedRequiredArgumentsRule:tO,ScalarLeafsRule:rO,SchemaMetaFieldDef:hf,SingleFieldSubscriptionsRule:lO,Source:sy,Token:Jb,get TokenKind(){return ee},TypeInfo:SE,get TypeKind(){return gt},TypeMetaFieldDef:pf,TypeNameMetaFieldDef:mf,UniqueArgumentDefinitionNamesRule:cO,UniqueArgumentNamesRule:RE,UniqueDirectiveNamesRule:uO,UniqueDirectivesPerLocationRule:xE,UniqueEnumValueNamesRule:dO,UniqueFieldDefinitionNamesRule:fO,UniqueFragmentNamesRule:hO,UniqueInputFieldNamesRule:DE,UniqueOperationNamesRule:pO,UniqueOperationTypesRule:mO,UniqueTypeNamesRule:gO,UniqueVariableNamesRule:yO,ValidationContext:TO,ValuesOfCorrectTypeRule:wO,VariablesAreInputTypesRule:vO,VariablesInAllowedPositionRule:_O,__Directive:fE,__DirectiveLocation:hE,__EnumValue:mE,__Field:pE,__InputValue:Wf,__Schema:fy,__Type:Mi,__TypeKind:gE,assertAbstractType:bV,assertCompositeType:SV,assertDirective:AV,assertEnumType:pV,assertEnumValueName:bD,assertInputObjectType:mV,assertInputType:wV,assertInterfaceType:TD,assertLeafType:_V,assertListType:gV,assertName:Ei,assertNamedType:TV,assertNonNullType:yV,assertNullableType:ID,assertObjectType:ED,assertOutputType:vV,assertScalarType:fV,assertSchema:yE,assertType:dV,assertUnionType:hV,assertValidName:s9,assertValidSchema:vE,assertWrappingType:EV,astFromValue:Yo,buildASTSchema:FO,buildClientSchema:B7,buildSchema:j7,coerceInputValue:sO,concatAST:n9,createSourceEventStream:LO,defaultFieldResolver:R_,defaultTypeResolver:RO,doTypesOverlap:k_,execute:Hf,executeSync:kO,extendSchema:U7,findBreakingChanges:o9,findDangerousChanges:a9,formatError:xW,getArgumentValues:my,getDirectiveValues:ou,getEnterLeaveForKind:tu,getIntrospectionQuery:$O,getLocation:Cm,getNamedType:Mr,getNullableType:tE,getOperationAST:BO,getOperationRootType:L7,getVariableValues:oO,getVisitFn:lV,graphql:N7,graphqlSync:M7,introspectionFromSchema:$7,introspectionTypes:Vf,isAbstractType:Rs,isCompositeType:Ps,isConstValueNode:A_,isDefinitionNode:FV,isDirective:uy,isEnumType:Dn,isEqualType:Mm,isExecutableDefinitionNode:EE,isInputObjectType:vt,isInputType:Wr,isInterfaceType:ct,isIntrospectionType:Cl,isLeafType:Os,isListType:Ot,isNamedType:Ff,isNonNullType:xe,isNullableType:ay,isObjectType:et,isOutputType:oa,isRequiredArgument:ba,isRequiredInputField:ly,isScalarType:Ti,isSchema:DD,isSelectionNode:jV,isSpecifiedDirective:uE,isSpecifiedScalarType:cy,isType:Bf,isTypeDefinitionNode:ku,isTypeExtensionNode:hy,isTypeNode:zV,isTypeSubTypeOf:tl,isTypeSystemDefinitionNode:TE,isTypeSystemExtensionNode:IE,isUnionType:Fn,isValidNameError:KO,isValueNode:OD,isWrappingType:Uf,lexicographicSortSchema:z7,locatedError:au,parse:Eu,parseConstValue:XW,parseType:eV,parseValue:_D,print:Dt,printError:RW,printIntrospectionSchema:V7,printLocation:lD,printSchema:W7,printSourceLocation:Qb,printType:WO,recommendedRules:SO,resolveObjMapThunk:rE,resolveReadonlyArrayThunk:nE,responsePathAsArray:Cr,separateOperations:r9,specifiedDirectives:Ea,specifiedRules:bO,specifiedScalarTypes:jf,stripIgnoredCharacters:i9,subscribe:PO,syntaxError:$n,typeFromAST:ei,validate:OE,validateSchema:wE,valueFromAST:ks,valueFromASTUntyped:Nm,version:AW,versionInfo:CW,visit:Tu,visitInParallel:eE,visitWithTypeInfo:bE},Symbol.toStringTag,{value:"Module"}));var xp=new Map,D_=new Map,QO=!0,$m=!1;function JO(t){return t.replace(/[\s,]+/g," ").trim()}function m9(t){return JO(t.source.body.substring(t.start,t.end))}function g9(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=m9(r.loc),o=D_.get(i);o&&!o.has(s)?QO&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||D_.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),Am(Am({},t),{definitions:n})}function y9(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function w9(t){var e=JO(t);if(!xp.has(e)){var n=Eu(t,{experimentalFragmentVariables:$m,allowLegacyFragmentVariables:$m});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");xp.set(e,y9(g9(n)))}return xp.get(e)}function hl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),w9(r)}function ZO(){xp.clear(),D_.clear()}function XO(){QO=!1}function e2(){$m=!0}function t2(){$m=!1}var Wu={gql:hl,resetCaches:ZO,disableFragmentWarnings:XO,enableExperimentalFragmentVariables:e2,disableExperimentalFragmentVariables:t2};(function(t){t.gql=Wu.gql,t.resetCaches=Wu.resetCaches,t.disableFragmentWarnings=Wu.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Wu.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Wu.disableExperimentalFragmentVariables})(hl||(hl={}));hl.default=hl;const v9=hl,_9=Object.freeze(Object.defineProperty({__proto__:null,default:v9,disableExperimentalFragmentVariables:t2,disableFragmentWarnings:XO,enableExperimentalFragmentVariables:e2,get gql(){return hl},resetCaches:ZO},Symbol.toStringTag,{value:"Module"})),S9=Fi(_9);(function(t){var e=Ye&&Ye.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchCharacterHistoryDocument=t.FindCharactersDocument=t.FindCharacterModelsDocument=t.FindCharacterTraitsDocument=t.FindAssemblerConfigDocument=t.CreateNewUserWithProfileTransactionDocument=t.CreateUpdatePlatformDataTransactionDocument=t.CreateUpdateProfileTransactionDocument=t.CreateNewProfileTransactionDocument=t.CreateCreateProfilesTreeTransactionDocument=t.CreateModifyDelegationTransactionDocument=t.CreateCreateDelegateAuthorityTransactionDocument=t.CreateChangeProjectDriverTransactionDocument=t.CreateCreateProjectTransactionDocument=t.CreateUpdateUserTransactionDocument=t.CreateNewUserBulkTransactionDocument=t.CreateNewUserTransactionDocument=t.FindProfilesDocument=t.FindUsersDocument=t.FindDelegateAuthorityDocument=t.FindProjectsDocument=t.FindGlobalDocument=t.CreateBurnAssetsTransactionsDocument=t.CreateTransferAssetsTransactionsDocument=t.AuthConfirmDocument=t.AuthRequestDocument=t.SignWithShadowSignerAndSendBulkTransactionsDocument=t.SendBulkTransactionsDocument=t.SignWithShadowSignerAndSendTransactionBundlesDocument=t.SendTransactionBundlesDocument=t.FindAccountsDocument=t.FetchProofsDocument=t.FindCompressedAccountsDocument=t.SourceKind=t.RewardKind=t.ResourceStorageEnum=t.ResourceManagerPermissionInput=t.ResourceCustodyEnum=t.RemoveSocialsInput=t.NectarStakingPermissionInput=t.NectarMissionsPermissionInput=t.MintAsKind=t.LockTypeEnum=t.HiveControlPermissionInput=t.CivicGateway=t.CharacterSourceKind=t.CharacterManagerPermissionInput=t.BuzzGuildPermissionInput=t.BadgesCondition=t.AssetCriteriaKind=void 0,t.CreateExportFungibleResourceTransactionDocument=t.CreateImportFungibleResourceTransactionDocument=t.CreateCreateNewResourceTransactionDocument=t.FindHoldingsDocument=t.FindRecipesDocument=t.FindFaucetsDocument=t.FindResourcesBalanceDocument=t.FindResourcesDocument=t.CreateRecallCharactersTransactionDocument=t.CreateSendCharactersOnMissionTransactionDocument=t.CreateUpdateMissionTransactionDocument=t.CreateCreateMissionTransactionDocument=t.CreateUpdateMissionPoolTransactionDocument=t.CreateCreateMissionPoolTransactionDocument=t.FindMissionPoolsDocument=t.FindMissionsDocument=t.CreateUnstakeCharactersTransactionsDocument=t.CreateClaimStakingRewardsTransactionsDocument=t.CreateUnstakeSplTokensTransactionDocument=t.CreateClaimSplRewardsTransactionDocument=t.CreateStakeSplTokensTransactionDocument=t.CreateAddRemoveRewardsFromRewardPoolTransactionDocument=t.CreateSplRewardPoolTransactionDocument=t.CreateAddRemoveSplMultipliersTransactionDocument=t.CreateCreateNewSplStakingPoolTreeTransactionDocument=t.CreateUpdateSplStakingPoolTransactionDocument=t.CreateCreateSplStakingPoolTransactionDocument=t.FindSplStakingRecipientsDocument=t.FindSplStakingPoolsDocument=t.CreateStakeCharactersTransactionsDocument=t.CreateAddMultiplierTransactionDocument=t.CreateInitMultipliersTransactionDocument=t.CreateUpdateStakingPoolTransactionDocument=t.CreateCreateStakingPoolTransactionDocument=t.FindMultipliersDocument=t.FindStakersDocument=t.FindStakingPoolsDocument=t.CreateUseCharacterTransactionDocument=t.CreateDismountResourceOnCharacterTransactionDocument=t.CreateEquipResourceOnCharacterTransactionDocument=t.CreateUnwrapAssetsFromCharacterTransactionsDocument=t.CreateWrapAssetsToCharacterTransactionsDocument=t.CreatePopulateCharacterTransactionDocument=t.CreateUpdateCharacterTraitsTransactionDocument=t.CreateAssembleCharacterTransactionDocument=t.CreateCreateCharactersTreeTransactionDocument=t.CreateCreateCharacterModelTransactionDocument=t.CreateRemoveCharacterTraitsTransactionsDocument=t.CreateAddCharacterTraitsTransactionsDocument=t.CreateCreateAssemblerConfigTransactionDocument=void 0,t.CreateUpdateBadgeCriteriaTransactionDocument=t.CreateClaimBadgeCriteriaTransactionDocument=t.CreateInitializeBadgeCriteriaTransactionDocument=t.CreateInitCookingProcessTransactionsDocument=t.CreateRemoveIngredientsTransactionDocument=t.CreateAddIngredientsTransactionDocument=t.CreateInitializeRecipeTransactionDocument=t.CreateClaimFaucetTransactionDocument=t.CreateInitializeFaucetTransactionDocument=t.CreateCreateUnwrapHoldingTransactionDocument=t.CreateCreateWrapHoldingTransactionDocument=t.CreateTransferResourceTransactionDocument=t.CreateBurnResourceTransactionDocument=t.CreateMintResourceTransactionDocument=t.CreateCreateNewResourceTreeTransactionDocument=void 0,t.getSdk=C;const n=e(S9);var r;(function(E){E.Collection="Collection",E.Creator="Creator",E.MerkleTree="MerkleTree",E.Prepopulated="Prepopulated"})(r||(t.AssetCriteriaKind=r={}));var i;(function(E){E.Public="Public"})(i||(t.BadgesCondition=i={}));var s;(function(E){E.ManageGuildKit="ManageGuildKit"})(s||(t.BuzzGuildPermissionInput=s={}));var o;(function(E){E.AssignCharacterTraits="AssignCharacterTraits",E.ManageAssemblerConfig="ManageAssemblerConfig",E.ManageCharacterModels="ManageCharacterModels"})(o||(t.CharacterManagerPermissionInput=o={}));var a;(function(E){E.Assembled="Assembled",E.Wrapped="Wrapped"})(a||(t.CharacterSourceKind=a={}));var l;(function(E){E.IdVerificationPass="IdVerificationPass",E.LivenessPass="LivenessPass",E.UniquenessPass="UniquenessPass"})(l||(t.CivicGateway=l={}));var c;(function(E){E.ManageCriterias="ManageCriterias",E.ManageProjectDriver="ManageProjectDriver",E.ManageServices="ManageServices",E.UpdatePlatformData="UpdatePlatformData"})(c||(t.HiveControlPermissionInput=c={}));var u;(function(E){E.Custody="Custody",E.Freeze="Freeze"})(u||(t.LockTypeEnum=u={}));var d;(function(E){E.MplBubblegum="MplBubblegum",E.MplCore="MplCore",E.MplMetadata="MplMetadata",E.TokenExtensions="TokenExtensions"})(d||(t.MintAsKind=d={}));var f;(function(E){E.ManageMissionPool="ManageMissionPool",E.WithdrawMissionPoolRewards="WithdrawMissionPoolRewards"})(f||(t.NectarMissionsPermissionInput=f={}));var h;(function(E){E.ManageStakingPool="ManageStakingPool",E.WithdrawStakingPoolRewards="WithdrawStakingPoolRewards"})(h||(t.NectarStakingPermissionInput=h={}));var w;(function(E){E.All="All",E.Discord="Discord",E.Steam="Steam",E.Twitter="Twitter"})(w||(t.RemoveSocialsInput=w={}));var T;(function(E){E.Authority="Authority",E.Supply="Supply"})(T||(t.ResourceCustodyEnum=T={}));var A;(function(E){E.BurnResources="BurnResources",E.CreateFaucet="CreateFaucet",E.CreateRecipe="CreateRecipe",E.CreateResources="CreateResources",E.MintResources="MintResources"})(A||(t.ResourceManagerPermissionInput=A={}));var S;(function(E){E.AccountState="AccountState",E.LedgerState="LedgerState"})(S||(t.ResourceStorageEnum=S={}));var y;(function(E){E.Resource="Resource",E.Xp="Xp"})(y||(t.RewardKind=y={}));var b;(function(E){E.Assembled="Assembled",E.MplBubblegum="MplBubblegum",E.MplCoreAsset="MplCoreAsset",E.MplMetadata="MplMetadata",E.TokenExtensions="TokenExtensions"})(b||(t.SourceKind=b={})),t.FindCompressedAccountsDocument=(0,n.default)`
    query findCompressedAccounts($addresses: [Bytes!]!, $identity: DisrcriminatorFilter, $leaves: [TreeLeaf!], $parsedData: JSON) {
  compressedAccount(
    addresses: $addresses
    identity: $identity
    leaves: $leaves
    parsedData: $parsedData
  ) {
    leaf_idx
    parsed_data
    raw_data
    schema_validated
    tree_id
  }
}
    `,t.FetchProofsDocument=(0,n.default)`
    query fetchProofs($leaves: [TreeLeaf!]!) {
  proof(leaves: $leaves) {
    root
    proof
    maxDepth
    node_index
    leaf
    leaf_index
    tree_id
    canopy_depth
  }
}
    `,t.FindAccountsDocument=(0,n.default)`
    query findAccounts($programId: Bytes!, $discriminator: Bytes, $parsedData: JSON) {
  account(
    programId: $programId
    discriminator: $discriminator
    parsedData: $parsedData
  ) {
    address
    program_id
    discriminator
    parsed_data
  }
}
    `,t.SendTransactionBundlesDocument=(0,n.default)`
    query sendTransactionBundles($txs: [Bytes!]!, $blockhash: String!, $lastValidBlockHeight: Int!, $options: SendTransactionBundlesOptions) {
  sendTransactionBundles(
    txs: $txs
    blockhash: $blockhash
    lastValidBlockHeight: $lastValidBlockHeight
    options: $options
  ) @stream {
    bundleId
    responses {
      signature
      error
      status
    }
  }
}
    `,t.SignWithShadowSignerAndSendTransactionBundlesDocument=(0,n.default)`
    query signWithShadowSignerAndSendTransactionBundles($txs: [Bytes!]!, $blockhash: String!, $lastValidBlockHeight: Int!, $authToken: String!, $options: SendTransactionBundlesOptions) {
  signWithShadowSignerAndSendTransactionBundles(
    txs: $txs
    blockhash: $blockhash
    lastValidBlockHeight: $lastValidBlockHeight
    authToken: $authToken
    options: $options
  ) @stream {
    bundleId
    responses {
      signature
      error
      status
    }
  }
}
    `,t.SendBulkTransactionsDocument=(0,n.default)`
    query sendBulkTransactions($txs: [Bytes!]!, $blockhash: String!, $lastValidBlockHeight: Int!, $options: SendTransactionBundlesOptions) {
  sendBulkTransactions(
    txs: $txs
    blockhash: $blockhash
    lastValidBlockHeight: $lastValidBlockHeight
    options: $options
  ) {
    signature
    error
    status
  }
}
    `,t.SignWithShadowSignerAndSendBulkTransactionsDocument=(0,n.default)`
    query signWithShadowSignerAndSendBulkTransactions($txs: [Bytes!]!, $blockhash: String!, $lastValidBlockHeight: Int!, $options: SendTransactionBundlesOptions) {
  signWithShadowSignerAndSendBulkTransactions(
    txs: $txs
    blockhash: $blockhash
    lastValidBlockHeight: $lastValidBlockHeight
    options: $options
  ) {
    signature
    error
    status
  }
}
    `,t.AuthRequestDocument=(0,n.default)`
    query authRequest($wallet: String!, $useTx: Boolean, $useRpc: String) {
  authRequest(wallet: $wallet, useTx: $useTx, useRpc: $useRpc) {
    message
    tx
  }
}
    `,t.AuthConfirmDocument=(0,n.default)`
    query authConfirm($wallet: String!, $signature: String!) {
  authConfirm(wallet: $wallet, signature: $signature) {
    accessToken
    user {
      address
      id
      info {
        bio
        name
        pfp
      }
      wallets {
        shadow
        wallets
      }
    }
  }
}
    `,t.CreateTransferAssetsTransactionsDocument=(0,n.default)`
    query createTransferAssetsTransactions($addresses: [String!]!, $to: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createTransferAssetsTransactions(
    addresses: $addresses
    to: $to
    computeUnitPrice: $computeUnitPrice
    lutAddresses: $lutAddresses
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateBurnAssetsTransactionsDocument=(0,n.default)`
    query createBurnAssetsTransactions($addresses: [String!]!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createBurnAssetsTransactions(
    addresses: $addresses
    computeUnitPrice: $computeUnitPrice
    lutAddresses: $lutAddresses
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.FindGlobalDocument=(0,n.default)`
    query findGlobal($env: String) {
  global(env: $env) {
    address
    bump
    config
    userTrees {
      active
      merkle_trees
      schema
    }
    totalUsers
  }
}
    `,t.FindProjectsDocument=(0,n.default)`
    query findProjects($addresses: [Bytes!], $names: [String!], $authorities: [Pubkey!]) {
  project(addresses: $addresses, names: $names, authorities: $authorities) {
    associatedPrograms {
      address
      trustedActions {
        kind
      }
    }
    authority
    bump
    driver
    address
    key
    name
    profileDataConfig {
      achievements
      customDataFields
    }
    profileTrees {
      active
      merkle_trees
      schema
    }
    badgeCriteria {
      index
      condition
      endTime
      startTime
    }
    services {
      kind
      params {
        ... on ServiceParamsAssembler {
          assemblerId
        }
        ... on ServiceParamsAssetManager {
          assetManagerId
        }
        ... on ServiceParamsStaking {
          poolId
        }
        ... on ServiceParamsMissions {
          poolId
        }
        ... on ServiceParamsRaffles {
          poolId
        }
        ... on ServiceParamsGuildKit {
          kitId
        }
      }
    }
    subsidyFees
  }
}
    `,t.FindDelegateAuthorityDocument=(0,n.default)`
    query findDelegateAuthority($addresses: [Bytes!], $delegates: [Pubkey!], $projects: [Pubkey!]) {
  delegateAuthority(
    addresses: $addresses
    delegates: $delegates
    projects: $projects
  ) {
    authority
    bump
    delegations {
      kind
      index
      permission
    }
  }
}
    `,t.FindUsersDocument=(0,n.default)`
    query findUsers($addresses: [Bytes!], $ids: [Int!], $wallets: [Pubkey!], $includeProof: Boolean, $includeProjectProfiles: [Pubkey]) {
  user(
    addresses: $addresses
    ids: $ids
    wallets: $wallets
    includeProof: $includeProof
    includeProjectProfiles: $includeProjectProfiles
  ) {
    address
    id
    info {
      bio
      name
      pfp
      username
    }
    socialInfo {
      discord
      twitter
      civic {
        expiry
        gatekeeperNetwork
        walletIndex
      }
      steam
    }
    wallets {
      shadow
      wallets
    }
    profiles {
      customData
      address
      identity
      info {
        bio
        name
        pfp
      }
      platformData {
        achievements
        custom
        xp
      }
      project
      userId
      leaf_idx
      tree_id
      proof {
        leaf
        leaf_index
        node_index
        proof
        maxDepth
        root
        tree_id
        canopy_depth
      }
    }
    leaf_idx
    tree_id
    proof {
      leaf
      leaf_index
      node_index
      maxDepth
      proof
      root
      tree_id
      canopy_depth
    }
  }
}
    `,t.FindProfilesDocument=(0,n.default)`
    query findProfiles($addresses: [Bytes!], $projects: [Pubkey!], $userIds: [Int!], $identities: [String!], $includeProof: Boolean, $includeUsers: Boolean) {
  profile(
    addresses: $addresses
    projects: $projects
    userIds: $userIds
    identities: $identities
    includeProof: $includeProof
    includeUsers: $includeUsers
  ) {
    customData
    address
    identity
    info {
      bio
      name
      pfp
    }
    platformData {
      achievements
      custom
      xp
    }
    project
    userId
    leaf_idx
    tree_id
    proof {
      leaf
      leaf_index
      node_index
      proof
      maxDepth
      root
      tree_id
      canopy_depth
    }
    user {
      address
      id
      info {
        bio
        name
        pfp
        username
      }
      socialInfo {
        discord
        twitter
        civic {
          expiry
          gatekeeperNetwork
          walletIndex
        }
        steam
      }
      wallets {
        shadow
        wallets
      }
      leaf_idx
      tree_id
      proof {
        leaf
        leaf_index
        node_index
        maxDepth
        proof
        root
        tree_id
        canopy_depth
      }
    }
  }
}
    `,t.CreateNewUserTransactionDocument=(0,n.default)`
    query createNewUserTransaction($wallet: String!, $info: UserInfoInput, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createNewUserTransaction(
    wallet: $wallet
    info: $info
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateNewUserBulkTransactionDocument=(0,n.default)`
    query createNewUserBulkTransaction($wallet: [String!]!, $info: [UserInfoInput!]!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createNewUserBulkTransaction(
    wallet: $wallet
    info: $info
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateUpdateUserTransactionDocument=(0,n.default)`
    query createUpdateUserTransaction($info: PartialUserInfoInput, $wallets: UpdateWalletInput, $payer: String!, $populateCivic: Boolean, $removeSocials: [RemoveSocialsInput!], $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateUserTransaction(
    info: $info
    wallets: $wallets
    payer: $payer
    populateCivic: $populateCivic
    removeSocials: $removeSocials
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateCreateProjectTransactionDocument=(0,n.default)`
    query createCreateProjectTransaction($authority: String!, $name: String!, $driver: String, $associatedPrograms: [AssociatedProgramInput!], $profileDataConfig: ProfileDataConfigInput, $subsidizeFees: Boolean, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateProjectTransaction(
    authority: $authority
    name: $name
    driver: $driver
    associatedPrograms: $associatedPrograms
    profileDataConfig: $profileDataConfig
    subsidizeFees: $subsidizeFees
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    project
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
  }
}
    `,t.CreateChangeProjectDriverTransactionDocument=(0,n.default)`
    query createChangeProjectDriverTransaction($project: String!, $driver: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createChangeProjectDriverTransaction(
    project: $project
    driver: $driver
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateCreateDelegateAuthorityTransactionDocument=(0,n.default)`
    query createCreateDelegateAuthorityTransaction($project: String!, $delegate: String!, $serviceDelegations: ServiceDelegationInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateDelegateAuthorityTransaction(
    project: $project
    delegate: $delegate
    serviceDelegations: $serviceDelegations
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateModifyDelegationTransactionDocument=(0,n.default)`
    query createModifyDelegationTransaction($project: String!, $delegate: String!, $modifyDelegation: ModifyDelegationInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createModifyDelegationTransaction(
    project: $project
    delegate: $delegate
    modifyDelegation: $modifyDelegation
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateCreateProfilesTreeTransactionDocument=(0,n.default)`
    query createCreateProfilesTreeTransaction($treeConfig: TreeSetupConfig!, $project: String!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateProfilesTreeTransaction(
    treeConfig: $treeConfig
    project: $project
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    treeAddress
    proofBytes
    space
    cost
    maxTreeCapacity
  }
}
    `,t.CreateNewProfileTransactionDocument=(0,n.default)`
    query createNewProfileTransaction($project: String!, $identity: String, $info: ProfileInfoInput, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createNewProfileTransaction(
    project: $project
    identity: $identity
    info: $info
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateUpdateProfileTransactionDocument=(0,n.default)`
    query createUpdateProfileTransaction($profile: String!, $payer: String!, $info: ProfileInfoInput, $customData: CustomDataInput, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateProfileTransaction(
    profile: $profile
    payer: $payer
    info: $info
    customData: $customData
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateUpdatePlatformDataTransactionDocument=(0,n.default)`
    query createUpdatePlatformDataTransaction($profile: String!, $authority: String!, $payer: String, $platformData: PlatformDataInput, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdatePlatformDataTransaction(
    profile: $profile
    authority: $authority
    payer: $payer
    platformData: $platformData
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateNewUserWithProfileTransactionDocument=(0,n.default)`
    query createNewUserWithProfileTransaction($project: String!, $wallet: String!, $payer: String, $userInfo: UserInfoInput!, $profileIdentity: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createNewUserWithProfileTransaction(
    project: $project
    wallet: $wallet
    userInfo: $userInfo
    profileIdentity: $profileIdentity
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.FindAssemblerConfigDocument=(0,n.default)`
    query findAssemblerConfig($addresses: [Bytes!], $tickers: [String!], $characterModel: [Bytes!], $project: [Pubkey!]) {
  assemblerConfig(
    addresses: $addresses
    tickers: $tickers
    characterModel: $characterModel
    project: $project
  ) {
    address
    program_id
    discriminator
    ticker
    project
    order
    merkle_trees {
      active
      merkle_trees
      schema
    }
  }
}
    `,t.FindCharacterTraitsDocument=(0,n.default)`
    query findCharacterTraits($addresses: [Bytes!], $trees: [Bytes!], $includeProof: Boolean) {
  characterTrait(
    addresses: $addresses
    trees: $trees
    includeProof: $includeProof
  ) {
    address
    layer
    leaf_idx
    name
    proof {
      root
      proof
      node_index
      leaf
      maxDepth
      leaf_index
      tree_id
      canopy_depth
    }
    tree_id
    uri
  }
}
    `,t.FindCharacterModelsDocument=(0,n.default)`
    query findCharacterModels($addresses: [Bytes!], $project: Pubkey, $assemblerConfigs: [Pubkey!]) {
  characterModel(
    addresses: $addresses
    project: $project
    assemblerConfigs: $assemblerConfigs
  ) {
    address
    program_id
    discriminator
    bump
    key
    equipableCriteria
    project
    attributes
    merkle_trees {
      active
      merkle_trees
      schema
    }
    cooldown {
      ejection
    }
    config {
      ... on CharacterConfigWrapped {
        criterias {
          kind
          params
        }
        kind
      }
      ... on CharacterConfigAssembled {
        kind
        assemblerConfig
        name
        symbol
        description
        creators {
          address
          share
        }
        sellerFeeBasisPoints
        collectionName
        mintAs {
          kind
          params {
            ... on MintAsParamsMplBubblegum {
              merkleTree
            }
          }
        }
      }
    }
  }
}
    `,t.FindCharactersDocument=(0,n.default)`
    query findCharacters($includeProof: Boolean, $addresses: [Bytes!], $filters: CharactersFilter, $trees: [Bytes!], $wallets: [Pubkey!], $mints: [Pubkey!], $attributeHashes: [Pubkey!]) {
  character(
    includeProof: $includeProof
    addresses: $addresses
    filters: $filters
    trees: $trees
    wallets: $wallets
    mints: $mints
    attributeHashes: $attributeHashes
  ) {
    source {
      kind
      params {
        ... on Wrapped {
          mint
          criteria {
            kind
            params
          }
          kind
        }
        ... on Assembled {
          hash
          mint
          uri
          attributes
          assemblerConfig
        }
      }
      kind
    }
    owner
    proof {
      leaf
      leaf_index
      node_index
      maxDepth
      proof
      root
      tree_id
      canopy_depth
    }
    usedBy {
      kind
      params {
        ... on UsedByStaking {
          pool
          staker
          stakedAt
          claimedAt
        }
        ... on UsedByMission {
          missionId
          participationId
          rewards {
            delta
            rewardIdx
            collected
          }
          endTime
        }
        ... on UsedByGuild {
          id
          role {
            kind
          }
          order
        }
        ... on UsedByEjected {
          mint
        }
        ... on UsedByCustom {
          user
          data
        }
      }
    }
    equipments
    leaf_idx
    tree_id
    address
    asset
    cooldown {
      ejection
    }
  }
}
    `,t.FetchCharacterHistoryDocument=(0,n.default)`
    query fetchCharacterHistory($addresses: [Bytes!]!, $event: [String!]) {
  characterHistory(addresses: $addresses, event: $event) {
    address
    event
    event_data
    time
  }
}
    `,t.CreateCreateAssemblerConfigTransactionDocument=(0,n.default)`
    query createCreateAssemblerConfigTransaction($treeConfig: TreeSetupConfig, $ticker: String!, $order: [String!], $project: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateAssemblerConfigTransaction(
    treeConfig: $treeConfig
    ticker: $ticker
    order: $order
    project: $project
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    assemblerConfig
    treeAddress
    proofBytes
    space
    cost
    maxTreeCapacity
  }
}
    `,t.CreateAddCharacterTraitsTransactionsDocument=(0,n.default)`
    query createAddCharacterTraitsTransactions($assemblerConfig: String!, $traits: [CharacterTraitInput!]!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAddCharacterTraitsTransactions(
    assemblerConfig: $assemblerConfig
    traits: $traits
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateRemoveCharacterTraitsTransactionsDocument=(0,n.default)`
    query createRemoveCharacterTraitsTransactions($assemblerConfig: String!, $traitsAddresses: [String!]!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createRemoveCharacterTraitsTransactions(
    assemblerConfig: $assemblerConfig
    traitsAddresses: $traitsAddresses
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateCreateCharacterModelTransactionDocument=(0,n.default)`
    query createCreateCharacterModelTransaction($config: CharacterConfigInput!, $project: String!, $authority: String!, $attributes: VecMapGeneric, $mintAs: MintAsInput, $cooldown: CharacterCooldownInput, $equipableCriteria: [String!], $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateCharacterModelTransaction(
    config: $config
    project: $project
    authority: $authority
    attributes: $attributes
    mintAs: $mintAs
    cooldown: $cooldown
    equipableCriteria: $equipableCriteria
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    characterModel
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
  }
}
    `,t.CreateCreateCharactersTreeTransactionDocument=(0,n.default)`
    query createCreateCharactersTreeTransaction($treeConfig: TreeSetupConfig!, $project: String!, $characterModel: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateCharactersTreeTransaction(
    treeConfig: $treeConfig
    project: $project
    characterModel: $characterModel
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    treeAddress
    proofBytes
    space
    cost
    maxTreeCapacity
  }
}
    `,t.CreateAssembleCharacterTransactionDocument=(0,n.default)`
    query createAssembleCharacterTransaction($uri: String, $attributes: VecMapGeneric, $project: String!, $assemblerConfig: String!, $characterModel: String!, $owner: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAssembleCharacterTransaction(
    uri: $uri
    attributes: $attributes
    project: $project
    assemblerConfig: $assemblerConfig
    characterModel: $characterModel
    owner: $owner
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateUpdateCharacterTraitsTransactionDocument=(0,n.default)`
    query createUpdateCharacterTraitsTransaction($characterAddress: String!, $uri: String, $attributes: VecMapGeneric, $project: String!, $assemblerConfig: String!, $characterModel: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateCharacterTraitsTransaction(
    characterAddress: $characterAddress
    uri: $uri
    attributes: $attributes
    project: $project
    assemblerConfig: $assemblerConfig
    characterModel: $characterModel
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreatePopulateCharacterTransactionDocument=(0,n.default)`
    query createPopulateCharacterTransaction($attributes: VecMapGeneric, $project: String!, $assemblerConfig: String, $characterModel: String!, $mint: String!, $owner: String!, $updateAuthority: String!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createPopulateCharacterTransaction(
    attributes: $attributes
    project: $project
    assemblerConfig: $assemblerConfig
    characterModel: $characterModel
    mint: $mint
    owner: $owner
    updateAuthority: $updateAuthority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateWrapAssetsToCharacterTransactionsDocument=(0,n.default)`
    query createWrapAssetsToCharacterTransactions($project: String!, $characterModel: String!, $wallet: String!, $mintList: [String!]!, $libreplexDeployment: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createWrapAssetsToCharacterTransactions(
    project: $project
    characterModel: $characterModel
    wallet: $wallet
    mintList: $mintList
    libreplexDeployment: $libreplexDeployment
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateUnwrapAssetsFromCharacterTransactionsDocument=(0,n.default)`
    query createUnwrapAssetsFromCharacterTransactions($project: String!, $characterAddresses: [String!]!, $characterModel: String!, $wallet: String!, $libreplexDeployment: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUnwrapAssetsFromCharacterTransactions(
    characterAddresses: $characterAddresses
    characterModel: $characterModel
    project: $project
    wallet: $wallet
    libreplexDeployment: $libreplexDeployment
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateEquipResourceOnCharacterTransactionDocument=(0,n.default)`
    query createEquipResourceOnCharacterTransaction($characterModel: String!, $characterAddress: String!, $resource: String!, $amount: BigInt!, $owner: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createEquipResourceOnCharacterTransaction(
    characterModel: $characterModel
    characterAddress: $characterAddress
    resource: $resource
    amount: $amount
    owner: $owner
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateDismountResourceOnCharacterTransactionDocument=(0,n.default)`
    query createDismountResourceOnCharacterTransaction($characterModel: String!, $characterAddress: String!, $resource: String!, $amount: BigInt!, $owner: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createDismountResourceOnCharacterTransaction(
    characterModel: $characterModel
    characterAddress: $characterAddress
    resource: $resource
    amount: $amount
    owner: $owner
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateUseCharacterTransactionDocument=(0,n.default)`
    query createUseCharacterTransaction($data: JSON, $unUse: Boolean, $character: String!, $project: String!, $characterModel: String!, $user: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUseCharacterTransaction(
    data: $data
    unUse: $unUse
    character: $character
    project: $project
    characterModel: $characterModel
    user: $user
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.FindStakingPoolsDocument=(0,n.default)`
    query findStakingPools($addresses: [Bytes!], $projects: [Pubkey!], $names: [String!]) {
  stakingPools(addresses: $addresses, projects: $projects, names: $names) {
    allowedMints
    bump
    characterModels
    cooldownDuration
    resource
    endTime
    key
    lockType {
      kind
    }
    maxRewardsDuration
    minStakeDuration
    name
    project
    resetStakeDuration
    rewardsDuration
    rewardsPerDuration
    startTime
    totalStaked
    address
  }
}
    `,t.FindStakersDocument=(0,n.default)`
    query findStakers($addresses: [Bytes!], $stakingPools: [Pubkey!], $wallets: [Pubkey!]) {
  stakers(addresses: $addresses, stakingPools: $stakingPools, wallets: $wallets) {
    bump
    stakingPool
    totalStaked
    wallet
  }
}
    `,t.FindMultipliersDocument=(0,n.default)`
    query findMultipliers($addresses: [Bytes!], $stakingPools: [Pubkey!]) {
  multipliers(addresses: $addresses, stakingPools: $stakingPools) {
    bump
    collectionMultipliers {
      multiplierType {
        kind
        params {
          ... on MultiplierTypeParamsStakeDuration {
            minDuration
          }
          ... on MultiplierTypeParamsNFTCount {
            minCount
          }
          ... on MultiplierTypeParamsCreator {
            creator
          }
          ... on MultiplierTypeParamsCollection {
            collection
          }
        }
      }
      value
    }
    countMultipliers {
      multiplierType {
        kind
        params {
          ... on MultiplierTypeParamsStakeDuration {
            minDuration
          }
          ... on MultiplierTypeParamsNFTCount {
            minCount
          }
          ... on MultiplierTypeParamsCreator {
            creator
          }
          ... on MultiplierTypeParamsCollection {
            collection
          }
        }
      }
      value
    }
    creatorMultipliers {
      multiplierType {
        kind
        params {
          ... on MultiplierTypeParamsStakeDuration {
            minDuration
          }
          ... on MultiplierTypeParamsNFTCount {
            minCount
          }
          ... on MultiplierTypeParamsCreator {
            creator
          }
          ... on MultiplierTypeParamsCollection {
            collection
          }
        }
      }
      value
    }
    decimals
    durationMultipliers {
      multiplierType {
        kind
        params {
          ... on MultiplierTypeParamsStakeDuration {
            minDuration
          }
          ... on MultiplierTypeParamsNFTCount {
            minCount
          }
          ... on MultiplierTypeParamsCreator {
            creator
          }
          ... on MultiplierTypeParamsCollection {
            collection
          }
        }
      }
      value
    }
    address
    stakingPool
  }
}
    `,t.CreateCreateStakingPoolTransactionDocument=(0,n.default)`
    query createCreateStakingPoolTransaction($project: String!, $resource: String!, $metadata: CreateStakingPoolMetadataInput!, $authority: String!, $multiplier: InitStakingMultiplierMetadataInput, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateStakingPoolTransaction(
    project: $project
    resource: $resource
    metadata: $metadata
    authority: $authority
    multiplier: $multiplier
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions {
      transactions
      blockhash
      lastValidBlockHeight
    }
    stakingPoolAddress
    multipliersAddress
  }
}
    `,t.CreateUpdateStakingPoolTransactionDocument=(0,n.default)`
    query createUpdateStakingPoolTransaction($project: String!, $stakingPool: String!, $metadata: UpdateStakingPoolMetadataInput, $authority: String!, $characterModel: String, $resource: String, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateStakingPoolTransaction(
    project: $project
    stakingPool: $stakingPool
    metadata: $metadata
    authority: $authority
    characterModel: $characterModel
    resource: $resource
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateInitMultipliersTransactionDocument=(0,n.default)`
    query createInitMultipliersTransaction($project: String!, $stakingPool: String!, $decimals: Int!, $multipliers: [AddMultiplierMetadataInput]!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createInitMultipliersTransaction(
    project: $project
    stakingPool: $stakingPool
    decimals: $decimals
    multipliers: $multipliers
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
    multipliersAddress
  }
}
    `,t.CreateAddMultiplierTransactionDocument=(0,n.default)`
    query createAddMultiplierTransaction($project: String!, $multiplier: String!, $metadata: AddMultiplierMetadataInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAddMultiplierTransaction(
    project: $project
    multiplier: $multiplier
    metadata: $metadata
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateStakeCharactersTransactionsDocument=(0,n.default)`
    query createStakeCharactersTransactions($characterAddresses: [String!]!, $characterModel: String!, $stakingPool: String!, $project: String!, $feePayer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createStakeCharactersTransactions(
    characterAddresses: $characterAddresses
    characterModel: $characterModel
    stakingPool: $stakingPool
    project: $project
    feePayer: $feePayer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.FindSplStakingPoolsDocument=(0,n.default)`
    query findSplStakingPools($addresses: [Bytes!], $projects: [Pubkey!], $names: [String!], $stakeTokenMints: [Pubkey!]) {
  splStakingPools(
    addresses: $addresses
    projects: $projects
    names: $names
    stakeTokenMints: $stakeTokenMints
  ) {
    address
    bump
    nonce
    endTime
    maxStakeDurationSecs
    merkleTrees {
      active
      merkle_trees
      schema
    }
    minStakeDurationSecs
    multipliers {
      value
      multiplierType {
        kind
        params {
          ... on SplMultiplierTypeParamsStakeDuration {
            __typename
            minDuration
          }
          ... on SplMultiplierTypeParamsStakeAmount {
            __typename
            minAmount
          }
        }
      }
    }
    name
    project
    rewardConfig {
      kind
      params {
        ... on SplRewardConfigParamsApy {
          rewardTokenMint
          rewardVault
          rewardsDuration
          rewardsPerDuration
          totalRewardAmount
        }
        ... on SplRewardConfigParamsStakeWeight {
          __typename
          pools {
            weight
          }
        }
      }
    }
    stake_token_mint
    startTime
    totalStakedAmount
  }
}
    `,t.FindSplStakingRecipientsDocument=(0,n.default)`
    query findSplStakingRecipients($addresses: [Bytes!], $trees: [Bytes!], $stakers: [String!], $projects: [String!], $splStakingPools: [String!], $includeProof: Boolean) {
  splStakingRecipients(
    addresses: $addresses
    trees: $trees
    stakers: $stakers
    projects: $projects
    splStakingPools: $splStakingPools
    includeProof: $includeProof
  ) {
    address
    leaf_idx
    lokedTill
    multiplier
    proof {
      canopy_depth
      leaf
      leaf_index
      maxDepth
      node_index
      proof
      root
      tree_id
    }
    rewardsClaimed {
      kind
      params {
        ... on StakerClaimedParamsApy {
          __typename
          lastRewardTime
        }
        ... on StakerClaimedParamsStakeWeight {
          __typename
          amounts
        }
      }
    }
    stakeStartTime
    staker
    stakedAmount
    tree_id
  }
}
    `,t.CreateCreateSplStakingPoolTransactionDocument=(0,n.default)`
    query createCreateSplStakingPoolTransaction($project: String!, $stakeTokenMint: String!, $metadata: CreateSplStakingPoolMetadataInput!, $multipliers: [AddSplMultiplierMetadataInput!], $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateSplStakingPoolTransaction(
    project: $project
    stakeTokenMint: $stakeTokenMint
    multipliers: $multipliers
    metadata: $metadata
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    splStakingPoolAddress
  }
}
    `,t.CreateUpdateSplStakingPoolTransactionDocument=(0,n.default)`
    query createUpdateSplStakingPoolTransaction($project: String!, $splStakingPool: String!, $metadata: UpdateSplStakingPoolMetadataInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateSplStakingPoolTransaction(
    project: $project
    splStakingPool: $splStakingPool
    metadata: $metadata
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateCreateNewSplStakingPoolTreeTransactionDocument=(0,n.default)`
    query createCreateNewSplStakingPoolTreeTransaction($treeConfig: TreeSetupConfig!, $project: String!, $splStakingPool: String!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateNewSplStakingPoolTreeTransaction(
    treeConfig: $treeConfig
    project: $project
    splStakingPool: $splStakingPool
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    treeAddress
    proofBytes
    space
    cost
    maxTreeCapacity
  }
}
    `,t.CreateAddRemoveSplMultipliersTransactionDocument=(0,n.default)`
    query createAddRemoveSplMultipliersTransaction($project: String!, $splStakingPool: String!, $add: [AddSplMultiplierMetadataInput!], $remove: [Int!], $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAddRemoveSplMultipliersTransaction(
    project: $project
    splStakingPool: $splStakingPool
    add: $add
    remove: $remove
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateSplRewardPoolTransactionDocument=(0,n.default)`
    query createSplRewardPoolTransaction($project: String!, $splStakingPool: String!, $rewardTokenMint: String!, $rewardConfig: CreateSplRewardPoolArgsInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createSplRewardPoolTransaction(
    project: $project
    splStakingPool: $splStakingPool
    rewardTokenMint: $rewardTokenMint
    rewardConfig: $rewardConfig
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateAddRemoveRewardsFromRewardPoolTransactionDocument=(0,n.default)`
    query createAddRemoveRewardsFromRewardPoolTransaction($project: String!, $splStakingPool: String!, $rewardTokenMint: String!, $action: AddRemoveRewardsFromRewardPoolActionInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAddRemoveRewardsFromRewardPoolTransaction(
    project: $project
    splStakingPool: $splStakingPool
    rewardTokenMint: $rewardTokenMint
    action: $action
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateStakeSplTokensTransactionDocument=(0,n.default)`
    query createStakeSplTokensTransaction($project: String!, $splStakingPool: String!, $amount: BigInt!, $lockPeriodSecs: BigInt!, $staker: String!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createStakeSplTokensTransaction(
    project: $project
    splStakingPool: $splStakingPool
    amount: $amount
    lockPeriodSecs: $lockPeriodSecs
    staker: $staker
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateClaimSplRewardsTransactionDocument=(0,n.default)`
    query createClaimSplRewardsTransaction($project: String!, $splStakingPool: String!, $staker: String!, $stakingReciept: String!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createClaimSplRewardsTransaction(
    project: $project
    splStakingPool: $splStakingPool
    stakingReciept: $stakingReciept
    staker: $staker
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateUnstakeSplTokensTransactionDocument=(0,n.default)`
    query createUnstakeSplTokensTransaction($project: String!, $splStakingPool: String!, $staker: String!, $stakingReciept: String!, $payer: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUnstakeSplTokensTransaction(
    project: $project
    splStakingPool: $splStakingPool
    stakingReciept: $stakingReciept
    staker: $staker
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateClaimStakingRewardsTransactionsDocument=(0,n.default)`
    query createClaimStakingRewardsTransactions($characterAddresses: [String!]!, $characterModel: String!, $feePayer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createClaimStakingRewardsTransactions(
    characterAddresses: $characterAddresses
    characterModel: $characterModel
    feePayer: $feePayer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateUnstakeCharactersTransactionsDocument=(0,n.default)`
    query createUnstakeCharactersTransactions($characterAddresses: [String!]!, $characterModel: String!, $feePayer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUnstakeCharactersTransactions(
    characterAddresses: $characterAddresses
    characterModel: $characterModel
    feePayer: $feePayer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.FindMissionsDocument=(0,n.default)`
    query findMissions($addresses: [Bytes!], $missionPools: [Pubkey!]) {
  mission(addresses: $addresses, missionPools: $missionPools) {
    project
    address
    program_id
    discriminator
    bump
    missionPool
    name
    minXp
    cost {
      amount
      resource_address
    }
    requirement {
      ... on TimeRequirement {
        kind
        params {
          duration
        }
      }
    }
    rewards {
      min
      max
      rewardType {
        ... on XpRewardType {
          kind
        }
        ... on ResourceRewardType {
          kind
          params {
            address
          }
        }
      }
    }
  }
}
    `,t.FindMissionPoolsDocument=(0,n.default)`
    query findMissionPools($addresses: [Bytes!], $project: Pubkey) {
  missionPool(addresses: $addresses, project: $project) {
    address
    program_id
    discriminator
    bump
    project
    name
    factionsMerkleRoot
    randomizerRound
    characterModels
    guildKits
  }
}
    `,t.CreateCreateMissionPoolTransactionDocument=(0,n.default)`
    query createCreateMissionPoolTransaction($data: NewMissionPoolData!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateMissionPoolTransaction(
    data: $data
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
    missionPoolAddress
  }
}
    `,t.CreateUpdateMissionPoolTransactionDocument=(0,n.default)`
    query createUpdateMissionPoolTransaction($data: UpdateMissionPoolData!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateMissionPoolTransaction(
    data: $data
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
  }
}
    `,t.CreateCreateMissionTransactionDocument=(0,n.default)`
    query createCreateMissionTransaction($data: NewMissionData!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateMissionTransaction(
    data: $data
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
    missionAddress
  }
}
    `,t.CreateUpdateMissionTransactionDocument=(0,n.default)`
    query createUpdateMissionTransaction($missionAddress: String!, $authority: String!, $params: UpdateMissionInput!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateMissionTransaction(
    missionAddress: $missionAddress
    authority: $authority
    params: $params
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateSendCharactersOnMissionTransactionDocument=(0,n.default)`
    query createSendCharactersOnMissionTransaction($data: ParticipateOnMissionData!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createSendCharactersOnMissionTransaction(
    data: $data
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateRecallCharactersTransactionDocument=(0,n.default)`
    query createRecallCharactersTransaction($data: RecallFromMissionData!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createRecallCharactersTransaction(
    data: $data
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions
    blockhash
    lastValidBlockHeight
  }
}
    `,t.FindResourcesDocument=(0,n.default)`
    query findResources($addresses: [Bytes!], $projects: [Pubkey!], $mints: [Pubkey!]) {
  resources(addresses: $addresses, projects: $projects, mints: $mints) {
    address
    bump
    kind {
      kind
      params {
        ... on ResourceKindParamsHplFungible {
          __typename
          decimals
        }
        ... on ResourceKindParamsWrappedFungible {
          __typename
          decimals
          custody {
            kind
            params {
              burnerDestination
            }
          }
        }
        ... on ResourceKindParamsHplNonFungible {
          __typename
          characteristics
        }
        ... on ResourceKindParamsWrappedMplCore {
          __typename
          characteristics
        }
      }
    }
    mint
    project
    tags
    storage {
      params {
        promiseSupply
        merkle_trees {
          active
          merkle_trees
          schema
        }
      }
      kind
    }
  }
}
    `,t.FindResourcesBalanceDocument=(0,n.default)`
    query findResourcesBalance($addresses: [String!], $projects: [String!], $mints: [String!], $wallets: [String!]!) {
  resourcesBalance(
    projects: $projects
    wallets: $wallets
    mints: $mints
    addresses: $addresses
  ) {
    address
    amount
    mint
    wallet
    resourceStorage
  }
}
    `,t.FindFaucetsDocument=(0,n.default)`
    query findFaucets($addresses: [Bytes!], $projects: [Pubkey!], $resources: [Pubkey!]) {
  faucets(addresses: $addresses, projects: $projects, resources: $resources) {
    resource
    repeatInterval
    project
    amount
    lastClaimed
    address
  }
}
    `,t.FindRecipesDocument=(0,n.default)`
    query findRecipes($addresses: [Bytes!], $projects: [Pubkey!]) {
  recipes(addresses: $addresses, projects: $projects) {
    address
    bump
    ingredients {
      amount
      resourceAddress
    }
    key
    meal {
      amount
      resourceAddress
    }
    project
    xp
  }
}
    `,t.FindHoldingsDocument=(0,n.default)`
    query findHoldings($addresses: [Bytes!], $holders: [Pubkey], $trees: [Bytes!], $includeProof: Boolean) {
  holdings(
    addresses: $addresses
    holders: $holders
    trees: $trees
    includeProof: $includeProof
  ) {
    address
    balance
    characteristics
    holder
    leaf_idx
    tree_id
    proof {
      canopy_depth
      leaf
      leaf_index
      maxDepth
      node_index
      proof
      root
      tree_id
    }
  }
}
    `,t.CreateCreateNewResourceTransactionDocument=(0,n.default)`
    query createCreateNewResourceTransaction($project: String!, $authority: String!, $params: InitResourceInput!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateNewResourceTransaction(
    project: $project
    authority: $authority
    params: $params
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
    resource
  }
}
    `,t.CreateImportFungibleResourceTransactionDocument=(0,n.default)`
    query createImportFungibleResourceTransaction($params: ImportResourceInput!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createImportFungibleResourceTransaction(
    params: $params
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    resource
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
  }
}
    `,t.CreateExportFungibleResourceTransactionDocument=(0,n.default)`
    query createExportFungibleResourceTransaction($resource: String!, $authority: String!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createExportFungibleResourceTransaction(
    resource: $resource
    authority: $authority
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    blockhash
    lastValidBlockHeight
    transaction
  }
}
    `,t.CreateCreateNewResourceTreeTransactionDocument=(0,n.default)`
    query createCreateNewResourceTreeTransaction($project: String!, $resource: String!, $authority: String!, $treeConfig: TreeSetupConfig!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateNewResourceTreeTransaction(
    project: $project
    resource: $resource
    authority: $authority
    treeConfig: $treeConfig
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      blockhash
      lastValidBlockHeight
      transaction
    }
    treeAddress
    proofBytes
    space
    cost
    maxTreeCapacity
  }
}
    `,t.CreateMintResourceTransactionDocument=(0,n.default)`
    query createMintResourceTransaction($resource: String!, $owner: String!, $authority: String!, $amount: BigInt!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createMintResourceTransaction(
    resource: $resource
    owner: $owner
    authority: $authority
    amount: $amount
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateBurnResourceTransactionDocument=(0,n.default)`
    query createBurnResourceTransaction($resource: String!, $amount: BigInt!, $authority: String!, $owner: String, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createBurnResourceTransaction(
    resource: $resource
    amount: $amount
    authority: $authority
    owner: $owner
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateTransferResourceTransactionDocument=(0,n.default)`
    query createTransferResourceTransaction($resource: String!, $owner: String!, $recipient: String!, $amount: BigInt!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createTransferResourceTransaction(
    resource: $resource
    owner: $owner
    recipient: $recipient
    amount: $amount
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateCreateWrapHoldingTransactionDocument=(0,n.default)`
    query createCreateWrapHoldingTransaction($resource: String!, $amount: BigInt!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateWrapHoldingTransaction(
    resource: $resource
    amount: $amount
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateCreateUnwrapHoldingTransactionDocument=(0,n.default)`
    query createCreateUnwrapHoldingTransaction($resource: String!, $amount: BigInt!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createCreateUnwrapHoldingTransaction(
    resource: $resource
    amount: $amount
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateInitializeFaucetTransactionDocument=(0,n.default)`
    query createInitializeFaucetTransaction($resource: String!, $amount: Int!, $repeatInterval: Int!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createInitializeFaucetTransaction(
    resource: $resource
    amount: $amount
    repeatInterval: $repeatInterval
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    tx {
      transaction
      blockhash
      lastValidBlockHeight
    }
    faucet
  }
}
    `,t.CreateClaimFaucetTransactionDocument=(0,n.default)`
    query createClaimFaucetTransaction($faucet: String!, $owner: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createClaimFaucetTransaction(
    faucet: $faucet
    owner: $owner
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateInitializeRecipeTransactionDocument=(0,n.default)`
    query createInitializeRecipeTransaction($project: String!, $xp: BigInt!, $ingredients: [IngredientsInput!]!, $meal: MealInput!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createInitializeRecipeTransaction(
    project: $project
    xp: $xp
    ingredients: $ingredients
    meal: $meal
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    recipe
    transactions {
      transactions
      blockhash
      lastValidBlockHeight
    }
  }
}
    `,t.CreateAddIngredientsTransactionDocument=(0,n.default)`
    query createAddIngredientsTransaction($recipe: String!, $ingredients: [IngredientsInput!]!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createAddIngredientsTransaction(
    recipe: $recipe
    ingredients: $ingredients
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateRemoveIngredientsTransactionDocument=(0,n.default)`
    query createRemoveIngredientsTransaction($recipe: String!, $ingredients: [String!]!, $authority: String!, $payer: String, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createRemoveIngredientsTransaction(
    recipe: $recipe
    ingredients: $ingredients
    authority: $authority
    payer: $payer
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transactions
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateInitCookingProcessTransactionsDocument=(0,n.default)`
    query createInitCookingProcessTransactions($recipe: String!, $authority: String!, $payer: String, $computeUnitPrice: Int, $lutAddresses: [String!]) {
  createInitCookingProcessTransactions(
    authority: $authority
    recipe: $recipe
    payer: $payer
    computeUnitPrice: $computeUnitPrice
    lutAddresses: $lutAddresses
  ) {
    blockhash
    lastValidBlockHeight
    transactions
  }
}
    `,t.CreateInitializeBadgeCriteriaTransactionDocument=(0,n.default)`
    query createInitializeBadgeCriteriaTransaction($args: CreateBadgeCriteriaInput!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createInitializeBadgeCriteriaTransaction(
    args: $args
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateClaimBadgeCriteriaTransactionDocument=(0,n.default)`
    query createClaimBadgeCriteriaTransaction($args: ClaimBadgeCriteriaInput!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createClaimBadgeCriteriaTransaction(
    args: $args
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `,t.CreateUpdateBadgeCriteriaTransactionDocument=(0,n.default)`
    query createUpdateBadgeCriteriaTransaction($args: UpdateBadgeCriteriaInput!, $lutAddresses: [String!], $computeUnitPrice: Int) {
  createUpdateBadgeCriteriaTransaction(
    args: $args
    lutAddresses: $lutAddresses
    computeUnitPrice: $computeUnitPrice
  ) {
    transaction
    blockhash
    lastValidBlockHeight
  }
}
    `;function C(E){return{findCompressedAccounts(I,k){return E(t.FindCompressedAccountsDocument,I,k)},fetchProofs(I,k){return E(t.FetchProofsDocument,I,k)},findAccounts(I,k){return E(t.FindAccountsDocument,I,k)},sendTransactionBundles(I,k){return E(t.SendTransactionBundlesDocument,I,k)},signWithShadowSignerAndSendTransactionBundles(I,k){return E(t.SignWithShadowSignerAndSendTransactionBundlesDocument,I,k)},sendBulkTransactions(I,k){return E(t.SendBulkTransactionsDocument,I,k)},signWithShadowSignerAndSendBulkTransactions(I,k){return E(t.SignWithShadowSignerAndSendBulkTransactionsDocument,I,k)},authRequest(I,k){return E(t.AuthRequestDocument,I,k)},authConfirm(I,k){return E(t.AuthConfirmDocument,I,k)},createTransferAssetsTransactions(I,k){return E(t.CreateTransferAssetsTransactionsDocument,I,k)},createBurnAssetsTransactions(I,k){return E(t.CreateBurnAssetsTransactionsDocument,I,k)},findGlobal(I,k){return E(t.FindGlobalDocument,I,k)},findProjects(I,k){return E(t.FindProjectsDocument,I,k)},findDelegateAuthority(I,k){return E(t.FindDelegateAuthorityDocument,I,k)},findUsers(I,k){return E(t.FindUsersDocument,I,k)},findProfiles(I,k){return E(t.FindProfilesDocument,I,k)},createNewUserTransaction(I,k){return E(t.CreateNewUserTransactionDocument,I,k)},createNewUserBulkTransaction(I,k){return E(t.CreateNewUserBulkTransactionDocument,I,k)},createUpdateUserTransaction(I,k){return E(t.CreateUpdateUserTransactionDocument,I,k)},createCreateProjectTransaction(I,k){return E(t.CreateCreateProjectTransactionDocument,I,k)},createChangeProjectDriverTransaction(I,k){return E(t.CreateChangeProjectDriverTransactionDocument,I,k)},createCreateDelegateAuthorityTransaction(I,k){return E(t.CreateCreateDelegateAuthorityTransactionDocument,I,k)},createModifyDelegationTransaction(I,k){return E(t.CreateModifyDelegationTransactionDocument,I,k)},createCreateProfilesTreeTransaction(I,k){return E(t.CreateCreateProfilesTreeTransactionDocument,I,k)},createNewProfileTransaction(I,k){return E(t.CreateNewProfileTransactionDocument,I,k)},createUpdateProfileTransaction(I,k){return E(t.CreateUpdateProfileTransactionDocument,I,k)},createUpdatePlatformDataTransaction(I,k){return E(t.CreateUpdatePlatformDataTransactionDocument,I,k)},createNewUserWithProfileTransaction(I,k){return E(t.CreateNewUserWithProfileTransactionDocument,I,k)},findAssemblerConfig(I,k){return E(t.FindAssemblerConfigDocument,I,k)},findCharacterTraits(I,k){return E(t.FindCharacterTraitsDocument,I,k)},findCharacterModels(I,k){return E(t.FindCharacterModelsDocument,I,k)},findCharacters(I,k){return E(t.FindCharactersDocument,I,k)},fetchCharacterHistory(I,k){return E(t.FetchCharacterHistoryDocument,I,k)},createCreateAssemblerConfigTransaction(I,k){return E(t.CreateCreateAssemblerConfigTransactionDocument,I,k)},createAddCharacterTraitsTransactions(I,k){return E(t.CreateAddCharacterTraitsTransactionsDocument,I,k)},createRemoveCharacterTraitsTransactions(I,k){return E(t.CreateRemoveCharacterTraitsTransactionsDocument,I,k)},createCreateCharacterModelTransaction(I,k){return E(t.CreateCreateCharacterModelTransactionDocument,I,k)},createCreateCharactersTreeTransaction(I,k){return E(t.CreateCreateCharactersTreeTransactionDocument,I,k)},createAssembleCharacterTransaction(I,k){return E(t.CreateAssembleCharacterTransactionDocument,I,k)},createUpdateCharacterTraitsTransaction(I,k){return E(t.CreateUpdateCharacterTraitsTransactionDocument,I,k)},createPopulateCharacterTransaction(I,k){return E(t.CreatePopulateCharacterTransactionDocument,I,k)},createWrapAssetsToCharacterTransactions(I,k){return E(t.CreateWrapAssetsToCharacterTransactionsDocument,I,k)},createUnwrapAssetsFromCharacterTransactions(I,k){return E(t.CreateUnwrapAssetsFromCharacterTransactionsDocument,I,k)},createEquipResourceOnCharacterTransaction(I,k){return E(t.CreateEquipResourceOnCharacterTransactionDocument,I,k)},createDismountResourceOnCharacterTransaction(I,k){return E(t.CreateDismountResourceOnCharacterTransactionDocument,I,k)},createUseCharacterTransaction(I,k){return E(t.CreateUseCharacterTransactionDocument,I,k)},findStakingPools(I,k){return E(t.FindStakingPoolsDocument,I,k)},findStakers(I,k){return E(t.FindStakersDocument,I,k)},findMultipliers(I,k){return E(t.FindMultipliersDocument,I,k)},createCreateStakingPoolTransaction(I,k){return E(t.CreateCreateStakingPoolTransactionDocument,I,k)},createUpdateStakingPoolTransaction(I,k){return E(t.CreateUpdateStakingPoolTransactionDocument,I,k)},createInitMultipliersTransaction(I,k){return E(t.CreateInitMultipliersTransactionDocument,I,k)},createAddMultiplierTransaction(I,k){return E(t.CreateAddMultiplierTransactionDocument,I,k)},createStakeCharactersTransactions(I,k){return E(t.CreateStakeCharactersTransactionsDocument,I,k)},findSplStakingPools(I,k){return E(t.FindSplStakingPoolsDocument,I,k)},findSplStakingRecipients(I,k){return E(t.FindSplStakingRecipientsDocument,I,k)},createCreateSplStakingPoolTransaction(I,k){return E(t.CreateCreateSplStakingPoolTransactionDocument,I,k)},createUpdateSplStakingPoolTransaction(I,k){return E(t.CreateUpdateSplStakingPoolTransactionDocument,I,k)},createCreateNewSplStakingPoolTreeTransaction(I,k){return E(t.CreateCreateNewSplStakingPoolTreeTransactionDocument,I,k)},createAddRemoveSplMultipliersTransaction(I,k){return E(t.CreateAddRemoveSplMultipliersTransactionDocument,I,k)},createSplRewardPoolTransaction(I,k){return E(t.CreateSplRewardPoolTransactionDocument,I,k)},createAddRemoveRewardsFromRewardPoolTransaction(I,k){return E(t.CreateAddRemoveRewardsFromRewardPoolTransactionDocument,I,k)},createStakeSplTokensTransaction(I,k){return E(t.CreateStakeSplTokensTransactionDocument,I,k)},createClaimSplRewardsTransaction(I,k){return E(t.CreateClaimSplRewardsTransactionDocument,I,k)},createUnstakeSplTokensTransaction(I,k){return E(t.CreateUnstakeSplTokensTransactionDocument,I,k)},createClaimStakingRewardsTransactions(I,k){return E(t.CreateClaimStakingRewardsTransactionsDocument,I,k)},createUnstakeCharactersTransactions(I,k){return E(t.CreateUnstakeCharactersTransactionsDocument,I,k)},findMissions(I,k){return E(t.FindMissionsDocument,I,k)},findMissionPools(I,k){return E(t.FindMissionPoolsDocument,I,k)},createCreateMissionPoolTransaction(I,k){return E(t.CreateCreateMissionPoolTransactionDocument,I,k)},createUpdateMissionPoolTransaction(I,k){return E(t.CreateUpdateMissionPoolTransactionDocument,I,k)},createCreateMissionTransaction(I,k){return E(t.CreateCreateMissionTransactionDocument,I,k)},createUpdateMissionTransaction(I,k){return E(t.CreateUpdateMissionTransactionDocument,I,k)},createSendCharactersOnMissionTransaction(I,k){return E(t.CreateSendCharactersOnMissionTransactionDocument,I,k)},createRecallCharactersTransaction(I,k){return E(t.CreateRecallCharactersTransactionDocument,I,k)},findResources(I,k){return E(t.FindResourcesDocument,I,k)},findResourcesBalance(I,k){return E(t.FindResourcesBalanceDocument,I,k)},findFaucets(I,k){return E(t.FindFaucetsDocument,I,k)},findRecipes(I,k){return E(t.FindRecipesDocument,I,k)},findHoldings(I,k){return E(t.FindHoldingsDocument,I,k)},createCreateNewResourceTransaction(I,k){return E(t.CreateCreateNewResourceTransactionDocument,I,k)},createImportFungibleResourceTransaction(I,k){return E(t.CreateImportFungibleResourceTransactionDocument,I,k)},createExportFungibleResourceTransaction(I,k){return E(t.CreateExportFungibleResourceTransactionDocument,I,k)},createCreateNewResourceTreeTransaction(I,k){return E(t.CreateCreateNewResourceTreeTransactionDocument,I,k)},createMintResourceTransaction(I,k){return E(t.CreateMintResourceTransactionDocument,I,k)},createBurnResourceTransaction(I,k){return E(t.CreateBurnResourceTransactionDocument,I,k)},createTransferResourceTransaction(I,k){return E(t.CreateTransferResourceTransactionDocument,I,k)},createCreateWrapHoldingTransaction(I,k){return E(t.CreateCreateWrapHoldingTransactionDocument,I,k)},createCreateUnwrapHoldingTransaction(I,k){return E(t.CreateCreateUnwrapHoldingTransactionDocument,I,k)},createInitializeFaucetTransaction(I,k){return E(t.CreateInitializeFaucetTransactionDocument,I,k)},createClaimFaucetTransaction(I,k){return E(t.CreateClaimFaucetTransactionDocument,I,k)},createInitializeRecipeTransaction(I,k){return E(t.CreateInitializeRecipeTransactionDocument,I,k)},createAddIngredientsTransaction(I,k){return E(t.CreateAddIngredientsTransactionDocument,I,k)},createRemoveIngredientsTransaction(I,k){return E(t.CreateRemoveIngredientsTransactionDocument,I,k)},createInitCookingProcessTransactions(I,k){return E(t.CreateInitCookingProcessTransactionsDocument,I,k)},createInitializeBadgeCriteriaTransaction(I,k){return E(t.CreateInitializeBadgeCriteriaTransactionDocument,I,k)},createClaimBadgeCriteriaTransaction(I,k){return E(t.CreateClaimBadgeCriteriaTransactionDocument,I,k)},createUpdateBadgeCriteriaTransaction(I,k){return E(t.CreateUpdateBadgeCriteriaTransactionDocument,I,k)}}}})(ny);var Kt={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});class n2 extends Error{constructor(e,n,r,i,s,o,a){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),n&&(this.nodes=Array.isArray(n)?n:[n]),r&&(this.source=r),i&&(this.positions=i),o&&(this.originalError=o);var l=a;if(!l&&o){var c=o.extensions;c&&typeof c=="object"&&(l=c)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var ve,ie;function Vr(t){return new n2(`Syntax Error: Unexpected token at ${ie} in ${t}`)}function yk(t){if(t.lastIndex=ie,t.test(ve))return ve.slice(ie,ie=t.lastIndex)}var Oh=/ +(?=[^\s])/y;function b9(t){for(var e=t.split(`
`),n="",r=0,i=0,s=e.length-1,o=0;o<e.length;o++)Oh.lastIndex=0,Oh.test(e[o])&&(o&&(!r||Oh.lastIndex<r)&&(r=Oh.lastIndex),i=i||o,s=o);for(var a=i;a<=s;a++)a!==i&&(n+=`
`),n+=e[a].slice(r).replace(/\\"""/g,'"""');return n}function qe(){for(var t=0|ve.charCodeAt(ie++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|ve.charCodeAt(ie++))if(t===35)for(;(t=ve.charCodeAt(ie++))!==10&&t!==13;);ie--}function $E(){for(var t=ie,e=0|ve.charCodeAt(ie++);e>=48&&e<=57||e>=65&&e<=90||e===95||e>=97&&e<=122;e=0|ve.charCodeAt(ie++));if(t===ie-1)throw Vr("Name");var n=ve.slice(t,--ie);return qe(),n}function Hr(){return{kind:"Name",value:$E()}}var E9=/(?:"""|(?:[\s\S]*?[^\\])""")/y,T9=/(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;function yf(t){var e;switch(ve.charCodeAt(ie)){case 91:ie++,qe();for(var n=[];ve.charCodeAt(ie)!==93;)n.push(yf(t));return ie++,qe(),{kind:"ListValue",values:n};case 123:ie++,qe();for(var r=[];ve.charCodeAt(ie)!==125;){var i=Hr();if(ve.charCodeAt(ie++)!==58)throw Vr("ObjectField");qe(),r.push({kind:"ObjectField",name:i,value:yf(t)})}return ie++,qe(),{kind:"ObjectValue",fields:r};case 36:if(t)throw Vr("Variable");return ie++,{kind:"Variable",name:Hr()};case 34:if(ve.charCodeAt(ie+1)===34&&ve.charCodeAt(ie+2)===34){if(ie+=3,(e=yk(E9))==null)throw Vr("StringValue");return qe(),{kind:"StringValue",value:b9(e.slice(0,-3)),block:!0}}else{var s=ie,o;ie++;var a=!1;for(o=0|ve.charCodeAt(ie++);o===92&&(ie++,a=!0)||o!==10&&o!==13&&o!==34&&o;o=0|ve.charCodeAt(ie++));if(o!==34)throw Vr("StringValue");return e=ve.slice(s,ie),qe(),{kind:"StringValue",value:a?JSON.parse(e):e.slice(1,-1),block:!1}}case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var l=ie++,c;(c=0|ve.charCodeAt(ie++))>=48&&c<=57;);var u=ve.slice(l,--ie);if((c=ve.charCodeAt(ie))===46||c===69||c===101){if((e=yk(T9))==null)throw Vr("FloatValue");return qe(),{kind:"FloatValue",value:u+e}}else return qe(),{kind:"IntValue",value:u};case 110:if(ve.charCodeAt(ie+1)===117&&ve.charCodeAt(ie+2)===108&&ve.charCodeAt(ie+3)===108)return ie+=4,qe(),{kind:"NullValue"};break;case 116:if(ve.charCodeAt(ie+1)===114&&ve.charCodeAt(ie+2)===117&&ve.charCodeAt(ie+3)===101)return ie+=4,qe(),{kind:"BooleanValue",value:!0};break;case 102:if(ve.charCodeAt(ie+1)===97&&ve.charCodeAt(ie+2)===108&&ve.charCodeAt(ie+3)===115&&ve.charCodeAt(ie+4)===101)return ie+=5,qe(),{kind:"BooleanValue",value:!1};break}return{kind:"EnumValue",value:$E()}}function r2(t){if(ve.charCodeAt(ie)===40){var e=[];ie++,qe();do{var n=Hr();if(ve.charCodeAt(ie++)!==58)throw Vr("Argument");qe(),e.push({kind:"Argument",name:n,value:yf(t)})}while(ve.charCodeAt(ie)!==41);return ie++,qe(),e}}function Fo(t){if(ve.charCodeAt(ie)===64){var e=[];do ie++,e.push({kind:"Directive",name:Hr(),arguments:r2(t)});while(ve.charCodeAt(ie)===64);return e}}function i2(){for(var t=0;ve.charCodeAt(ie)===91;)t++,ie++,qe();var e={kind:"NamedType",name:Hr()};do if(ve.charCodeAt(ie)===33&&(ie++,qe(),e={kind:"NonNullType",type:e}),t){if(ve.charCodeAt(ie++)!==93)throw Vr("NamedType");qe(),e={kind:"ListType",type:e}}while(t--);return e}function Bm(){if(ve.charCodeAt(ie++)!==123)throw Vr("SelectionSet");return qe(),Um()}function Um(){var t=[];do if(ve.charCodeAt(ie)===46){if(ve.charCodeAt(++ie)!==46||ve.charCodeAt(++ie)!==46)throw Vr("SelectionSet");switch(ie++,qe(),ve.charCodeAt(ie)){case 64:t.push({kind:"InlineFragment",typeCondition:void 0,directives:Fo(!1),selectionSet:Bm()});break;case 111:ve.charCodeAt(ie+1)===110?(ie+=2,qe(),t.push({kind:"InlineFragment",typeCondition:{kind:"NamedType",name:Hr()},directives:Fo(!1),selectionSet:Bm()})):t.push({kind:"FragmentSpread",name:Hr(),directives:Fo(!1)});break;case 123:ie++,qe(),t.push({kind:"InlineFragment",typeCondition:void 0,directives:void 0,selectionSet:Um()});break;default:t.push({kind:"FragmentSpread",name:Hr(),directives:Fo(!1)})}}else{var e=Hr(),n=void 0;ve.charCodeAt(ie)===58&&(ie++,qe(),n=e,e=Hr());var r=r2(!1),i=Fo(!1),s=void 0;ve.charCodeAt(ie)===123&&(ie++,qe(),s=Um()),t.push({kind:"Field",alias:n,name:e,arguments:r,directives:i,selectionSet:s})}while(ve.charCodeAt(ie)!==125);return ie++,qe(),{kind:"SelectionSet",selections:t}}function I9(){if(qe(),ve.charCodeAt(ie)===40){var t=[];ie++,qe();do{if(ve.charCodeAt(ie++)!==36)throw Vr("Variable");var e=Hr();if(ve.charCodeAt(ie++)!==58)throw Vr("VariableDefinition");qe();var n=i2(),r=void 0;ve.charCodeAt(ie)===61&&(ie++,qe(),r=yf(!0)),qe(),t.push({kind:"VariableDefinition",variable:{kind:"Variable",name:e},type:n,defaultValue:r,directives:Fo(!0)})}while(ve.charCodeAt(ie)!==41);return ie++,qe(),t}}function k9(){var t=Hr();if(ve.charCodeAt(ie++)!==111||ve.charCodeAt(ie++)!==110)throw Vr("FragmentDefinition");return qe(),{kind:"FragmentDefinition",name:t,typeCondition:{kind:"NamedType",name:Hr()},directives:Fo(!1),selectionSet:Bm()}}function wk(){var t=[];do if(ve.charCodeAt(ie)===123)ie++,qe(),t.push({kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:void 0,directives:void 0,selectionSet:Um()});else{var e=$E();switch(e){case"fragment":t.push(k9());break;case"query":case"mutation":case"subscription":var n,r=void 0;(n=ve.charCodeAt(ie))!==40&&n!==64&&n!==123&&(r=Hr()),t.push({kind:"OperationDefinition",operation:e,name:r,variableDefinitions:I9(),directives:Fo(!1),selectionSet:Bm()});break;default:throw Vr("Document")}}while(ie<ve.length);return t}var Bl={};function Lr(t,e,n){for(var r="",i=0;i<t.length;i++)i&&(r+=e),r+=n(t[i]);return r}function s2(t){return JSON.stringify(t)}function o2(t){return`"""
`+t.replace(/"""/g,'\\"""')+`
"""`}var ms=`
`,Nn={OperationDefinition(t){var e=t.operation;return t.name&&(e+=" "+t.name.value),t.variableDefinitions&&t.variableDefinitions.length&&(t.name||(e+=" "),e+="("+Lr(t.variableDefinitions,", ",Nn.VariableDefinition)+")"),t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),e!=="query"?e+" "+Nn.SelectionSet(t.selectionSet):Nn.SelectionSet(t.selectionSet)},VariableDefinition(t){var e=Nn.Variable(t.variable)+": "+Gs(t.type);return t.defaultValue&&(e+=" = "+Gs(t.defaultValue)),t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),e},Field(t){var e=t.alias?t.alias.value+": "+t.name.value:t.name.value;if(t.arguments&&t.arguments.length){var n=Lr(t.arguments,", ",Nn.Argument);e.length+n.length+2>80?e+="("+(ms+="  ")+Lr(t.arguments,ms,Nn.Argument)+(ms=ms.slice(0,-2))+")":e+="("+n+")"}return t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),t.selectionSet&&t.selectionSet.selections.length&&(e+=" "+Nn.SelectionSet(t.selectionSet)),e},StringValue(t){return t.block?o2(t.value).replace(/\n/g,ms):s2(t.value)},BooleanValue:t=>""+t.value,NullValue:t=>"null",IntValue:t=>t.value,FloatValue:t=>t.value,EnumValue:t=>t.value,Name:t=>t.value,Variable:t=>"$"+t.name.value,ListValue:t=>"["+Lr(t.values,", ",Gs)+"]",ObjectValue:t=>"{"+Lr(t.fields,", ",Nn.ObjectField)+"}",ObjectField:t=>t.name.value+": "+Gs(t.value),Document(t){return!t.definitions||!t.definitions.length?"":Lr(t.definitions,`

`,Gs)},SelectionSet:t=>"{"+(ms+="  ")+Lr(t.selections,ms,Gs)+(ms=ms.slice(0,-2))+"}",Argument:t=>t.name.value+": "+Gs(t.value),FragmentSpread(t){var e="..."+t.name.value;return t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),e},InlineFragment(t){var e="...";return t.typeCondition&&(e+=" on "+t.typeCondition.name.value),t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),e+=" "+Nn.SelectionSet(t.selectionSet)},FragmentDefinition(t){var e="fragment "+t.name.value;return e+=" on "+t.typeCondition.name.value,t.directives&&t.directives.length&&(e+=" "+Lr(t.directives," ",Nn.Directive)),e+" "+Nn.SelectionSet(t.selectionSet)},Directive(t){var e="@"+t.name.value;return t.arguments&&t.arguments.length&&(e+="("+Lr(t.arguments,", ",Nn.Argument)+")"),e},NamedType:t=>t.name.value,ListType:t=>"["+Gs(t.type)+"]",NonNullType:t=>Gs(t.type)+"!"},Gs=t=>Nn[t.kind](t);function Rd(t,e){switch(t.kind){case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"StringValue":case"EnumValue":case"BooleanValue":return t.value;case"ListValue":for(var n=[],r=0,i=t.values.length;r<i;r++)n.push(Rd(t.values[r],e));return n;case"ObjectValue":for(var s=Object.create(null),o=0,a=t.fields.length;o<a;o++){var l=t.fields[o];s[l.name.value]=Rd(l.value,e)}return s;case"Variable":return e&&e[t.name.value]}}Wn.BREAK=Bl,Wn.GraphQLError=n2,Wn.Kind={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"},Wn.OperationTypeNode={QUERY:"query",MUTATION:"mutation",SUBSCRIPTION:"subscription"},Wn.Source=function(e,n,r){return{body:e,name:n,locationOffset:r||{line:1,column:1}}},Wn.isSelectionNode=function(e){return e.kind==="Field"||e.kind==="FragmentSpread"||e.kind==="InlineFragment"},Wn.parse=function(e,n){return ve=e.body?e.body:e,ie=0,qe(),n&&n.noLocation?{kind:"Document",definitions:wk()}:{kind:"Document",definitions:wk(),loc:{start:0,end:ve.length,startToken:void 0,endToken:void 0,source:{body:ve,name:"graphql.web",locationOffset:{line:1,column:1}}}}},Wn.parseType=function(e,n){return ve=e.body?e.body:e,ie=0,i2()},Wn.parseValue=function(e,n){return ve=e.body?e.body:e,ie=0,qe(),yf(!1)},Wn.print=function(e){return ms=`
`,Nn[e.kind]?Nn[e.kind](e):""},Wn.printBlockString=o2,Wn.printString=s2,Wn.valueFromASTUntyped=Rd,Wn.valueFromTypeNode=function t(e,n,r){if(e.kind==="Variable")return r?t(r[e.name.value],n,r):void 0;if(n.kind==="NonNullType")return e.kind!=="NullValue"?t(e,n,r):void 0;if(e.kind==="NullValue")return null;if(n.kind==="ListType"){if(e.kind==="ListValue"){for(var i=[],s=0,o=e.values.length;s<o;s++){var a=t(e.values[s],n.type,r);if(a===void 0)return;i.push(a)}return i}}else if(n.kind==="NamedType")switch(n.name.value){case"Int":case"Float":case"String":case"Bool":return n.name.value+"Value"===e.kind?Rd(e,r):void 0;default:return Rd(e,r)}},Wn.visit=function(e,n){var r=[],i=[];try{var s=function o(a,l,c){var u=!1,d=n[a.kind]&&n[a.kind].enter||n[a.kind]||n.enter,f=d&&d.call(n,a,l,c,i,r);if(f===!1)return a;if(f===null)return null;if(f===Bl)throw Bl;f&&typeof f.kind=="string"&&(u=f!==a,a=f),c&&r.push(c);var h,w={...a};for(var T in a){i.push(T);var A=a[T];if(Array.isArray(A)){for(var S=[],y=0;y<A.length;y++)A[y]!=null&&typeof A[y].kind=="string"&&(r.push(a),i.push(y),h=o(A[y],y,A),i.pop(),r.pop(),h==null?u=!0:(u=u||h!==A[y],S.push(h)));A=S}else A!=null&&typeof A.kind=="string"&&(h=o(A,T,a))!==void 0&&(u=u||A!==h,A=h);i.pop(),u&&(w[T]=A)}c&&r.pop();var b=n[a.kind]&&n[a.kind].leave||n.leave,C=b&&b.call(n,a,l,c,i,r);if(C===Bl)throw Bl;return C!==void 0?C:f!==void 0?u?w:f:u?w:a}(e);return s!==void 0&&s!==!1?s:e}catch(o){if(o!==Bl)throw o;return e}};var Pr={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});var BE=()=>{},ut=BE;function sn(t){return{tag:0,0:t}}function hi(t){return{tag:1,0:t}}var O_=()=>typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator",P_=()=>typeof Symbol=="function"&&Symbol.observable||"@@observable",UE=t=>t;function a2(t){return e=>n=>{var r=[],i=ut,s=ut,o=!1,a=!1,l=!1,c=!1;function u(d){l=!0,d(f=>{f===0?l&&(l=!1,r.length?u(t(r.shift())):c?n(0):o||(o=!0,i(0))):f.tag===0?(a=!1,(s=f[0])(0)):l&&(n(f),a?a=!1:s(0))})}e(d=>{c||(d===0?(c=!0,!l&&!r.length&&n(0)):d.tag===0?i=d[0]:(o=!1,l?r.push(d[0]):u(t(d[0]))))}),n(sn(d=>{d===1?(c||(c=!0,i(1)),l&&(l=!1,s(1))):(!c&&!o&&(o=!0,i(0)),l&&!a&&(a=!0,s(0)))}))}}function l2(t){return a2(UE)(t)}function c2(t){return e=>n=>{var r=[],i=ut,s=!1,o=!1;e(a=>{o||(a===0?(o=!0,r.length||n(0)):a.tag===0?i=a[0]:(s=!1,function(c){var u=ut;c(d=>{if(d===0){if(r.length){var f=r.indexOf(u);f>-1&&(r=r.slice()).splice(f,1),r.length||(o?n(0):s||(s=!0,i(0)))}}else d.tag===0?(r.push(u=d[0]),u(0)):r.length&&(n(d),u(0))})}(t(a[0])),s||(s=!0,i(0))))}),n(sn(a=>{if(a===1){o||(o=!0,i(1));for(var l=0,c=r,u=r.length;l<u;l++)c[l](1);r.length=0}else{!o&&!s?(s=!0,i(0)):s=!1;for(var d=0,f=r,h=r.length;d<h;d++)f[d](0)}}))}}function FE(t){return c2(UE)(t)}function u2(t){return e=>n=>{var r=!1;e(i=>{if(!r)if(i===0)r=!0,n(0);else if(i.tag===0){var s=i[0];n(sn(o=>{o===1&&(r=!0),s(o)}))}else t(i[0]),n(i)})}}function d2(t){var e=[],n=ut,r=!1;return i=>{e.push(i),e.length===1&&t(s=>{if(s===0){for(var o=0,a=e,l=e.length;o<l;o++)a[o](0);e.length=0}else if(s.tag===0)n=s[0];else{r=!1;for(var c=0,u=e,d=e.length;c<d;c++)u[c](s)}}),i(sn(s=>{if(s===1){var o=e.indexOf(i);o>-1&&(e=e.slice()).splice(o,1),e.length||n(1)}else r||(r=!0,n(0))}))}}function f2(t){return e=>n=>{var r=ut,i=ut,s=!1,o=!1,a=!1,l=!1;e(c=>{l||(c===0?(l=!0,a||n(0)):c.tag===0?r=c[0]:(a&&(i(1),i=ut),s?s=!1:(s=!0,r(0)),function(d){a=!0,d(f=>{a&&(f===0?(a=!1,l?n(0):s||(s=!0,r(0))):f.tag===0?(o=!1,(i=f[0])(0)):(n(f),o?o=!1:i(0)))})}(t(c[0]))))}),n(sn(c=>{c===1?(l||(l=!0,r(1)),a&&(a=!1,i(1))):(!l&&!s&&(s=!0,r(0)),a&&!o&&(o=!0,i(0)))}))}}function h2(t){return e=>{var n=t[O_()]&&t[O_()]()||t,r=!1,i=!1,s=!1,o;e(sn(async a=>{if(a===1)r=!0,n.return&&n.return();else if(i)s=!0;else{for(s=i=!0;s&&!r;)if((o=await n.next()).done)r=!0,n.return&&await n.return(),e(0);else try{s=!1,e(hi(o.value))}catch(l){if(n.throw)(r=!!(await n.throw(l)).done)&&e(0);else throw l}i=!1}}))}}function p2(t){return t[Symbol.asyncIterator]?h2(t):e=>{var n=t[Symbol.iterator](),r=!1,i=!1,s=!1,o;e(sn(a=>{if(a===1)r=!0,n.return&&n.return();else if(i)s=!0;else{for(s=i=!0;s&&!r;)if((o=n.next()).done)r=!0,n.return&&n.return(),e(0);else try{s=!1,e(hi(o.value))}catch(l){if(n.throw)(r=!!n.throw(l).done)&&e(0);else throw l}i=!1}}))}}var wf=p2;function Gf(t){return e=>{var n=!1,r=t({next(i){n||e(hi(i))},complete(){n||(n=!0,e(0))}});e(sn(i=>{i===1&&!n&&(n=!0,r())}))}}function jE(t){return e=>{var n=ut,r=!1;return e(i=>{i===0?r=!0:i.tag===0?(n=i[0])(0):r||(t(i[0]),n(0))}),{unsubscribe(){r||(r=!0,n(1))}}}}var rw={done:!0};function m2(t){var e=Object.keys(t).length;return n=>{var r=new Set,i=Array.isArray(t)?new Array(e).fill(ut):{},s=Array.isArray(t)?new Array(e):{},o=!1,a=!1,l=!1,c=0,u=function(f){t[f](h=>{if(h===0)c>=e-1?(l=!0,n(0)):c++;else if(h.tag===0)i[f]=h[0];else if(!l)if(s[f]=h[0],r.add(f),!o&&r.size<e)if(a)a=!1;else for(var w in t)r.has(w)||(i[w]||ut)(0);else o=!0,a=!1,n(hi(Array.isArray(s)?s.slice():{...s}))})};for(var d in t)u(d);n(sn(f=>{if(!l){if(f===1){l=!0;for(var h in i)i[h](1)}else if(!a){a=!0;for(var w in i)i[w](0)}}}))}}Ee.buffer=function(e){return n=>r=>{var i=[],s=ut,o=ut,a=!1,l=!1;n(c=>{l||(c===0?(l=!0,o(1),i.length&&r(hi(i)),r(0)):c.tag===0?(s=c[0],e(u=>{if(!l){if(u===0)l=!0,s(1),i.length&&r(hi(i)),r(0);else if(u.tag===0)o=u[0];else if(i.length){var d=hi(i);i=[],r(d)}}})):(i.push(c[0]),a?a=!1:(a=!0,s(0),o(0))))}),r(sn(c=>{c===1&&!l?(l=!0,s(1),o(1)):!l&&!a&&(a=!0,s(0),o(0))}))}};Ee.combine=function(...e){return m2(e)};Ee.concat=function(e){return l2(wf(e))};Ee.concatAll=l2;Ee.concatMap=a2;Ee.debounce=function(e){return n=>r=>{var i,s=!1,o=!1;n(a=>{if(!o)if(a===0)o=!0,i?s=!0:r(0);else if(a.tag===0){var l=a[0];r(sn(c=>{c===1&&!o?(o=!0,s=!1,i&&clearTimeout(i),l(1)):o||l(0)}))}else i&&clearTimeout(i),i=setTimeout(()=>{i=void 0,r(a),s&&r(0)},e(a[0]))})}};Ee.delay=function(e){return n=>r=>{var i=0;n(s=>{s!==0&&s.tag===0?r(s):(i++,setTimeout(()=>{i&&(i--,r(s))},e))})}};Ee.empty=t=>{var e=!1;t(sn(n=>{n===1?e=!0:e||(e=!0,t(0))}))};Ee.filter=function(e){return n=>r=>{var i=ut;n(s=>{s===0?r(0):s.tag===0?(i=s[0],r(s)):e(s[0])?r(s):i(0)})}};Ee.flatten=FE;Ee.forEach=function(e){return n=>{jE(e)(n)}};Ee.fromArray=wf;Ee.fromAsyncIterable=h2;Ee.fromCallbag=function(e){return n=>{e(0,(r,i)=>{n(r===0?sn(s=>{i(s+1)}):r===1?hi(i):0)})}};Ee.fromDomEvent=function(e,n){return Gf(r=>(e.addEventListener(n,r.next),()=>e.removeEventListener(n,r.next)))};Ee.fromIterable=p2;Ee.fromObservable=function(e){return n=>{var r=(e[P_()]?e[P_()]():e).subscribe({next(i){n(hi(i))},complete(){n(0)},error(i){throw i}});n(sn(i=>{i===1&&r.unsubscribe()}))}};Ee.fromPromise=function(e){return Gf(n=>(e.then(r=>{Promise.resolve(r).then(()=>{n.next(r),n.complete()})}),BE))};Ee.fromValue=function(e){return n=>{var r=!1;n(sn(i=>{i===1?r=!0:r||(r=!0,n(hi(e)),n(0))}))}};Ee.interval=function(e){return Gf(n=>{var r=0,i=setInterval(()=>n.next(r++),e);return()=>clearInterval(i)})};Ee.lazy=function(e){return n=>e()(n)};Ee.make=Gf;Ee.makeSubject=function(){var e,n;return{source:d2(Gf(r=>(e=r.next,n=r.complete,BE))),next(r){e&&e(r)},complete(){n&&n()}}};Ee.map=function(e){return n=>r=>n(i=>{i===0||i.tag===0?r(i):r(hi(e(i[0])))})};Ee.merge=function(e){return FE(wf(e))};Ee.mergeAll=FE;Ee.mergeMap=c2;Ee.never=t=>{t(sn(ut))};Ee.onEnd=function(e){return n=>r=>{var i=!1;n(s=>{if(!i)if(s===0)i=!0,r(0),e();else if(s.tag===0){var o=s[0];r(sn(a=>{a===1?(i=!0,o(1),e()):o(a)}))}else r(s)})}};Ee.onPush=u2;Ee.onStart=function(e){return n=>r=>n(i=>{i===0?r(0):i.tag===0?(r(i),e()):r(i)})};Ee.pipe=(...t)=>{for(var e=t[0],n=1,r=t.length;n<r;n++)e=t[n](e);return e};Ee.publish=function(e){jE(n=>{})(e)};Ee.sample=function(e){return n=>r=>{var i=ut,s=ut,o,a=!1,l=!1;n(c=>{l||(c===0?(l=!0,s(1),r(0)):c.tag===0?i=c[0]:(o=c[0],a?a=!1:(a=!0,s(0),i(0))))}),e(c=>{if(!l){if(c===0)l=!0,i(1),r(0);else if(c.tag===0)s=c[0];else if(o!==void 0){var u=hi(o);o=void 0,r(u)}}}),r(sn(c=>{c===1&&!l?(l=!0,i(1),s(1)):!l&&!a&&(a=!0,i(0),s(0))}))}};Ee.scan=function(e,n){return r=>i=>{var s=n;r(o=>{o===0?i(0):o.tag===0?i(o):i(hi(s=e(s,o[0])))})}};Ee.share=d2;Ee.skip=function(e){return n=>r=>{var i=ut,s=e;n(o=>{o===0?r(0):o.tag===0?(i=o[0],r(o)):s-- >0?i(0):r(o)})}};Ee.skipUntil=function(e){return n=>r=>{var i=ut,s=ut,o=!0,a=!1,l=!1;n(c=>{l||(c===0?(l=!0,o&&s(1),r(0)):c.tag===0?(i=c[0],e(u=>{u===0?o&&(l=!0,i(1)):u.tag===0?(s=u[0])(0):(o=!1,s(1))})):o?a?a=!1:(a=!0,i(0),s(0)):(a=!1,r(c)))}),r(sn(c=>{c===1&&!l?(l=!0,i(1),o&&s(1)):!l&&!a&&(a=!0,o&&s(0),i(0))}))}};Ee.skipWhile=function(e){return n=>r=>{var i=ut,s=!0;n(o=>{o===0?r(0):o.tag===0?(i=o[0],r(o)):s?e(o[0])?i(0):(s=!1,r(o)):r(o)})}};Ee.subscribe=jE;Ee.switchAll=function(e){return f2(UE)(e)};Ee.switchMap=f2;Ee.take=function(e){return n=>r=>{var i=ut,s=!1,o=0;n(a=>{s||(a===0?(s=!0,r(0)):a.tag===0?e<=0?(s=!0,r(0),a[0](1)):i=a[0]:o++<e?(r(a),!s&&o>=e&&(s=!0,r(0),i(1))):r(a))}),r(sn(a=>{a===1&&!s?(s=!0,i(1)):a===0&&!s&&o<e&&i(0)}))}};Ee.takeLast=function(e){return n=>r=>{var i=[],s=ut;n(o=>{o===0?wf(i)(r):o.tag===0?e<=0?(o[0](1),wf(i)(r)):(s=o[0])(0):(i.length>=e&&e&&i.shift(),i.push(o[0]),s(0))})}};Ee.takeUntil=function(e){return n=>r=>{var i=ut,s=ut,o=!1;n(a=>{o||(a===0?(o=!0,s(1),r(0)):a.tag===0?(i=a[0],e(l=>{l===0||(l.tag===0?(s=l[0])(0):(o=!0,s(1),i(1),r(0)))})):r(a))}),r(sn(a=>{a===1&&!o?(o=!0,i(1),s(1)):o||i(0)}))}};Ee.takeWhile=function(e,n){return r=>i=>{var s=ut,o=!1;r(a=>{o||(a===0?(o=!0,i(0)):a.tag===0?(s=a[0],i(a)):e(a[0])?i(a):(o=!0,n&&i(a),i(0),s(1)))})}};Ee.tap=u2;Ee.throttle=function(e){return n=>r=>{var i=!1,s;n(o=>{if(o===0)s&&clearTimeout(s),r(0);else if(o.tag===0){var a=o[0];r(sn(l=>{l===1?(s&&clearTimeout(s),a(1)):a(0)}))}else i||(i=!0,s&&clearTimeout(s),s=setTimeout(()=>{s=void 0,i=!1},e(o[0])),r(o))})}};Ee.toArray=function(e){var n=[],r=ut,i=!1;return e(s=>{s===0?i=!0:s.tag===0?(r=s[0])(0):(n.push(s[0]),r(0))}),i||r(1),n};Ee.toAsyncIterable=t=>{var e=[],n=!1,r=!1,i=!1,s=ut,o;return{async next(){return r||(r=!0,t(a=>{n||(a===0?(o&&(o=o(rw)),n=!0):a.tag===0?(i=!0,(s=a[0])(0)):(i=!1,o?o=o({value:a[0],done:!1}):e.push(a[0])))})),n&&!e.length?rw:(!n&&!i&&e.length<=1&&(i=!0,s(0)),e.length?{value:e.shift(),done:!1}:new Promise(a=>o=a))},async return(){return n||(o=s(1)),n=!0,rw},[O_()](){return this}}};Ee.toCallbag=function(e){return(n,r)=>{n===0&&e(i=>{i===0?r(2):i.tag===0?r(0,s=>{s<3&&i[0](s-1)}):r(1,i[0])})}};Ee.toObservable=function(e){return{subscribe(n,r,i){var s=typeof n=="object"?n:{next:n,error:r,complete:i},o=ut,a=!1;e(c=>{a||(c===0?(a=!0,s.complete&&s.complete()):c.tag===0?(o=c[0])(0):(s.next(c[0]),o(0)))});var l={closed:!1,unsubscribe(){l.closed=!0,a=!0,o(1)}};return l},[P_()](){return this}}};Ee.toPromise=function(e){return new Promise(n=>{var r=ut,i;e(s=>{s===0?Promise.resolve(i).then(n):s.tag===0?(r=s[0])(0):(i=s[0],r(0))})})};Ee.zip=m2;var lu=Wn,iw=Ee,A9=(t,e)=>{var n="";if(t)return`[Network] ${t.message}`;if(e)for(var r=0,i=e.length;r<i;r++)n&&(n+=`
`),n+=`[GraphQL] ${e[r].message}`;return n},C9=t=>t&&typeof t.message=="string"&&(t.extensions||t.name==="GraphQLError")?t:typeof t=="object"&&typeof t.message=="string"?new lu.GraphQLError(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{}):new lu.GraphQLError(t);class gy extends Error{constructor(e){var n=(e.graphQLErrors||[]).map(C9),r=A9(e.networkError,n);super(r),this.name="CombinedError",this.message=r,this.graphQLErrors=n,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var Dp=(t,e)=>{for(var n=(e||5381)|0,r=0,i=t.length|0;r<i;r++)n=(n<<5)+n+t.charCodeAt(r);return n},nl=new Set,vk=new WeakMap,Jl=(t,e)=>{if(t===null||nl.has(t))return"null";if(typeof t!="object")return JSON.stringify(t)||"";if(t.toJSON)return Jl(t.toJSON(),e);if(Array.isArray(t)){for(var n="[",r=0,i=t.length;r<i;r++)n.length>1&&(n+=","),n+=Jl(t[r],e)||"null";return n+="]",n}else if(!e&&(Fm!==cu&&t instanceof Fm||jm!==cu&&t instanceof jm))return"null";var s=Object.keys(t).sort();if(!s.length&&t.constructor&&Object.getPrototypeOf(t).constructor!==Object.prototype.constructor){var o=vk.get(t)||Math.random().toString(36).slice(2);return vk.set(t,o),Jl({__key:o},e)}nl.add(t);for(var a="{",l=0,c=s.length;l<c;l++){var u=Jl(t[s[l]],e);u&&(a.length>1&&(a+=","),a+=Jl(s[l],e)+":"+u)}return nl.delete(t),a+="}",a},L_=(t,e,n)=>{if(!(n==null||typeof n!="object"||n.toJSON||nl.has(n)))if(Array.isArray(n))for(var r=0,i=n.length;r<i;r++)L_(t,`${e}.${r}`,n[r]);else if(n instanceof Fm||n instanceof jm)t.set(e,n);else{nl.add(n);for(var s in n)L_(t,`${e}.${s}`,n[s])}},vf=(t,e)=>(nl.clear(),Jl(t,e||!1));class cu{}var Fm=typeof File<"u"?File:cu,jm=typeof Blob<"u"?Blob:cu,N9=t=>{var e=new Map;return(Fm!==cu||jm!==cu)&&(nl.clear(),L_(e,"variables",t)),e},M9="gql",R9=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,x9=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,D9=(t,e)=>e%2===0?t.replace(x9,`
`):t,_k=t=>t.split(R9).map(D9).join("").trim(),Sk=new Map,Op=new Map,yy=t=>{var e;return typeof t=="string"?e=_k(t):t.loc&&Op.get(t.__key)===t?e=t.loc.source.body:(e=Sk.get(t)||_k(lu.print(t)),Sk.set(t,e)),typeof t!="string"&&!t.loc&&(t.loc={start:0,end:e.length,source:{body:e,name:M9,locationOffset:{line:1,column:1}}}),e},bk=t=>{var e;if(t.documentId)e=Dp(t.documentId);else if(e=Dp(yy(t)),t.definitions){var n=zE(t);n&&(e=Dp(`
# ${n}`,e))}return e},g2=t=>{var e,n;return typeof t=="string"?(e=bk(t),n=Op.get(e)||lu.parse(t,{noLocation:!0})):(e=t.__key||bk(t),n=Op.get(e)||t),n.loc||yy(n),n.__key=e,Op.set(e,n),n},O9=(t,e,n)=>{var r=e||{},i=g2(t),s=vf(r,!0),o=i.__key;return s!=="{}"&&(o=Dp(s,o)),{key:o,query:i,variables:r,extensions:n}},zE=t=>{for(var e=0,n=t.definitions.length;e<n;e++){var r=t.definitions[e];if(r.kind===lu.Kind.OPERATION_DEFINITION)return r.name?r.name.value:void 0}},P9=t=>{for(var e=0,n=t.definitions.length;e<n;e++){var r=t.definitions[e];if(r.kind===lu.Kind.OPERATION_DEFINITION)return r.operation}},$_=(t,e,n)=>{if(!("data"in e)&&(!("errors"in e)||!Array.isArray(e.errors)))throw new Error("No Content");var r=t.kind==="subscription";return{operation:t,data:e.data,error:Array.isArray(e.errors)?new gy({graphQLErrors:e.errors,response:n}):void 0,extensions:e.extensions?{...e.extensions}:void 0,hasNext:e.hasNext==null?r:e.hasNext,stale:!1}},zm=(t,e)=>{if(typeof t=="object"&&t!=null){if(Array.isArray(t)){t=[...t];for(var n=0,r=e.length;n<r;n++)t[n]=zm(t[n],e[n]);return t}if(!t.constructor||t.constructor===Object){t={...t};for(var i in e)t[i]=zm(t[i],e[i]);return t}}return e},y2=(t,e,n,r)=>{var i=t.error?t.error.graphQLErrors:[],s=!!t.extensions||!!(e.payload||e).extensions,o={...t.extensions,...(e.payload||e).extensions},a=e.incremental;"path"in e&&(a=[e]);var l={data:t.data};if(a)for(var c=function(){var f=a[u];Array.isArray(f.errors)&&i.push(...f.errors),f.extensions&&(Object.assign(o,f.extensions),s=!0);var h="data",w=l,T=[];if(f.path)T=f.path;else if(r){var A=r.find(I=>I.id===f.id);f.subPath?T=[...A.path,...f.subPath]:T=A.path}for(var S=0,y=T.length;S<y;h=T[S++])w=w[h]=Array.isArray(w[h])?[...w[h]]:{...w[h]};if(f.items)for(var b=+h>=0?h:0,C=0,E=f.items.length;C<E;C++)w[b+C]=zm(w[b+C],f.items[C]);else f.data!==void 0&&(w[h]=zm(w[h],f.data))},u=0,d=a.length;u<d;u++)c();else l.data=(e.payload||e).data||t.data,i=e.errors||e.payload&&e.payload.errors||i;return{operation:t.operation,data:l.data,error:i.length?new gy({graphQLErrors:i,response:n}):void 0,extensions:s?o:void 0,hasNext:e.hasNext!=null?e.hasNext:t.hasNext,stale:!1}},w2=(t,e,n)=>({operation:t,data:void 0,error:new gy({networkError:e,response:n}),extensions:void 0,hasNext:!1,stale:!1});function L9(t){var e={query:void 0,documentId:void 0,operationName:zE(t.query),variables:t.variables||void 0,extensions:t.extensions};return"documentId"in t.query&&t.query.documentId&&(!t.query.definitions||!t.query.definitions.length)?e.documentId=t.query.documentId:(!t.extensions||!t.extensions.persistedQuery||t.extensions.persistedQuery.miss)&&(e.query=yy(t.query)),e}var $9=(t,e)=>{var n=t.kind==="query"&&t.context.preferGetMethod;if(!n||!e)return t.context.url;var r=B9(t.context.url);for(var i in e){var s=e[i];s&&r[1].set(i,typeof s=="object"?vf(s):s)}var o=r.join("?");return o.length>2047&&n!=="force"?(t.context.preferGetMethod=!1,t.context.url):o},B9=t=>{var e=t.indexOf("?");return e>-1?[t.slice(0,e),new URLSearchParams(t.slice(e+1))]:[t,new URLSearchParams]},U9=(t,e)=>{var n=t.kind==="query"&&!!t.context.preferGetMethod;if(e&&!n){var r=vf(e),i=N9(e.variables);if(i.size){var s=new FormData;s.append("operations",r),s.append("map",vf({...[...i.keys()].map(l=>[l])}));var o=0;for(var a of i.values())s.append(`${o++}`,a);return s}return r}},F9=t=>"has"in t&&!Object.keys(t).length,j9=(t,e)=>{var n={accept:t.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},r=(typeof t.context.fetchOptions=="function"?t.context.fetchOptions():t.context.fetchOptions)||{};if(r.headers)if(F9(r.headers))r.headers.forEach((o,a)=>{n[a]=o});else if(Array.isArray(r.headers))r.headers.forEach((o,a)=>{Array.isArray(o)?n[o[0]]?n[o[0]]=`${n[o[0]]},${o[1]}`:n[o[0]]=o[1]:n[a]=o});else for(var i in r.headers)n[i.toLowerCase()]=r.headers[i];var s=U9(t,e);return typeof s=="string"&&!n["content-type"]&&(n["content-type"]="application/json"),{...r,method:s?"POST":"GET",body:s,headers:n}},z9=/boundary="?([^=";]+)"?/i,W9=/data: ?([^\n]+)/;async function*v2(t){if(t.body[Symbol.asyncIterator])for await(var e of t.body)yield e;else{var n=t.body.getReader(),r;try{for(;!(r=await n.read()).done;)yield r.value}finally{n.cancel()}}}async function*_2(t,e){var n=typeof TextDecoder<"u"?new TextDecoder:null,r="",i;for await(var s of t)for(r+=s.constructor.name==="Buffer"?s.toString():n.decode(s,{stream:!0});(i=r.indexOf(e))>-1;)yield r.slice(0,i),r=r.slice(i+e.length)}async function*V9(t){yield JSON.parse(await t.text())}async function*H9(t){var e;for await(var n of _2(v2(t),`

`)){var r=n.match(W9);if(r){var i=r[1];try{yield e=JSON.parse(i)}catch(s){if(!e)throw s}if(e&&e.hasNext===!1)break}}e&&e.hasNext!==!1&&(yield{hasNext:!1})}async function*G9(t,e){var n=t.match(z9),r="--"+(n?n[1]:"-"),i=!0,s;for await(var o of _2(v2(e),`\r
`+r)){if(i){i=!1;var a=o.indexOf(r);if(a>-1)o=o.slice(a+r.length);else continue}try{yield s=JSON.parse(o.slice(o.indexOf(`\r
\r
`)+4))}catch(l){if(!s)throw l}if(s&&s.hasNext===!1)break}s&&s.hasNext!==!1&&(yield{hasNext:!1})}async function*q9(t){var e=await t.text();try{var n=JSON.parse(e);yield n}catch{throw new Error(e)}}async function*K9(t,e,n){var r=!0,i=null,s;try{yield await Promise.resolve(),s=await(t.context.fetch||fetch)(e,n);var o=s.headers.get("Content-Type")||"",a;/multipart\/mixed/i.test(o)?a=G9(o,s):/text\/event-stream/i.test(o)?a=H9(s):/text\//i.test(o)?a=q9(s):a=V9(s);var l;for await(var c of a)c.pending&&!i?l=c.pending:c.pending&&(l=[...l,...c.pending]),i=i?y2(i,c,s,l):$_(t,c,s),r=!1,yield i,r=!0;i||(yield i=$_(t,{},s))}catch(u){if(!r)throw u;yield w2(t,s&&(s.status<200||s.status>=300)&&s.statusText?new Error(s.statusText):u,s)}}function Y9(t,e,n){var r;return typeof AbortController<"u"&&(n.signal=(r=new AbortController).signal),iw.onEnd(()=>{r&&r.abort()})(iw.filter(i=>!!i)(iw.fromAsyncIterable(K9(t,e,n))))}Pr.CombinedError=gy;Pr.createRequest=O9;Pr.getOperationName=zE;Pr.getOperationType=P9;Pr.keyDocument=g2;Pr.makeErrorResult=w2;Pr.makeFetchBody=L9;Pr.makeFetchOptions=j9;Pr.makeFetchSource=Y9;Pr.makeFetchURL=$9;Pr.makeResult=$_;Pr.mergeResultPatch=y2;Pr.stringifyDocument=yy;Pr.stringifyVariables=vf;Object.defineProperty(Kt,"__esModule",{value:!0});var pc=Wn,xt=Pr,pe=Ee,B_=(t,e)=>{if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)B_(t[n],e);else if(typeof t=="object"&&t!==null)for(var i in t)i==="__typename"&&typeof t[i]=="string"?e.add(t[i]):B_(t[i],e);return e},Q9=t=>[...B_(t,new Set)],U_=t=>{if("definitions"in t){for(var e=[],n=0,r=t.definitions.length;n<r;n++){var i=U_(t.definitions[n]);e.push(i)}return{...t,definitions:e}}if("directives"in t&&t.directives&&t.directives.length){for(var s=[],o={},a=0,l=t.directives.length;a<l;a++){var c=t.directives[a],u=c.name.value;u[0]!=="_"?s.push(c):u=u.slice(1),o[u]=c}t={...t,directives:s,_directives:o}}if("selectionSet"in t){var d=[],f=t.kind===pc.Kind.OPERATION_DEFINITION;if(t.selectionSet){for(var h=0,w=t.selectionSet.selections.length;h<w;h++){var T=t.selectionSet.selections[h];f=f||T.kind===pc.Kind.FIELD&&T.name.value==="__typename"&&!T.alias;var A=U_(T);d.push(A)}return f||d.push({kind:pc.Kind.FIELD,name:{kind:pc.Kind.NAME,value:"__typename"},_generated:!0}),{...t,selectionSet:{...t.selectionSet,selections:d}}}}return t},Ek=new Map,S2=t=>{var e=xt.keyDocument(t),n=Ek.get(e.__key);return n||(Ek.set(e.__key,n=U_(e)),Object.defineProperty(n,"__key",{value:e.__key,enumerable:!1})),n};function Tk(t){var e=n=>t(n);return e.toPromise=()=>pe.toPromise(pe.take(1)(pe.filter(n=>!n.stale&&!n.hasNext)(e))),e.then=(n,r)=>e.toPromise().then(n,r),e.subscribe=n=>pe.subscribe(n)(e),e}function pl(t,e,n){return{...e,kind:t,context:e.context?{...e.context,...n}:n||e.context}}var F_=(t,e)=>pl(t.kind,t,{meta:{...t.context.meta,...e}}),J9=()=>{};function Z9(t){for(var e=new Map,n=[],r=[],i=Array.isArray(t)?t[0]:t||"",s=1;s<arguments.length;s++){var o=arguments[s];o&&o.definitions?r.push(o):i+=o,i+=arguments[0][s]}r.unshift(xt.keyDocument(i));for(var a=0;a<r.length;a++)for(var l=0;l<r[a].definitions.length;l++){var c=r[a].definitions[l];if(c.kind===pc.Kind.FRAGMENT_DEFINITION){var u=c.name.value,d=xt.stringifyDocument(c);e.has(u)||(e.set(u,d),n.push(c))}else n.push(c)}return xt.keyDocument({kind:pc.Kind.DOCUMENT,definitions:n})}var sw=({kind:t})=>t!=="mutation"&&t!=="query",b2=t=>{var e=S2(t.query);if(e!==t.query){var n=pl(t.kind,t);return n.query=e,n}else return t},X9=({forward:t,client:e,dispatchDebug:n})=>{var r=new Map,i=new Map,s=o=>o.kind==="query"&&o.context.requestPolicy!=="network-only"&&(o.context.requestPolicy==="cache-only"||r.has(o.key));return o=>{var a=pe.map(c=>{var u=r.get(c.key),d=u||xt.makeResult(c,{data:null});return d={...d,operation:F_(c,{cacheOutcome:u?"hit":"miss"})},c.context.requestPolicy==="cache-and-network"&&(d.stale=!0,j_(e,c)),d})(pe.filter(c=>!sw(c)&&s(c))(o)),l=pe.tap(c=>{var{operation:u}=c;if(u){var d=u.context.additionalTypenames||[];if(c.operation.kind!=="subscription"&&(d=Q9(c.data).concat(d)),c.operation.kind==="mutation"||c.operation.kind==="subscription"){for(var f=new Set,h=0;h<d.length;h++){var w=d[h],T=i.get(w);T||i.set(w,T=new Set);for(var A of T.values())f.add(A);T.clear()}for(var S of f.values())r.has(S)&&(u=r.get(S).operation,r.delete(S),j_(e,u))}else if(u.kind==="query"&&c.data){r.set(u.key,c);for(var y=0;y<d.length;y++){var b=d[y],C=i.get(b);C||i.set(b,C=new Set),C.add(u.key)}}}})(t(pe.filter(c=>c.kind!=="query"||c.context.requestPolicy!=="cache-only")(pe.map(c=>F_(c,{cacheOutcome:"miss"}))(pe.merge([pe.map(b2)(pe.filter(c=>!sw(c)&&!s(c))(o)),pe.filter(c=>sw(c))(o)])))));return pe.merge([a,l])}},j_=(t,e)=>t.reexecuteOperation(pl(e.kind,e,{requestPolicy:"network-only"})),eH=(t,e)=>{var n={hasNext:t.hasNext};return t.data!==void 0&&(n.data=JSON.stringify(t.data)),e&&t.extensions!==void 0&&(n.extensions=JSON.stringify(t.extensions)),t.error&&(n.error={graphQLErrors:t.error.graphQLErrors.map(r=>!r.path&&!r.extensions?r.message:{message:r.message,path:r.path,extensions:r.extensions})},t.error.networkError&&(n.error.networkError=""+t.error.networkError)),n},tH=(t,e,n)=>({operation:t,data:e.data?JSON.parse(e.data):void 0,extensions:n&&e.extensions?JSON.parse(e.extensions):void 0,error:e.error?new xt.CombinedError({networkError:e.error.networkError?new Error(e.error.networkError):void 0,graphQLErrors:e.error.graphQLErrors}):void 0,stale:!1,hasNext:!!e.hasNext}),Ik=new Set,nH=(t={})=>{var e=!!t.staleWhileRevalidate,n=!!t.includeExtensions,r={},i=[],s=a=>{i.push(a.operation.key),i.length===1&&Promise.resolve().then(()=>{for(var l;l=i.shift();)r[l]=null})},o=({client:a,forward:l})=>c=>{var u=t&&typeof t.isClient=="boolean"?!!t.isClient:!a.suspense,d=l(pe.map(b2)(pe.filter(h=>h.kind==="teardown"||!r[h.key]||!!r[h.key].hasNext||h.context.requestPolicy==="network-only")(c))),f=pe.map(h=>{var w=r[h.key],T=tH(h,w,n);e&&!Ik.has(h.key)&&(T.stale=!0,Ik.add(h.key),j_(a,h));var A={...T,operation:F_(h,{cacheOutcome:"hit"})};return A})(pe.filter(h=>h.kind!=="teardown"&&!!r[h.key]&&h.context.requestPolicy!=="network-only")(c));return u?f=pe.tap(s)(f):d=pe.tap(h=>{var{operation:w}=h;if(w.kind!=="mutation"){var T=eH(h,n);r[w.key]=T}})(d),pe.merge([d,f])};return o.restoreData=a=>{for(var l in a)r[l]!==null&&(r[l]=a[l])},o.extractData=()=>{var a={};for(var l in r)r[l]!=null&&(a[l]=r[l]);return a},t&&t.initialState&&o.restoreData(t.initialState),o},rH=({forwardSubscription:t,enableAllOperations:e,isSubscriptionOperation:n})=>({client:r,forward:i})=>{var s=a=>{var l=t(xt.makeFetchBody(a),a);return pe.make(c=>{var u=!1,d,f;function h(w){c.next(f=f?xt.mergeResultPatch(f,w):xt.makeResult(a,w))}return Promise.resolve().then(()=>{u||(d=l.subscribe({next:h,error(w){Array.isArray(w)?h({errors:w}):c.next(xt.makeErrorResult(a,w)),c.complete()},complete(){u||(u=!0,a.kind==="subscription"&&r.reexecuteOperation(pl("teardown",a,a.context)),f&&f.hasNext&&h({hasNext:!1}),c.complete())}}))}),()=>{u=!0,d&&d.unsubscribe()}})},o=n||(a=>a.kind==="subscription"||!!e&&(a.kind==="query"||a.kind==="mutation"));return a=>{var l=pe.mergeMap(u=>{var{key:d}=u,f=pe.filter(h=>h.kind==="teardown"&&h.key===d)(a);return pe.takeUntil(f)(s(u))})(pe.filter(u=>u.kind!=="teardown"&&o(u))(a)),c=i(pe.filter(u=>u.kind==="teardown"||!o(u))(a));return pe.merge([l,c])}},iH=({forward:t})=>e=>t(e),sH=({forward:t,dispatchDebug:e})=>n=>{var r=pe.mergeMap(s=>{var o=xt.makeFetchBody(s),a=xt.makeFetchURL(s,o),l=xt.makeFetchOptions(s,o),c=pe.takeUntil(pe.filter(u=>u.kind==="teardown"&&u.key===s.key)(n))(xt.makeFetchSource(s,a,l));return c})(pe.filter(s=>s.kind!=="teardown"&&(s.kind!=="subscription"||!!s.context.fetchSubscriptions))(n)),i=t(pe.filter(s=>s.kind==="teardown"||s.kind==="subscription"&&!s.context.fetchSubscriptions)(n));return pe.merge([r,i])},E2=t=>({client:e,forward:n,dispatchDebug:r})=>t.reduceRight((i,s)=>s({client:e,forward(o){return pe.share(i(pe.share(o)))},dispatchDebug(o){}}),n),T2=({onOperation:t,onResult:e,onError:n})=>({forward:r})=>i=>pe.mergeMap(s=>{n&&s.error&&n(s.error,s.operation);var o=e&&e(s)||s;return"then"in o?pe.fromPromise(o):pe.fromValue(o)})(r(pe.mergeMap(s=>{var o=t&&t(s)||s;return"then"in o?pe.fromPromise(o):pe.fromValue(o)})(i))),oH=({dispatchDebug:t})=>e=>pe.filter(n=>!1)(e),I2=function t(e){var n=0,r=new Map,i=new Map,s=new Set,o=[],a={url:e.url,fetchSubscriptions:e.fetchSubscriptions,fetchOptions:e.fetchOptions,fetch:e.fetch,preferGetMethod:e.preferGetMethod,requestPolicy:e.requestPolicy||"cache-first"},l=pe.makeSubject();function c(y){(y.kind==="mutation"||y.kind==="teardown"||!s.has(y.key))&&(y.kind==="teardown"?s.delete(y.key):y.kind!=="mutation"&&s.add(y.key),l.next(y))}var u=!1;function d(y){if(y&&c(y),!u){for(u=!0;u&&(y=o.shift());)c(y);u=!1}}var f=y=>{var b=pe.takeUntil(pe.filter(C=>C.kind==="teardown"&&C.key===y.key)(l.source))(pe.filter(C=>C.operation.kind===y.kind&&C.operation.key===y.key&&(!C.operation.context._instance||C.operation.context._instance===y.context._instance))(S));return y.kind!=="query"?b=pe.takeWhile(C=>!!C.hasNext,!0)(b):b=pe.switchMap(C=>{var E=pe.fromValue(C);return C.stale||C.hasNext?E:pe.merge([E,pe.map(()=>(C.stale=!0,C))(pe.take(1)(pe.filter(I=>I.key===y.key)(l.source)))])})(b),y.kind!=="mutation"?b=pe.onEnd(()=>{s.delete(y.key),r.delete(y.key),i.delete(y.key),u=!1;for(var C=o.length-1;C>=0;C--)o[C].key===y.key&&o.splice(C,1);c(pl("teardown",y,y.context))})(pe.onPush(C=>{if(C.stale)if(!C.hasNext)s.delete(y.key);else for(var E=0;E<o.length;E++){var I=o[E];if(I.key===C.operation.key){s.delete(I.key);break}}else C.hasNext||s.delete(y.key);r.set(y.key,C)})(b)):b=pe.onStart(()=>{c(y)})(b),pe.share(b)},h=this instanceof t?this:Object.create(t.prototype),w=Object.assign(h,{suspense:!!e.suspense,operations$:l.source,reexecuteOperation(y){if(y.kind==="teardown")d(y);else if(y.kind==="mutation")o.push(y),Promise.resolve().then(d);else if(i.has(y.key)){for(var b=!1,C=0;C<o.length;C++)o[C].key===y.key&&(o[C]=y,b=!0);!b&&(!s.has(y.key)||y.context.requestPolicy==="network-only")?(o.push(y),Promise.resolve().then(d)):(s.delete(y.key),Promise.resolve().then(d))}},createRequestOperation(y,b,C){return C||(C={}),pl(y,b,{_instance:y==="mutation"?n=n+1|0:void 0,...a,...C,requestPolicy:C.requestPolicy||a.requestPolicy,suspense:C.suspense||C.suspense!==!1&&w.suspense})},executeRequestOperation(y){return y.kind==="mutation"?Tk(f(y)):Tk(pe.lazy(()=>{var b=i.get(y.key);b||i.set(y.key,b=f(y)),b=pe.onStart(()=>{d(y)})(b);var C=r.get(y.key);return y.kind==="query"&&C&&(C.stale||C.hasNext)?pe.switchMap(pe.fromValue)(pe.merge([b,pe.filter(E=>E===r.get(y.key))(pe.fromValue(C))])):b}))},executeQuery(y,b){var C=w.createRequestOperation("query",y,b);return w.executeRequestOperation(C)},executeSubscription(y,b){var C=w.createRequestOperation("subscription",y,b);return w.executeRequestOperation(C)},executeMutation(y,b){var C=w.createRequestOperation("mutation",y,b);return w.executeRequestOperation(C)},readQuery(y,b,C){var E=null;return pe.subscribe(I=>{E=I})(w.query(y,b,C)).unsubscribe(),E},query(y,b,C){return w.executeQuery(xt.createRequest(y,b),C)},subscription(y,b,C){return w.executeSubscription(xt.createRequest(y,b),C)},mutation(y,b,C){return w.executeMutation(xt.createRequest(y,b),C)}}),T=J9,A=E2(e.exchanges),S=pe.share(A({client:w,dispatchDebug:T,forward:oH({dispatchDebug:T})})(l.source));return pe.publish(S),w},aH=I2;Kt.CombinedError=xt.CombinedError;Kt.createRequest=xt.createRequest;Kt.getOperationName=xt.getOperationName;Kt.makeErrorResult=xt.makeErrorResult;Kt.makeResult=xt.makeResult;Kt.mergeResultPatch=xt.mergeResultPatch;Kt.stringifyDocument=xt.stringifyDocument;Kt.stringifyVariables=xt.stringifyVariables;Kt.Client=I2;Kt.cacheExchange=X9;Kt.composeExchanges=E2;Kt.createClient=aH;Kt.debugExchange=iH;Kt.errorExchange=T2;Kt.fetchExchange=sH;Kt.formatDocument=S2;Kt.gql=Z9;Kt.makeOperation=pl;Kt.mapExchange=T2;Kt.ssrExchange=nH;Kt.subscriptionExchange=rH;Object.defineProperty(Yb,"__esModule",{value:!0});Yb.createClient=uH;const lH=Lf,cH=ny,kk=Kt;function uH(t){const e=new kk.Client({url:t,fetchSubscriptions:!0,exchanges:[kk.fetchExchange]}),n=async(i,s,o)=>e.query(i,s||{},o).then(a=>{if(a.error)throw a.error;return a.data}),r=(0,cH.getSdk)(n);return lH.sseDependendFuncs.forEach(i=>{delete r[i]}),r}var Ph={};const dH=Fi(p9);var ow={};function wy(t){return typeof t=="object"&&t!==null}const vy="x-graphql-event-stream-token",WE="token";function VE(t){if(t=t,t!=="next"&&t!=="complete")throw new Error(`Invalid stream event "${t}"`);return t}function xd(t){let e=`event: ${t.event}
data:`;return t.data&&(e+=" ",e+=JSON.stringify(t.data)),e+=`

`,e}function HE(t,e){if(e)try{e=JSON.parse(e)}catch{throw new Error("Invalid stream data")}if(t==="next"&&!e)throw new Error('Stream data must be an object for "next" events');return e||null}function mc(t){return typeof Object(t)[Symbol.asyncIterator]=="function"}function Dd(t){return wy(t)&&typeof Object(t)[Symbol.asyncIterator]=="function"&&typeof t.return=="function"&&typeof t.throw=="function"&&typeof t.next=="function"}const fH=Object.freeze(Object.defineProperty({__proto__:null,TOKEN_HEADER_KEY:vy,TOKEN_QUERY_KEY:WE,isAsyncGenerator:Dd,isAsyncIterable:mc,parseStreamData:HE,print:xd,validateStreamEvent:VE},Symbol.toStringTag,{value:"Module"})),hH=Fi(fH);function pH(t){const{validate:e=OE,execute:n=Hf,subscribe:r=PO,schema:i,authenticate:s=function(A){var S;const y=A.headers.get(vy);if(y)return Array.isArray(y)?y.join(""):y;const b=new URL((S=A.url)!==null&&S!==void 0?S:"","http://localhost/").searchParams.get(WE);return b||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,C=>{const E=Math.random()*16|0;return(C=="x"?E:E&3|8).toString(16)})},onConnect:o,context:a,onSubscribe:l,onOperation:c,onNext:u,onComplete:d}=t,f={};function h(T){const A={};let S;const y=(()=>{const C=[],E={done:!1,error:null,resolve:()=>{}};async function I(){clearInterval(S),typeof T=="string"&&delete f[T];for(const z of Object.values(A))Dd(z)&&await z.return(void 0)}const k=async function*(){for(;;){for(C.length||await new Promise(D=>E.resolve=D);C.length;)yield C.shift();if(E.error)throw E.error;if(E.done)return}}();return k.throw=async z=>(E.done||(E.done=!0,E.error=z,E.resolve(),await I()),{done:!0,value:void 0}),k.return=async()=>(E.done||(E.done=!0,E.resolve(),await I()),{done:!0,value:void 0}),{next(z){C.push(z),E.resolve()},iterator:k}})();let b=!1;return{get open(){return b},ops:A,subscribe(){return b=!0,y.next(`:

`),S=setInterval(()=>y.next(`:

`),12e3),y.iterator},from(C,E,I,k){(async()=>{if(mc(I))for await(let z of I){const D=await(u==null?void 0:u(C,E,z));D&&(z=D),y.next(xd({event:"next",data:k?{id:k,payload:z}:z}))}else{const z=await(u==null?void 0:u(C,E,I));z&&(I=z),y.next(xd({event:"next",data:k?{id:k,payload:I}:I}))}y.next(xd({event:"complete",data:k?{id:k}:null})),await(d==null?void 0:d(C,E)),k?delete A[k]:await y.iterator.return()})().catch(y.iterator.throw)}}}async function w(T,A){let S;const y=await(l==null?void 0:l(T,A));if(Ia(y))return y;if(k2(y)||mc(y))return{ctx:typeof a=="function"?await a(T,A):a,perform(){return y}};if(y)S=y;else{if(!i)throw new Error("The GraphQL schema is not provided");const{operationName:E,variables:I}=A;let k;try{k=Eu(A.query)}catch(D){return[JSON.stringify({errors:[D instanceof Error?{message:D.message}:D]}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}]}const z={operationName:E,document:k,variableValues:I,contextValue:typeof a=="function"?await a(T,A):a};S={...z,schema:typeof i=="function"?await i(T,z):i}}let b;try{const E=BO(S.document,S.operationName);if(!E)throw null;b=E.operation}catch{return[JSON.stringify({errors:[{message:"Unable to detect operation AST"}]}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}]}if(b==="mutation"&&T.method==="GET")return[JSON.stringify({errors:[{message:"Cannot perform mutations over GET"}]}),{status:405,statusText:"Method Not Allowed",headers:{allow:"POST","content-type":"application/json; charset=utf-8"}}];const C=e(S.schema,S.document);return C.length?T.headers.get("accept")==="text/event-stream"?{ctx:S.contextValue,perform(){return{errors:C}}}:[JSON.stringify({errors:C}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}]:{ctx:S.contextValue,async perform(){const E=await(b==="subscription"?r(S):n(S)),I=await(c==null?void 0:c(S.contextValue,T,S,E));return I||E}}}return async function(A){var S,y,b;const C=await s(A);if(Ia(C))return C;const E=A.headers.get("accept")||"*/*",I=typeof C=="string"?f[C]:null;if(E==="text/event-stream"){const G=await(o==null?void 0:o(A));if(Ia(G))return G;if(!I){const x=await Ak(A);if(Ia(x))return x;const p=x,v=h(null);v.ops[""]=null;const N=await w(A,p);if(Ia(N))return N;const O=await N.perform();return mc(O)&&(v.ops[""]=O),v.from(N.ctx,A,O,null),[v.subscribe(),{status:200,statusText:"OK",headers:{connection:"keep-alive","cache-control":"no-cache","content-encoding":"none","content-type":"text/event-stream; charset=utf-8"}}]}return I.open?[JSON.stringify({errors:[{message:"Stream already open"}]}),{status:409,statusText:"Conflict",headers:{"content-type":"application/json; charset=utf-8"}}]:[I.subscribe(),{status:200,statusText:"OK",headers:{connection:"keep-alive","cache-control":"no-cache","content-encoding":"none","content-type":"text/event-stream; charset=utf-8"}}]}if(typeof C!="string")return[null,{status:404,statusText:"Not Found"}];if(A.method==="PUT")return["*/*","text/plain"].includes(E)?I?[JSON.stringify({errors:[{message:"Stream already registered"}]}),{status:409,statusText:"Conflict",headers:{"content-type":"application/json; charset=utf-8"}}]:(f[C]=h(C),[C,{status:201,statusText:"Created",headers:{"content-type":"text/plain; charset=utf-8"}}]):[null,{status:406,statusText:"Not Acceptable"}];if(A.method==="DELETE"){if(!I)return[JSON.stringify({errors:[{message:"Stream not found"}]}),{status:404,statusText:"Not Found",headers:{"content-type":"application/json; charset=utf-8"}}];const G=new URL((S=A.url)!==null&&S!==void 0?S:"","http://localhost/").searchParams.get("operationId");if(!G)return[JSON.stringify({errors:[{message:"Operation ID is missing"}]}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}];const x=I.ops[G];return Dd(x)&&x.return(void 0),delete I.ops[G],[null,{status:200,statusText:"OK"}]}else{if(A.method!=="GET"&&A.method!=="POST")return[null,{status:405,statusText:"Method Not Allowed",headers:{allow:"GET, POST, PUT, DELETE"}}];if(!I)return[JSON.stringify({errors:[{message:"Stream not found"}]}),{status:404,statusText:"Not Found",headers:{"content-type":"application/json; charset=utf-8"}}]}if(!["*/*","application/*","application/json"].includes(E))return[null,{status:406,statusText:"Not Acceptable"}];const k=await Ak(A);if(Ia(k))return k;const z=k,D=String((b=(y=z.extensions)===null||y===void 0?void 0:y.operationId)!==null&&b!==void 0?b:"");if(!D)return[JSON.stringify({errors:[{message:"Operation ID is missing"}]}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}];if(D in I.ops)return[JSON.stringify({errors:[{message:"Operation with ID already exists"}]}),{status:409,statusText:"Conflict",headers:{"content-type":"application/json; charset=utf-8"}}];I.ops[D]=null;const F=await w(A,z);if(Ia(F))return F;if(!(D in I.ops))return[null,{status:204,statusText:"No Content"}];const V=await F.perform();return!(D in I.ops)&&(Dd(V)&&V.return(void 0),!(D in I.ops))?[null,{status:204,statusText:"No Content"}]:(mc(V)&&(I.ops[D]=V),I.from(F.ctx,A,V,D),[null,{status:202,statusText:"Accepted"}])}}async function Ak(t){var e,n,r;const i={};try{switch(!0){case t.method==="GET":{try{const[,s]=t.url.split("?"),o=new URLSearchParams(s);i.operationName=(e=o.get("operationName"))!==null&&e!==void 0?e:void 0,i.query=(n=o.get("query"))!==null&&n!==void 0?n:void 0;const a=o.get("variables");a&&(i.variables=JSON.parse(a));const l=o.get("extensions");l&&(i.extensions=JSON.parse(l))}catch{throw new Error("Unparsable URL")}break}case(t.method==="POST"&&((r=t.headers.get("content-type"))===null||r===void 0?void 0:r.includes("application/json"))):{if(!t.body)throw new Error("Missing body");const s=typeof t.body=="function"?await t.body():t.body,o=typeof s=="string"?JSON.parse(s):s;if(!wy(o))throw new Error("JSON body must be an object");i.operationName=o.operationName,i.query=o.query,i.variables=o.variables,i.extensions=o.extensions;break}default:return[null,{status:415,statusText:"Unsupported Media Type"}]}if(i.query==null)throw new Error("Missing query");if(typeof i.query!="string")throw new Error("Invalid query");if(i.variables!=null&&(typeof i.variables!="object"||Array.isArray(i.variables)))throw new Error("Invalid variables");if(i.extensions!=null&&(typeof i.extensions!="object"||Array.isArray(i.extensions)))throw new Error("Invalid extensions");return i}catch(s){return[JSON.stringify({errors:[s instanceof Error?{message:s.message}:s]}),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}]}}function Ia(t){return Array.isArray(t)}function k2(t){return wy(t)&&("data"in t||"data"in t&&t.data==null&&"errors"in t)}const mH=Object.freeze(Object.defineProperty({__proto__:null,createHandler:pH,isExecutionResult:k2},Symbol.toStringTag,{value:"Module"})),gH=Fi(mH);var $a;(function(t){t[t.NewLine=10]="NewLine",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.Colon=58]="Colon"})($a||($a={}));function yH(){let t,e,n,r=!1,i={event:"",data:""},s=[];const o=new TextDecoder;return function(l){if(t===void 0)t=l,e=0,n=-1;else{const d=new Uint8Array(t.length+l.length);d.set(t),d.set(l,t.length),t=d}const c=t.length;let u=0;for(;e<c;){r&&(t[e]===$a.NewLine&&(u=++e),r=!1);let d=-1;for(;e<c&&d===-1;++e)switch(t[e]){case $a.Colon:n===-1&&(n=e-u);break;case $a.CarriageReturn:r=!0;case $a.NewLine:d=e;break}if(d===-1)break;if(u===d){if(i.event||i.data){if(!i.event)throw new Error("Missing message event");const f=VE(i.event),h=HE(f,i.data);s.push({event:f,data:h}),i={event:"",data:""}}}else if(n>0){const f=t.subarray(u,d),h=o.decode(f.subarray(0,n)),w=n+(f[n+1]===$a.Space?2:1),T=o.decode(f.subarray(w));switch(h){case"event":i.event=T;break;case"data":i.data=i.data?i.data+`
`+T:T;break}}u=e,n=-1}if(u===c){t=void 0;const d=[...s];return s=[],d}else u!==0&&(t=t.subarray(u),e-=u)}}function wH(t){const{singleConnection:e=!1,lazy:n=!0,lazyCloseTimeout:r=0,onNonLazyError:i=console.error,generateID:s=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,z=>{const D=Math.random()*16|0;return(z=="x"?D:D&3|8).toString(16)})},retryAttempts:o=5,retry:a=async function(z){let D=1e3;for(let F=0;F<z;F++)D*=2;await new Promise(F=>setTimeout(F,D+Math.floor(Math.random()*2700+300)))},credentials:l="same-origin",referrer:c,referrerPolicy:u,onMessage:d,on:f}=t,h=t.fetchFn||fetch,w=t.abortControllerImpl||AbortController,T=(()=>{let k=!1;const z=[];return{get disposed(){return k},onDispose(D){return k?(setTimeout(()=>D(),0),()=>{}):(z.push(D),()=>{z.splice(z.indexOf(D),1)})},dispose(){if(!k){k=!0;for(const D of[...z])D()}}}})();let A,S,y=0,b=null,C=0;async function E(){try{if(T.disposed)throw new Error("Client has been disposed");return await(S??(S=(async()=>{var k,z,D;if(b){if(await a(C),A.signal.aborted)throw new Error("Connection aborted by the client");C++}(k=f==null?void 0:f.connecting)===null||k===void 0||k.call(f,!!b),A=new w;const F=T.onDispose(()=>A.abort());A.signal.addEventListener("abort",()=>{F(),S=void 0});const V=typeof t.url=="function"?await t.url():t.url;if(A.signal.aborted)throw new Error("Connection aborted by the client");const G=typeof t.headers=="function"?await t.headers():(z=t.headers)!==null&&z!==void 0?z:{};if(A.signal.aborted)throw new Error("Connection aborted by the client");let x;try{x=await h(V,{signal:A.signal,method:"PUT",credentials:l,referrer:c,referrerPolicy:u,headers:G})}catch(N){throw new ii(N)}if(x.status!==201)throw new ii(x);const p=await x.text();G[vy]=p;const v=await Ck({signal:A.signal,headers:G,credentials:l,referrer:c,referrerPolicy:u,url:V,fetchFn:h,onMessage:N=>{var O;(O=f==null?void 0:f.message)===null||O===void 0||O.call(f,N),d==null||d(N)}});return(D=f==null?void 0:f.connected)===null||D===void 0||D.call(f,!!b),v.waitForThrow().catch(()=>S=void 0),v})()))}catch(k){throw S=void 0,k}}e&&!n&&(async()=>{for(y++;;)try{const{waitForThrow:k}=await E();await k()}catch(k){if(T.disposed)return;if(!(k instanceof ii)||(S=void 0,!o||C>=o))return i==null?void 0:i(k);b=k}})();function I(k,z,D){if(!e){const G=new w,x=T.onDispose(()=>{x(),G.abort()});return(async()=>{var p,v,N,O,M;let B=null,j=0;for(;;)try{if(B){if(await a(j),G.signal.aborted)throw new Error("Connection aborted by the client");j++}(p=f==null?void 0:f.connecting)===null||p===void 0||p.call(f,!!B),(v=D==null?void 0:D.connecting)===null||v===void 0||v.call(D,!!B);const P=typeof t.url=="function"?await t.url():t.url;if(G.signal.aborted)throw new Error("Connection aborted by the client");const m=typeof t.headers=="function"?await t.headers():(N=t.headers)!==null&&N!==void 0?N:{};if(G.signal.aborted)throw new Error("Connection aborted by the client");const{getResults:L}=await Ck({signal:G.signal,headers:{...m,"content-type":"application/json; charset=utf-8"},credentials:l,referrer:c,referrerPolicy:u,url:P,body:JSON.stringify(k),fetchFn:h,onMessage:q=>{var Q,ne;(Q=f==null?void 0:f.message)===null||Q===void 0||Q.call(f,q),(ne=D==null?void 0:D.message)===null||ne===void 0||ne.call(D,q),d==null||d(q)}});(O=f==null?void 0:f.connected)===null||O===void 0||O.call(f,!!B),(M=D==null?void 0:D.connected)===null||M===void 0||M.call(D,!!B);for await(const q of L())B=null,j=0,z.next(q);return G.abort()}catch(P){if(G.signal.aborted)return;if(!(P instanceof ii)||!o||j>=o)throw P;B=P}})().then(()=>z.complete()).catch(p=>z.error(p)),()=>G.abort()}y++;const F=new w,V=T.onDispose(()=>{V(),F.abort()});return(async()=>{const G=s();k={...k,extensions:{...k.extensions,operationId:G}};let x=null;for(;;){x=null;try{const{url:p,headers:v,getResults:N}=await E();let O;try{O=await h(p,{signal:F.signal,method:"POST",credentials:l,referrer:c,referrerPolicy:u,headers:{...v,"content-type":"application/json; charset=utf-8"},body:JSON.stringify(k)})}catch(M){throw new ii(M)}if(O.status!==202)throw new ii(O);x=async()=>{let M;try{const B=new w,j=T.onDispose(()=>{j(),B.abort()});M=await h(p+"?operationId="+G,{signal:B.signal,method:"DELETE",credentials:l,referrer:c,referrerPolicy:u,headers:v})}catch(B){throw new ii(B)}if(M.status!==200)throw new ii(M)};for await(const M of N({signal:F.signal,operationId:G}))b=null,C=0,z.next(M);return x=null,F.abort()}catch(p){if(F.signal.aborted)return await(x==null?void 0:x());if(!(p instanceof ii)||(n&&(S=void 0),!o||C>=o))throw F.abort(),p;b=p}finally{F.signal.aborted&&--y===0&&(isFinite(r)&&r>0?setTimeout(()=>{y||A.abort()},r):A.abort())}}})().then(()=>z.complete()).catch(G=>z.error(G)),()=>F.abort()}return{subscribe:I,iterate(k,z){const D=[],F={done:!1,error:null,resolve:()=>{}},V=I(k,{next(x){D.push(x),F.resolve()},error(x){F.done=!0,F.error=x,F.resolve()},complete(){F.done=!0,F.resolve()}},z),G=async function*(){for(;;){for(D.length||await new Promise(p=>F.resolve=p);D.length;)yield D.shift();if(F.error)throw F.error;if(F.done)return}}();return G.throw=async x=>(F.done||(F.done=!0,F.error=x,F.resolve()),{done:!0,value:void 0}),G.return=async()=>(V(),{done:!0,value:void 0}),G},dispose(){T.dispose()}}}class ii extends Error{constructor(e){let n,r;vH(e)?(r=e,n="Server responded with "+e.status+": "+e.statusText):e instanceof Error?n=e.message:n=String(e),super(n),this.name=this.constructor.name,this.response=r}}function vH(t){return wy(t)&&typeof t.ok=="boolean"&&typeof t.status=="number"&&typeof t.statusText=="string"}async function Ck(t){const{signal:e,url:n,credentials:r,headers:i,body:s,referrer:o,referrerPolicy:a,fetchFn:l,onMessage:c}=t,u={},d={};let f;try{f=await l(n,{signal:e,method:s?"POST":"GET",credentials:r,referrer:o,referrerPolicy:a,headers:{...i,accept:"text/event-stream"},body:s})}catch(T){throw new ii(T)}if(!f.ok)throw new ii(f);if(!f.body)throw new Error("Missing response body");let h=null,w;return(async()=>{var T;try{const A=yH();for await(const S of _H(f.body)){if(typeof S=="string")throw h=new Error(`Unexpected string chunk "${S}"`);let y;try{y=A(S)}catch(b){throw h=b}if(y)for(const b of y){try{c==null||c(b)}catch(E){throw h=E}const C=b.data&&"id"in b.data?b.data.id:"";switch(C in d||(d[C]=[]),b.event){case"next":C?d[C].push(b.data.payload):d[C].push(b.data);break;case"complete":d[C].push("complete");break;default:throw h=new Error(`Unexpected message event "${b.event}"`)}(T=u[C])===null||T===void 0||T.proceed()}}if(Object.keys(u).length)throw new Error("Connection closed while having active streams")}catch(A){!h&&Object.keys(u).length?h=new ii(A):h=A,w==null||w(h)}finally{Object.values(u).forEach(({proceed:A})=>A())}})(),{url:n,headers:i,waitForThrow:()=>new Promise((T,A)=>{if(h)return A(h);w=A}),async*getResults(T){var A;const{signal:S,operationId:y=""}=T??{};try{for(;;){for(;!((A=d[y])===null||A===void 0)&&A.length;){const b=d[y].shift();if(b==="complete")return;yield b}if(h)throw h;if(S!=null&&S.aborted)throw new Error("Getting results aborted by the client");await new Promise(b=>{const C=()=>{S==null||S.removeEventListener("abort",C),delete u[y],b()};S==null||S.addEventListener("abort",C),u[y]={proceed:C}})}}finally{delete d[y]}}}}function _H(t){return typeof Object(t)[Symbol.asyncIterator]=="function"?(t=t,t):async function*(){const e=t.getReader();let n;do n=await e.read(),n.value!==void 0&&(yield n.value);while(!n.done)}()}const SH=Object.freeze(Object.defineProperty({__proto__:null,NetworkError:ii,TOKEN_HEADER_KEY:vy,TOKEN_QUERY_KEY:WE,createClient:wH,isAsyncGenerator:Dd,isAsyncIterable:mc,parseStreamData:HE,print:xd,validateStreamEvent:VE},Symbol.toStringTag,{value:"Module"})),bH=Fi(SH);var Nk;function EH(){return Nk||(Nk=1,function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Ye&&Ye.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(hH,t),n(gH,t),n(bH,t)}(ow)),ow}var Mk;function TH(){if(Mk)return Ph;Mk=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.createClient=i;const t=ny,e=dH,n=Lf,r=EH();function i(s){const o=(0,r.createClient)({url:s}),a=async(c,u,d)=>{const f=o.iterate({query:(0,e.print)(c),variables:u}),{value:h}=await f.next();if(h.error)throw h.error;const w=h.data;d!=null&&d.streamCallback&&(d==null||d.streamCallback(w));let T=h.hasNext;for(;T;){const{value:A}=await f.next();if(A.error)throw A.error;if(A.incremental){let S=w,y=A.incremental[0].path.pop();for(let b of A.incremental[0].path)switch(typeof b){case"string":S=S[b];break}S[y]=A.incremental[0].items[0],d!=null&&d.streamCallback&&(d==null||d.streamCallback(A.incremental[0].items[0]))}T=A.hasNext}return w},l=(0,t.getSdk)(a);return n.sseDependendFuncs.reduce((c,u)=>({...c,[u]:l[u]}),{})}return Ph}var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.calculateRewards=IH;function IH(t,e,n,r,i=new Date){if(n.usedBy.kind!=="Staking"||!n.usedBy.params||!("pool"in n.usedBy.params))return{rewards:0,multipliers:0};const s=Math.floor(i.getTime()/1e3)-n.usedBy.params.claimedAt;let a=Number(t.rewardsPerDuration)/Number(t.rewardsDuration)*s,l=1,c=1;if(e){c=10**e.decimals,l=c;let u=c,d=0;for(const w of e.durationMultipliers)if(w.multiplierType.kind==="StakeDuration"&&"minDuration"in w.multiplierType.params){const T=Number(w.multiplierType.params.minDuration);T<=s&&T>d&&(u=Number(w.value),d=T)}u-=c,l+=u;let f=c,h=0;for(const w of e.countMultipliers)if(w.multiplierType.kind==="NFTCount"&&"minCount"in w.multiplierType.params){const T=Number(w.multiplierType.params.minCount);T<=Number(r.totalStaked)&&T>h&&(f=Number(w.value),h=T)}if(f-=c,l+=f,n.source.kind==="Wrapped"&&"criteria"in n.source.params){const w=n.source.params.criteria;let T=c;for(const S of e.creatorMultipliers)if(S.multiplierType.kind==="Creator"&&"creator"in S.multiplierType.params){const y=S.multiplierType.params.creator;if(w.kind==="Creator"&&w.params===y){T=Number(S.value);break}}T-=c,l+=T;let A=c;for(const S of e.collectionMultipliers)if(S.multiplierType.kind==="Collection"&&"collection"in S.multiplierType.params){const y=S.multiplierType.params.collection;if(w.kind==="Collection"&&w.params===y){A=Number(S.value);break}}A-=c,l+=A}}return a=a*l/c,{rewards:a,multipliers:l}}(function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(s,o,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(o,a);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,l,c)}:function(s,o,a,l){l===void 0&&(l=a),s[l]=o[a]}),n=Ye&&Ye.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEdgeClient=i;const r=Yb;function i(s,o){const a=(0,r.createClient)(s);if(o){const l=TH().createClient(s);Object.assign(a,l)}return a}t.default=i,n(ny,t),n(GE,t)})(b_);(function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,l)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),n=Ye&&Ye.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b_;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createEdgeClient}}),n(b_,t)})(aD);const kH=_l(aD);var qE={};function AH(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var w=0,T=0,A=0,S=h.length;A!==S&&h[A]===0;)A++,w++;for(var y=(S-A)*c+1>>>0,b=new Uint8Array(y);A!==S;){for(var C=h[A],E=0,I=y-1;(C!==0||E<T)&&I!==-1;I--,E++)C+=256*b[I]>>>0,b[I]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");T=E,A++}for(var k=y-T;k!==y&&b[k]===0;)k++;for(var z=a.repeat(w);k<y;++k)z+=t.charAt(b[k]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var w=0,T=0,A=0;h[w]===a;)T++,w++;for(var S=(h.length-w)*l+1>>>0,y=new Uint8Array(S);h[w];){var b=h.charCodeAt(w);if(b>255)return;var C=e[b];if(C===255)return;for(var E=0,I=S-1;(C!==0||E<A)&&I!==-1;I--,E++)C+=o*y[I]>>>0,y[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");A=E,w++}for(var k=S-A;k!==S&&y[k]===0;)k++;for(var z=new Uint8Array(T+(S-k)),D=T;k!==S;)z[D++]=y[k++];return z}function f(h){var w=d(h);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:f}}var CH=AH;const NH=CH,MH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var RH=NH(MH),xH=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qE,"__esModule",{value:!0});qE.sendClientTransactions=void 0;const Rk=xH(RH),DH=Bb,OH=async(t,e,n,r)=>{if(!e.signAllTransactions||!e.connected)throw new Error("Invalid wallet");"transaction"in n&&(n={blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight,transactions:[n.transaction],__typename:"Transactions"});const i=n.transactions.map(a=>{let l=DH.VersionedTransaction.deserialize(Rk.default.decode(a));return l.message.recentBlockhash=n.blockhash,l}),s=await e.signAllTransactions(i).then(a=>a.map(l=>Rk.default.encode(l.serialize()))).catch(a=>{throw console.error("Failed to sign transactions: ",a),new Error(a)}),{sendTransactionBundles:o}=await t.sendTransactionBundles({txs:s,blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight,options:r});return o};qE.sendClientTransactions=OH;var xk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(t,e){if(!t)throw Au(e)},Au=function(t){return new Error("Firebase Database ("+A2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new LH;const f=s<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(t){const e=C2(t);return KE.encodeByteArray(e,!0)},Wm=function(t){return N2(t).replace(/\./g,"")},z_=function(t){try{return KE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(t){return M2(void 0,t)}function M2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!BH(n)||(t[n]=M2(t[n],e[n]));return t}function BH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof VI<"u")return VI;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=()=>UH().__FIREBASE_DEFAULTS__,jH=()=>{if(typeof nD>"u"||typeof xk>"u")return;const t=xk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z_(t[1]);return e&&JSON.parse(e)},R2=()=>{try{return FH()||jH()||zH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WH=t=>{var e,n;return(n=(e=R2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VH=t=>{const e=WH(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},x2=()=>{var t;return(t=R2())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wm(JSON.stringify(n)),Wm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(GH())}function qH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YH(){return A2.NODE_ADMIN===!0}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function P2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function QH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="FirebaseError";class Nl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JH,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_y.prototype.create)}}class _y{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nl(i,a,r)}}function ZH(t,e){return t.replace(XH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){return JSON.parse(t)}function sr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=_f(z_(s[0])||""),n=_f(z_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},eG=function(t){const e=L2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tG=function(t){const e=L2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Dk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Hm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ok(s)&&Ok(o)){if(!Hm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ok(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function iG(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=1e3,aG=2,lG=4*60*60*1e3,cG=.5;function Pk(t,e=oG,n=aG){const r=e*Math.pow(n,t),i=Math.round(cG*r*(Math.random()-.5)*2);return Math.min(lG,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fG(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dG(t){return t===Ra?void 0:t}function fG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const pG={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},mG=Et.INFO,gG={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},yG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QE{constructor(e){this.name=e,this._logLevel=mG,this._logHandler=yG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const wG=(t,e)=>e.some(n=>t instanceof n);let Lk,$k;function vG(){return Lk||(Lk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _G(){return $k||($k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $2=new WeakMap,W_=new WeakMap,B2=new WeakMap,aw=new WeakMap,JE=new WeakMap;function SG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(aa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$2.set(n,t)}).catch(()=>{}),JE.set(e,t),e}function bG(t){if(W_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});W_.set(t,e)}let V_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EG(t){V_=t(V_)}function TG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lw(this),e,...n);return B2.set(r,e.sort?e.sort():[e]),aa(r)}:_G().includes(t)?function(...e){return t.apply(lw(this),e),aa($2.get(this))}:function(...e){return aa(t.apply(lw(this),e))}}function IG(t){return typeof t=="function"?TG(t):(t instanceof IDBTransaction&&bG(t),wG(t,vG())?new Proxy(t,V_):t)}function aa(t){if(t instanceof IDBRequest)return SG(t);if(aw.has(t))return aw.get(t);const e=IG(t);return e!==t&&(aw.set(t,e),JE.set(e,t)),e}const lw=t=>JE.get(t);function U2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=aa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(aa(o.result),l.oldVersion,l.newVersion,aa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kG=["get","getKey","getAll","getAllKeys","count"],AG=["put","add","delete","clear"],cw=new Map;function Bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cw.get(e))return cw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kG.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return cw.set(e,s),s}EG(t=>({...t,get:(e,n,r)=>Bk(e,n)||t.get(e,n,r),has:(e,n)=>!!Bk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H_="@firebase/app",Uk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new QE("@firebase/app"),MG="@firebase/app-compat",RG="@firebase/analytics-compat",xG="@firebase/analytics",DG="@firebase/app-check-compat",OG="@firebase/app-check",PG="@firebase/auth",LG="@firebase/auth-compat",$G="@firebase/database",BG="@firebase/data-connect",UG="@firebase/database-compat",FG="@firebase/functions",jG="@firebase/functions-compat",zG="@firebase/installations",WG="@firebase/installations-compat",VG="@firebase/messaging",HG="@firebase/messaging-compat",GG="@firebase/performance",qG="@firebase/performance-compat",KG="@firebase/remote-config",YG="@firebase/remote-config-compat",QG="@firebase/storage",JG="@firebase/storage-compat",ZG="@firebase/firestore",XG="@firebase/vertexai-preview",eq="@firebase/firestore-compat",tq="firebase",nq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="[DEFAULT]",rq={[H_]:"fire-core",[MG]:"fire-core-compat",[xG]:"fire-analytics",[RG]:"fire-analytics-compat",[OG]:"fire-app-check",[DG]:"fire-app-check-compat",[PG]:"fire-auth",[LG]:"fire-auth-compat",[$G]:"fire-rtdb",[BG]:"fire-data-connect",[UG]:"fire-rtdb-compat",[FG]:"fire-fn",[jG]:"fire-fn-compat",[zG]:"fire-iid",[WG]:"fire-iid-compat",[VG]:"fire-fcm",[HG]:"fire-fcm-compat",[GG]:"fire-perf",[qG]:"fire-perf-compat",[KG]:"fire-rc",[YG]:"fire-rc-compat",[QG]:"fire-gcs",[JG]:"fire-gcs-compat",[ZG]:"fire-fst",[eq]:"fire-fst-compat",[XG]:"fire-vertex","fire-js":"fire-js",[tq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map,iq=new Map,q_=new Map;function Fk(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(q_.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;q_.set(e,t);for(const n of Gm.values())Fk(n,t);for(const n of iq.values())Fk(n,t);return!0}function qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new _y("app","Firebase",sq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=nq;function F2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:G_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(n||(n=x2()),!n)throw la.create("no-options");const s=Gm.get(i);if(s){if(Hm(n,s.options)&&Hm(r,s.config))return s;throw la.create("duplicate-app",{appName:i})}const o=new hG(i);for(const l of q_.values())o.addComponent(l);const a=new oq(n,r,o);return Gm.set(i,a),a}function j2(t=G_){const e=Gm.get(t);if(!e&&t===G_&&x2())return F2();if(!e)throw la.create("no-app",{appName:t});return e}function xs(t,e,n){var r;let i=(r=rq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}pa(new _o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="firebase-heartbeat-database",cq=1,Sf="firebase-heartbeat-store";let uw=null;function z2(){return uw||(uw=U2(lq,cq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sf)}catch(n){console.warn(n)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),uw}async function uq(t){try{const n=(await z2()).transaction(Sf),r=await n.objectStore(Sf).get(W2(t));return await n.done,r}catch(e){if(e instanceof Nl)So.warn(e.message);else{const n=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function jk(t,e){try{const r=(await z2()).transaction(Sf,"readwrite");await r.objectStore(Sf).put(e,W2(t)),await r.done}catch(n){if(n instanceof Nl)So.warn(n.message);else{const r=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function W2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=1024,fq=30*24*60*60*1e3;class hq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){So.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zk(),{heartbeatsToSend:r,unsentEntries:i}=pq(this._heartbeatsCache.heartbeats),s=Wm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return So.warn(n),""}}}function zk(){return new Date().toISOString().substring(0,10)}function pq(t,e=dq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?P2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wk(t){return Wm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){pa(new _o("platform-logger",e=>new CG(e),"PRIVATE")),pa(new _o("heartbeat",e=>new hq(e),"PRIVATE")),xs(H_,Uk,t),xs(H_,Uk,"esm2017"),xs("fire-js","")}gq("");var yq="firebase",wq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(yq,wq,"app");var Vk={};const Hk="@firebase/database",Gk="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V2="";function vq(t){V2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_f(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Io(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _q(e)}}catch{}return new Sq},Ja=H2("localStorage"),bq=H2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new QE("@firebase/database"),Eq=function(){let t=1;return function(){return t++}}(),G2=function(t){const e=sG(t),n=new rG;n.update(e);const r=n.digest();return KE.encodeByteArray(r)},Kf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Kf.apply(null,r):typeof r=="object"?e+=sr(r):e+=r,e+=" "}return e};let Od=null,qk=!0;const Tq=function(t,e){fe(!0,"Can't turn on custom loggers persistently."),Rc.logLevel=Et.VERBOSE,Od=Rc.log.bind(Rc)},_r=function(...t){if(qk===!0&&(qk=!1,Od===null&&bq.get("logging_enabled")===!0&&Tq()),Od){const e=Kf.apply(null,t);Od(e)}},Yf=function(t){return function(...e){_r(t,...e)}},K_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kf(...t);Rc.error(e)},bo=function(...t){const e=`FIREBASE FATAL ERROR: ${Kf(...t)}`;throw Rc.error(e),new Error(e)},pi=function(...t){const e="FIREBASE WARNING: "+Kf(...t);Rc.warn(e)},Iq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},q2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},du="[MIN_NAME]",ml="[MAX_NAME]",Cu=function(t,e){if(t===e)return 0;if(t===du||e===ml)return-1;if(e===du||t===ml)return 1;{const n=Kk(t),r=Kk(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Aq=function(t,e){return t===e?0:t<e?-1:1},Vu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+sr(e))},ZE=function(t){if(typeof t!="object"||t===null)return sr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=sr(e[r]),n+=":",n+=ZE(t[e[r]]);return n+="}",n},K2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ui(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Y2=function(t){fe(!q2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Cq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Nq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Mq=new RegExp("^-?(0*)\\d{1,10}$"),Rq=-2147483648,xq=2147483647,Kk=function(t){if(Mq.test(t)){const e=Number(t);if(e>=Rq&&e<=xq)return e}return null},Qf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pi("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pi(e)}}class Pp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="5",Q2="v",J2="s",Z2="r",X2="f",eP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tP="ls",nP="p",Y_="ac",rP="websocket",iP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ja.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ja.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Lq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oP(t,e,n){fe(typeof e=="string","typeof type must == string"),fe(typeof n=="object","typeof params must == object");let r;if(e===rP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Lq(t)&&(n.ns=t.namespace);const i=[];return Ui(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(){this.counters_={}}incrementCounter(e,n=1){Io(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $H(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={},fw={};function e1(t){const e=t.toString();return dw[e]||(dw[e]=new $q),dw[e]}function Bq(t,e){const n=t.toString();return fw[n]||(fw[n]=e()),fw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="start",Fq="close",jq="pLPCommand",zq="pRTLPCB",aP="id",lP="pw",cP="ser",Wq="cb",Vq="seg",Hq="ts",Gq="d",qq="dframe",uP=1870,dP=30,Kq=uP-dP,Yq=25e3,Qq=3e4;class gc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yf(e),this.stats_=e1(n),this.urlFn=l=>(this.appCheckToken&&(l[Y_]=this.appCheckToken),oP(n,iP,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Qq)),kq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new t1((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Yk)this.id=a,this.password=l;else if(o===Fq)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Yk]="t",r[cP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Wq]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Q2]=XE,this.transportSessionId&&(r[J2]=this.transportSessionId),this.lastSessionId&&(r[tP]=this.lastSessionId),this.applicationId&&(r[nP]=this.applicationId),this.appCheckToken&&(r[Y_]=this.appCheckToken),typeof location<"u"&&location.hostname&&eP.test(location.hostname)&&(r[Z2]=X2);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gc.forceAllow_=!0}static forceDisallow(){gc.forceDisallow_=!0}static isAvailable(){return gc.forceAllow_?!0:!gc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Cq()&&!Nq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N2(n),i=K2(r,Kq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[qq]="t",r[aP]=e,r[lP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=sr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class t1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Eq(),window[jq+this.uniqueCallbackIdentifier]=e,window[zq+this.uniqueCallbackIdentifier]=n,this.myIFrame=t1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_r("frame writing exception"),a.stack&&_r(a.stack),_r(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_r("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aP]=this.myID,e[lP]=this.myPW,e[cP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dP+r.length<=uP;){const o=this.pendingSegs.shift();r=r+"&"+Vq+i+"="+o.seg+"&"+Hq+i+"="+o.ts+"&"+Gq+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Yq)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=16384,Zq=45e3;let qm=null;typeof MozWebSocket<"u"?qm=MozWebSocket:typeof WebSocket<"u"&&(qm=WebSocket);class Ji{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yf(this.connId),this.stats_=e1(n),this.connURL=Ji.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Q2]=XE,typeof location<"u"&&location.hostname&&eP.test(location.hostname)&&(o[Z2]=X2),n&&(o[J2]=n),r&&(o[tP]=r),i&&(o[Y_]=i),s&&(o[nP]=s),oP(e,rP,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ja.set("previous_websocket_failure",!0);try{let r;YH(),this.mySock=new qm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&qm!==null&&!Ji.forceDisallow_}static previouslyFailed(){return Ja.isInMemoryStorage||Ja.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ja.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=_f(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=K2(n,Jq);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ji.responsesRequiredToBeHealthy=2;Ji.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gc,Ji]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ji&&Ji.isAvailable();let r=n&&!Ji.previouslyFailed();if(e.webSocketOnly&&(n||pi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ji];else{const i=this.transports_=[];for(const s of bf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);bf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=6e4,eK=5e3,tK=10*1024,nK=100*1024,hw="t",Qk="d",rK="s",Jk="r",iK="e",Zk="o",Xk="a",eA="n",tA="p",sK="h";class oK{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yf("c:"+this.id+":"),this.transportManager_=new bf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nK?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tK?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(hw in e){const n=e[hw];n===Xk?this.upgradeIfSecondaryHealthy_():n===Jk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vu("t",e),r=Vu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xk,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vu("t",e),r=Vu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vu(hw,e);if(Qk in e){const r=e[Qk];if(n===sK){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===eA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rK?this.onConnectionShutdown_(r):n===Jk?this.onReset_(r):n===iK?K_("Server Error: "+r):n===Zk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):K_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),XE!==r&&pi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eK))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tA,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends hP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!D2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Km}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=32,rA=768;class Pt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function yt(){return new Pt("")}function Ze(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ma(t){return t.pieces_.length-t.pieceNum_}function Mt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pt(t.pieces_,e)}function pP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aK(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Pt(e,0)}function Qn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Pt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Pt(n,0)}function Ke(t){return t.pieceNum_>=t.pieces_.length}function Ri(t,e){const n=Ze(t),r=Ze(e);if(n===null)return e;if(n===r)return Ri(Mt(t),Mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yP(t,e){if(ma(t)!==ma(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function es(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ma(t)>ma(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class lK{constructor(e,n){this.errorPrefix_=n,this.parts_=mP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sy(this.parts_[r]);wP(this)}}function cK(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sy(e),wP(t)}function uK(t){const e=t.parts_.pop();t.byteLength_-=Sy(e),t.parts_.length>0&&(t.byteLength_-=1)}function wP(t){if(t.byteLength_>rA)throw new Error(t.errorPrefix_+"has a key path longer than "+rA+" bytes ("+t.byteLength_+").");if(t.parts_.length>nA)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nA+") or object contains a cycle "+xa(t))}function xa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends hP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new n1}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=1e3,dK=60*5*1e3,iA=30*1e3,fK=1.3,hK=3e4,pK="server_kill",sA=3;class fo extends fP{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=fo.nextPersistentConnectionId_++,this.log_=Yf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hu,this.maxReconnectDelay_=dK,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");n1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Km.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(sr(s)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new YE,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;fo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Io(e,"w")){const r=uu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();pi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tG(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iA)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=eG(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+sr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):K_("Unrecognized action received from server: "+sr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hK&&(this.reconnectDelay_=Hu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fK)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?_r("getToken() completed but was canceled"):(_r("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new oK(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{pi(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(pK)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&pi(d),l())}}}interrupt(e){_r("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_r("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Dk(this.interruptReasons_)&&(this.reconnectDelay_=Hu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ZE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Pt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){_r("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sA&&(this.reconnectDelay_=iA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_r("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+V2.replace(/\./g,"-")]=1,D2()?e["framework.cordova"]=1:KH()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Km.getInstance().currentlyOnline();return Dk(this.interruptReasons_)&&e}}fo.nextPersistentConnectionId_=0;fo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Xe(du,e),i=new Xe(du,n);return this.compare(r,i)!==0}minPost(){return Xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh;class vP extends Ey{static get __EMPTY_NODE(){return Lh}static set __EMPTY_NODE(e){Lh=e}compare(e,n){return Cu(e.name,n.name)}isDefinedOn(e){throw Au("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Xe.MIN}maxPost(){return new Xe(ml,Lh)}makePost(e,n){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Xe(e,Lh)}toString(){return".key"}}const xc=new vP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qn.RED,this.left=i??Yr.EMPTY_NODE,this.right=s??Yr.EMPTY_NODE}copy(e,n,r,i,s){return new qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Yr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qn.RED=!0;qn.BLACK=!1;class mK{copy(e,n,r,i,s){return this}insert(e,n,r){return new qn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Yr{constructor(e,n=Yr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Yr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(e){return new Yr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $h(this.root_,null,this.comparator_,!0,e)}}Yr.EMPTY_NODE=new mK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t,e){return Cu(t.name,e.name)}function r1(t,e){return Cu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_;function yK(t){Q_=t}const _P=function(t){return typeof t=="number"?"number:"+Y2(t):"string:"+t},SP=function(t){if(t.isLeafNode()){const e=t.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Io(e,".sv"),"Priority must be a string or number.")}else fe(t===Q_||t.isEmpty(),"priority of unexpected type.");fe(t===Q_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA;class Vn{constructor(e,n=Vn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SP(this.priorityNode_)}static set __childrenNodeConstructor(e){oA=e}static get __childrenNodeConstructor(){return oA}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ke(e)?this:Ze(e)===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Vn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ze(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(fe(r!==".priority"||ma(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_P(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Y2(this.value_):e+=this.value_,this.lazyHash_=G2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vn.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Vn.VALUE_TYPE_ORDER.indexOf(n),s=Vn.VALUE_TYPE_ORDER.indexOf(r);return fe(i>=0,"Unknown leaf type: "+n),fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bP,EP;function wK(t){bP=t}function vK(t){EP=t}class _K extends Ey{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Cu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Xe.MIN}maxPost(){return new Xe(ml,new Vn("[PRIORITY-POST]",EP))}makePost(e,n){const r=bP(e);return new Xe(n,new Vn("[PRIORITY-POST]",r))}toString(){return".priority"}}const br=new _K;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=Math.log(2);class bK{constructor(e){const n=s=>parseInt(Math.log(s)/SK,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ym=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new qn(f,d.node,qn.BLACK,null,null);{const h=parseInt(u/2,10)+l,w=i(l,h),T=i(h+1,c);return d=t[h],f=n?n(d):d,new qn(f,d.node,qn.BLACK,w,T)}},s=function(l){let c=null,u=null,d=t.length;const f=function(w,T){const A=d-w,S=d;d-=w;const y=i(A+1,S),b=t[A],C=n?n(b):b;h(new qn(C,b.node,T,null,y))},h=function(w){c?(c.left=w,c=w):(u=w,c=w)};for(let w=0;w<l.count;++w){const T=l.nextBitIsOne(),A=Math.pow(2,l.count-(w+1));T?f(A,qn.BLACK):(f(A,qn.BLACK),f(A,qn.RED))}return u},o=new bK(t.length),a=s(o);return new Yr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pw;const Ul={};class co{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return fe(Ul&&br,"ChildrenNode.ts has not been loaded"),pw=pw||new co({".priority":Ul},{".priority":br}),pw}get(e){const n=uu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Yr?n:null}hasIndex(e){return Io(this.indexSet_,e.toString())}addIndex(e,n){fe(e!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Xe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ym(r,e.getCompare()):a=Ul;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new co(u,c)}addToIndexes(e,n){const r=Vm(this.indexes_,(i,s)=>{const o=uu(this.indexSet_,s);if(fe(o,"Missing index implementation for "+s),i===Ul)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Xe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ym(a,o.getCompare())}else return Ul;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Xe(e.name,a))),l.insert(e,e.node)}});return new co(r,this.indexSet_)}removeFromIndexes(e,n){const r=Vm(this.indexes_,i=>{if(i===Ul)return i;{const s=n.get(e.name);return s?i.remove(new Xe(e.name,s)):i}});return new co(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu;class lt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SP(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gu||(Gu=new lt(new Yr(r1),null,co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gu}updatePriority(e){return this.children_.isEmpty()?this:new lt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gu:n}}getChild(e){const n=Ze(e);return n===null?this:this.getImmediateChild(n).getChild(Mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Xe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Gu:this.priorityNode_;return new lt(i,o,s)}}updateChild(e,n){const r=Ze(e);if(r===null)return n;{fe(Ze(e)!==".priority"||ma(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Mt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(br,(o,a)=>{n[o]=a.val(e),r++,s&&lt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_P(this.getPriority().val())+":"),this.forEachChild(br,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":G2(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Xe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Xe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jf?-1:0}withIndex(e){if(e===xc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new lt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(br),i=n.getIterator(br);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===xc?null:this.indexMap_.get(e.toString())}}lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class EK extends lt{constructor(){super(new Yr(r1),lt.EMPTY_NODE,co.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return lt.EMPTY_NODE}isEmpty(){return!1}}const Jf=new EK;Object.defineProperties(Xe,{MIN:{value:new Xe(du,lt.EMPTY_NODE)},MAX:{value:new Xe(ml,Jf)}});vP.__EMPTY_NODE=lt.EMPTY_NODE;Vn.__childrenNodeConstructor=lt;yK(Jf);vK(Jf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=!0;function Sr(t,e=null){if(t===null)return lt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Vn(n,Sr(e))}if(!(t instanceof Array)&&TK){const n=[];let r=!1;if(Ui(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Sr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Xe(o,l)))}}),n.length===0)return lt.EMPTY_NODE;const s=Ym(n,gK,o=>o.name,r1);if(r){const o=Ym(n,br.getCompare());return new lt(s,Sr(e),new co({".priority":o},{".priority":br}))}else return new lt(s,Sr(e),co.Default)}else{let n=lt.EMPTY_NODE;return Ui(t,(r,i)=>{if(Io(t,r)&&r.substring(0,1)!=="."){const s=Sr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Sr(e))}}wK(Sr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK extends Ey{constructor(e){super(),this.indexPath_=e,fe(!Ke(e)&&Ze(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Cu(e.name,n.name):s}makePost(e,n){const r=Sr(e),i=lt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Xe(n,i)}maxPost(){const e=lt.EMPTY_NODE.updateChild(this.indexPath_,Jf);return new Xe(ml,e)}toString(){return mP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK extends Ey{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Cu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Xe.MIN}maxPost(){return Xe.MAX}makePost(e,n){const r=Sr(e);return new Xe(n,r)}toString(){return".value"}}const AK=new kK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){return{type:"value",snapshotNode:t}}function NK(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function MK(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function aA(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function RK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=br}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:du}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ml}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===br}copy(){const e=new i1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===br?n="$priority":t.index_===AK?n="$value":t.index_===xc?n="$key":(fe(t.index_ instanceof IK,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=sr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=sr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+sr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=sr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+sr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function cA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==br&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends fP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Qm.getListenId_(e,r),a={};this.listens_[o]=a;const l=lA(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),uu(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Qm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=lA(e._queryParams),r=e._path.toString(),i=new YE;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nG(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_f(a.responseText)}catch{pi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(){this.rootNode_=lt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return{value:null,children:new Map}}function TP(t,e,n){if(Ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ze(e);t.children.has(r)||t.children.set(r,Jm());const i=t.children.get(r);e=Mt(e),TP(i,e,n)}}function J_(t,e,n){t.value!==null?n(e,t.value):DK(t,(r,i)=>{const s=new Pt(e.toString()+"/"+r);J_(i,s,n)})}function DK(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ui(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=10*1e3,PK=30*1e3,LK=5*60*1e3;class $K{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new OK(e);const r=uA+(PK-uA)*Math.random();Pd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ui(e,(i,s)=>{s>0&&Io(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pd(this.reportStats_.bind(this),Math.floor(Math.random()*2*LK))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(As||(As={}));function IP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=As.ACK_USER_WRITE,this.source=IP()}operationForChild(e){if(Ke(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pt(e));return new Zm(yt(),n,this.revert)}}else return fe(Ze(this.path)===e,"operationForChild called for unrelated child."),new Zm(Mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=As.OVERWRITE}operationForChild(e){return Ke(this.path)?new gl(this.source,yt(),this.snap.getImmediateChild(e)):new gl(this.source,Mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=As.MERGE}operationForChild(e){if(Ke(this.path)){const n=this.children.subtree(new Pt(e));return n.isEmpty()?null:n.value?new gl(this.source,yt(),n.value):new Ef(this.source,yt(),n)}else return fe(Ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ef(this.source,Mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ze(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function BK(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(RK(o.childName,o.snapshotNode))}),qu(t,i,"child_removed",e,r,n),qu(t,i,"child_added",e,r,n),qu(t,i,"child_moved",s,r,n),qu(t,i,"child_changed",e,r,n),qu(t,i,"value",e,r,n),i}function qu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>FK(t,a,l)),o.forEach(a=>{const l=UK(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function UK(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FK(t,e,n){if(e.childName==null||n.childName==null)throw Au("Should only compare child_ events.");const r=new Xe(e.childName,e.snapshotNode),i=new Xe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){return{eventCache:t,serverCache:e}}function Ld(t,e,n,r){return CP(new s1(e,n,r),t.serverCache)}function NP(t,e,n,r){return CP(t.eventCache,new s1(e,n,r))}function Z_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw;const jK=()=>(mw||(mw=new Yr(Aq)),mw);class Ct{constructor(e,n=jK()){this.value=e,this.children=n}static fromObject(e){let n=new Ct(null);return Ui(e,(r,i)=>{n=n.set(new Pt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:yt(),value:this.value};if(Ke(e))return null;{const r=Ze(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Mt(e),n);return s!=null?{path:Qn(new Pt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ke(e))return this;{const n=Ze(e),r=this.children.get(n);return r!==null?r.subtree(Mt(e)):new Ct(null)}}set(e,n){if(Ke(e))return new Ct(n,this.children);{const r=Ze(e),s=(this.children.get(r)||new Ct(null)).set(Mt(e),n),o=this.children.insert(r,s);return new Ct(this.value,o)}}remove(e){if(Ke(e))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const n=Ze(e),r=this.children.get(n);if(r){const i=r.remove(Mt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ct(null):new Ct(this.value,s)}else return this}}get(e){if(Ke(e))return this.value;{const n=Ze(e),r=this.children.get(n);return r?r.get(Mt(e)):null}}setTree(e,n){if(Ke(e))return n;{const r=Ze(e),s=(this.children.get(r)||new Ct(null)).setTree(Mt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ct(this.value,o)}}fold(e){return this.fold_(yt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Qn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,yt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ke(e))return null;{const s=Ze(e),o=this.children.get(s);return o?o.findOnPath_(Mt(e),Qn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,yt(),n)}foreachOnPath_(e,n,r){if(Ke(e))return this;{this.value&&r(n,this.value);const i=Ze(e),s=this.children.get(i);return s?s.foreachOnPath_(Mt(e),Qn(n,i),r):new Ct(null)}}foreach(e){this.foreach_(yt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Qn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.writeTree_=e}static empty(){return new os(new Ct(null))}}function $d(t,e,n){if(Ke(e))return new os(new Ct(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ri(i,e);return s=s.updateChild(o,n),new os(t.writeTree_.set(i,s))}else{const i=new Ct(n),s=t.writeTree_.setTree(e,i);return new os(s)}}}function dA(t,e,n){let r=t;return Ui(n,(i,s)=>{r=$d(r,Qn(e,i),s)}),r}function fA(t,e){if(Ke(e))return os.empty();{const n=t.writeTree_.setTree(e,new Ct(null));return new os(n)}}function X_(t,e){return Ml(t,e)!=null}function Ml(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ri(n.path,e)):null}function hA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(br,(r,i)=>{e.push(new Xe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Xe(r,i.value))}),e}function ca(t,e){if(Ke(e))return t;{const n=Ml(t,e);return n!=null?new os(new Ct(n)):new os(t.writeTree_.subtree(e))}}function eS(t){return t.writeTree_.isEmpty()}function fu(t,e){return MP(yt(),t.writeTree_,e)}function MP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=MP(Qn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Qn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){return LP(e,t)}function zK(t,e,n,r,i){fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$d(t.visibleWrites,e,n)),t.lastWriteId=r}function WK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function VK(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&HK(a,r.path)?i=!1:es(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return GK(t),!0;if(r.snap)t.visibleWrites=fA(t.visibleWrites,r.path);else{const a=r.children;Ui(a,l=>{t.visibleWrites=fA(t.visibleWrites,Qn(r.path,l))})}return!0}else return!1}function HK(t,e){if(t.snap)return es(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&es(Qn(t.path,n),e))return!0;return!1}function GK(t){t.visibleWrites=xP(t.allWrites,qK,yt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qK(t){return t.visible}function xP(t,e,n){let r=os.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)es(n,o)?(a=Ri(n,o),r=$d(r,a,s.snap)):es(o,n)&&(a=Ri(o,n),r=$d(r,yt(),s.snap.getChild(a)));else if(s.children){if(es(n,o))a=Ri(n,o),r=dA(r,a,s.children);else if(es(o,n))if(a=Ri(o,n),Ke(a))r=dA(r,yt(),s.children);else{const l=uu(s.children,Ze(a));if(l){const c=l.getChild(Mt(a));r=$d(r,yt(),c)}}}else throw Au("WriteRecord should have .snap or .children")}}return r}function DP(t,e,n,r,i){if(!r&&!i){const s=Ml(t.visibleWrites,e);if(s!=null)return s;{const o=ca(t.visibleWrites,e);if(eS(o))return n;if(n==null&&!X_(o,yt()))return null;{const a=n||lt.EMPTY_NODE;return fu(o,a)}}}else{const s=ca(t.visibleWrites,e);if(!i&&eS(s))return n;if(!i&&n==null&&!X_(s,yt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(es(c.path,e)||es(e,c.path))},a=xP(t.allWrites,o,e),l=n||lt.EMPTY_NODE;return fu(a,l)}}}function KK(t,e,n){let r=lt.EMPTY_NODE;const i=Ml(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(br,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ca(t.visibleWrites,e);return n.forEachChild(br,(o,a)=>{const l=fu(ca(s,new Pt(o)),a);r=r.updateImmediateChild(o,l)}),hA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ca(t.visibleWrites,e);return hA(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function YK(t,e,n,r,i){fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qn(e,n);if(X_(t.visibleWrites,s))return null;{const o=ca(t.visibleWrites,s);return eS(o)?i.getChild(n):fu(o,i.getChild(n))}}function QK(t,e,n,r){const i=Qn(e,n),s=Ml(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ca(t.visibleWrites,i);return fu(o,r.getNode().getImmediateChild(n))}else return null}function JK(t,e){return Ml(t.visibleWrites,e)}function ZK(t,e,n,r,i,s,o){let a;const l=ca(t.visibleWrites,e),c=Ml(l,yt());if(c!=null)a=c;else if(n!=null)a=fu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function XK(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}function tS(t,e,n,r){return DP(t.writeTree,t.treePath,e,n,r)}function OP(t,e){return KK(t.writeTree,t.treePath,e)}function pA(t,e,n,r){return YK(t.writeTree,t.treePath,e,n,r)}function Xm(t,e){return JK(t.writeTree,Qn(t.treePath,e))}function eY(t,e,n,r,i,s){return ZK(t.writeTree,t.treePath,e,n,r,i,s)}function o1(t,e,n){return QK(t.writeTree,t.treePath,e,n)}function PP(t,e){return LP(Qn(t.treePath,e),t.writeTree)}function LP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,aA(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,MK(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,NK(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,aA(r,e.snapshotNode,i.oldSnap));else throw Au("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $P=new nY;class a1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new s1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return o1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yl(this.viewCache_),s=eY(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function rY(t,e){fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iY(t,e,n,r,i){const s=new tY;let o,a;if(n.type===As.OVERWRITE){const c=n;c.source.fromUser?o=nS(t,e,c.path,c.snap,r,i,s):(fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ke(c.path),o=eg(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===As.MERGE){const c=n;c.source.fromUser?o=oY(t,e,c.path,c.children,r,i,s):(fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=rS(t,e,c.path,c.children,r,i,a,s))}else if(n.type===As.ACK_USER_WRITE){const c=n;c.revert?o=cY(t,e,c.path,r,i,s):o=aY(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===As.LISTEN_COMPLETE)o=lY(t,e,n.path,r,s);else throw Au("Unknown operation type: "+n.type);const l=s.getChanges();return sY(e,o,l),{viewCache:o,changes:l}}function sY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Z_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(CK(Z_(e)))}}function BP(t,e,n,r,i,s){const o=e.eventCache;if(Xm(r,n)!=null)return e;{let a,l;if(Ke(n))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=yl(e),u=c instanceof lt?c:lt.EMPTY_NODE,d=OP(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=tS(r,yl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ze(n);if(c===".priority"){fe(ma(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=pA(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Mt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=pA(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=o1(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ld(e,a,o.isFullyInitialized()||Ke(n),t.filter.filtersNodes())}}function eg(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Ke(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=Ze(n);if(!l.isCompleteForPath(n)&&ma(n)>1)return e;const w=Mt(n),A=l.getNode().getImmediateChild(h).updateChild(w,r);h===".priority"?c=u.updatePriority(l.getNode(),A):c=u.updateChild(l.getNode(),h,A,w,$P,null)}const d=NP(e,c,l.isFullyInitialized()||Ke(n),u.filtersNodes()),f=new a1(i,d,s);return BP(t,d,n,i,f,a)}function nS(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new a1(i,e,s);if(Ke(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ld(e,c,!0,t.filter.filtersNodes());else{const d=Ze(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ld(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Mt(n),h=a.getNode().getImmediateChild(d);let w;if(Ke(f))w=r;else{const T=u.getCompleteChild(d);T!=null?pP(f)===".priority"&&T.getChild(gP(f)).isEmpty()?w=T:w=T.updateChild(f,r):w=lt.EMPTY_NODE}if(h.equals(w))l=e;else{const T=t.filter.updateChild(a.getNode(),d,w,f,u,o);l=Ld(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function mA(t,e){return t.eventCache.isCompleteForChild(e)}function oY(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Qn(n,l);mA(e,Ze(u))&&(a=nS(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Qn(n,l);mA(e,Ze(u))||(a=nS(t,a,u,c,i,s,o))}),a}function gA(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function rS(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ke(n)?c=r:c=new Ct(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),w=gA(t,h,f);l=eg(t,l,new Pt(d),w,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const w=e.serverCache.getNode().getImmediateChild(d),T=gA(t,w,f);l=eg(t,l,new Pt(d),T,i,s,o,a)}}),l}function aY(t,e,n,r,i,s,o){if(Xm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ke(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return eg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ke(n)){let c=new Ct(null);return l.getNode().forEachChild(xc,(u,d)=>{c=c.set(new Pt(u),d)}),rS(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ct(null);return r.foreach((u,d)=>{const f=Qn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),rS(t,e,n,c,i,s,a,o)}}function lY(t,e,n,r,i){const s=e.serverCache,o=NP(e,s.getNode(),s.isFullyInitialized()||Ke(n),s.isFiltered());return BP(t,o,n,r,$P,i)}function cY(t,e,n,r,i,s){let o;if(Xm(r,n)!=null)return e;{const a=new a1(r,e,i),l=e.eventCache.getNode();let c;if(Ke(n)||Ze(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=tS(r,yl(e));else{const d=e.serverCache.getNode();fe(d instanceof lt,"serverChildren would be complete if leaf node"),u=OP(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Ze(n);let d=o1(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Mt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,lt.EMPTY_NODE,Mt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=tS(r,yl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Xm(r,yt())!=null,Ld(e,c,o,t.filter.filtersNodes())}}function uY(t,e){const n=yl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ke(e)&&!n.getImmediateChild(Ze(e)).isEmpty())?n.getChild(e):null}function yA(t,e,n,r){e.type===As.MERGE&&e.source.queryId!==null&&(fe(yl(t.viewCache_),"We should always have a full cache before handling merges"),fe(Z_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=iY(t.processor_,i,e,n,r);return rY(t.processor_,s.viewCache),fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,dY(t,s.changes,s.viewCache.eventCache.getNode())}function dY(t,e,n,r){const i=t.eventRegistrations_;return BK(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wA;function fY(t){fe(!wA,"__referenceConstructor has already been defined"),wA=t}function l1(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return fe(s!=null,"SyncTree gave us an op for an invalid query."),yA(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(yA(o,e,n,r));return s}}function c1(t,e){let n=null;for(const r of t.views.values())n=n||uY(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vA;function hY(t){fe(!vA,"__referenceConstructor has already been defined"),vA=t}class _A{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=XK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pY(t,e,n,r,i){return zK(t.pendingWriteTree_,e,n,r,i),i?Iy(t,new gl(IP(),e,n)):[]}function yc(t,e,n=!1){const r=WK(t.pendingWriteTree_,e);if(VK(t.pendingWriteTree_,e)){let s=new Ct(null);return r.snap!=null?s=s.set(yt(),!0):Ui(r.children,o=>{s=s.set(new Pt(o),!0)}),Iy(t,new Zm(r.path,s,n))}else return[]}function Ty(t,e,n){return Iy(t,new gl(kP(),e,n))}function mY(t,e,n){const r=Ct.fromObject(n);return Iy(t,new Ef(kP(),e,r))}function gY(t,e,n,r){const i=zP(t,r);if(i!=null){const s=WP(i),o=s.path,a=s.queryId,l=Ri(o,e),c=new gl(AP(a),l,n);return VP(t,o,c)}else return[]}function yY(t,e,n,r){const i=zP(t,r);if(i){const s=WP(i),o=s.path,a=s.queryId,l=Ri(o,e),c=Ct.fromObject(n),u=new Ef(AP(a),l,c);return VP(t,o,u)}else return[]}function UP(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ri(o,e),c=c1(a,l);if(c)return c});return DP(i,e,s,n,!0)}function Iy(t,e){return FP(e,t.syncPointTree_,null,RP(t.pendingWriteTree_,yt()))}function FP(t,e,n,r){if(Ke(t.path))return jP(t,e,n,r);{const i=e.get(yt());n==null&&i!=null&&(n=c1(i,yt()));let s=[];const o=Ze(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=PP(r,o);s=s.concat(FP(a,l,c,u))}return i&&(s=s.concat(l1(i,t,r,n))),s}}function jP(t,e,n,r){const i=e.get(yt());n==null&&i!=null&&(n=c1(i,yt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=PP(r,o),u=t.operationForChild(o);u&&(s=s.concat(jP(u,a,l,c)))}),i&&(s=s.concat(l1(i,t,r,n))),s}function zP(t,e){return t.tagToQueryMap.get(e)}function WP(t){const e=t.indexOf("$");return fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pt(t.substr(0,e))}}function VP(t,e,n){const r=t.syncPointTree_.get(e);fe(r,"Missing sync point for query tag that we're tracking");const i=RP(t.pendingWriteTree_,e);return l1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new u1(n)}node(){return this.node_}}class d1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Qn(this.path_,e);return new d1(this.syncTree_,n)}node(){return UP(this.syncTree_,this.path_)}}const wY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SA=function(t,e,n){if(!t||typeof t!="object")return t;if(fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _Y(t[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:fe(!1,"Unexpected server value: "+t)}},_Y=function(t,e,n){t.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&fe(!1,"Unexpected increment value: "+r);const i=e.node();if(fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},SY=function(t,e,n,r){return f1(e,new d1(n,t),r)},bY=function(t,e,n){return f1(t,new u1(e),n)};function f1(t,e,n){const r=t.getPriority().val(),i=SA(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=SA(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Vn(a,Sr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Vn(i))),o.forEachChild(br,(a,l)=>{const c=f1(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function p1(t,e){let n=e instanceof Pt?e:new Pt(e),r=t,i=Ze(n);for(;i!==null;){const s=uu(r.node.children,i)||{children:{},childCount:0};r=new h1(i,r,s),n=Mt(n),i=Ze(n)}return r}function Nu(t){return t.node.value}function HP(t,e){t.node.value=e,iS(t)}function GP(t){return t.node.childCount>0}function EY(t){return Nu(t)===void 0&&!GP(t)}function ky(t,e){Ui(t.node.children,(n,r)=>{e(new h1(n,t,r))})}function qP(t,e,n,r){n&&e(t),ky(t,i=>{qP(i,e,!0)})}function TY(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zf(t){return new Pt(t.parent===null?t.name:Zf(t.parent)+"/"+t.name)}function iS(t){t.parent!==null&&IY(t.parent,t.name,t)}function IY(t,e,n){const r=EY(n),i=Io(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,iS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,iS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=/[\[\].#$\/\u0000-\u001F\u007F]/,AY=/[\[\].#$\u0000-\u001F\u007F]/,gw=10*1024*1024,KP=function(t){return typeof t=="string"&&t.length!==0&&!kY.test(t)},CY=function(t){return typeof t=="string"&&t.length!==0&&!AY.test(t)},NY=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CY(t)},YP=function(t,e,n){const r=n instanceof Pt?new lK(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xa(r));if(typeof e=="function")throw new Error(t+"contains a function "+xa(r)+" with contents = "+e.toString());if(q2(e))throw new Error(t+"contains "+e.toString()+" "+xa(r));if(typeof e=="string"&&e.length>gw/3&&Sy(e)>gw)throw new Error(t+"contains a string greater than "+gw+" utf8 bytes "+xa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ui(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!KP(o)))throw new Error(t+" contains an invalid key ("+o+") "+xa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cK(r,o),YP(t,a,r),uK(r)}),i&&s)throw new Error(t+' contains ".value" child '+xa(r)+" in addition to actual children.")}},MY=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NY(n))throw new Error(iG(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xY(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!yP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rl(t,e,n){xY(t,n),DY(t,r=>es(r,e)||es(e,r))}function DY(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(OY(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OY(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Od&&_r("event: "+n.toString()),Qf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY="repo_interrupt",LY=25;class $Y{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jm(),this.transactionQueueTree_=new h1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BY(t,e,n){if(t.stats_=e1(t.repoInfo_),t.forceRestClient_||Dq())t.server_=new Qm(t.repoInfo_,(r,i,s,o)=>{bA(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>EA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fo(t.repoInfo_,e,(r,i,s,o)=>{bA(t,r,i,s,o)},r=>{EA(t,r)},r=>{FY(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Bq(t.repoInfo_,()=>new $K(t.stats_,t.server_)),t.infoData_=new xK,t.infoSyncTree_=new _A({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ty(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),m1(t,"connected",!1),t.serverSyncTree_=new _A({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Rl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function UY(t){const n=t.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function QP(t){return wY({timestamp:UY(t)})}function bA(t,e,n,r,i){t.dataUpdateCount++;const s=new Pt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Vm(n,c=>Sr(c));o=yY(t.serverSyncTree_,s,l,i)}else{const l=Sr(n);o=gY(t.serverSyncTree_,s,l,i)}else if(r){const l=Vm(n,c=>Sr(c));o=mY(t.serverSyncTree_,s,l)}else{const l=Sr(n);o=Ty(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=y1(t,s)),Rl(t.eventQueue_,a,o)}function EA(t,e){m1(t,"connected",e),e===!1&&zY(t)}function FY(t,e){Ui(e,(n,r)=>{m1(t,n,r)})}function m1(t,e,n){const r=new Pt("/.info/"+e),i=Sr(n);t.infoData_.updateSnapshot(r,i);const s=Ty(t.infoSyncTree_,r,i);Rl(t.eventQueue_,r,s)}function jY(t){return t.nextWriteId_++}function zY(t){JP(t,"onDisconnectEvents");const e=QP(t),n=Jm();J_(t.onDisconnect_,yt(),(i,s)=>{const o=SY(i,s,t.serverSyncTree_,e);TP(n,i,o)});let r=[];J_(n,yt(),(i,s)=>{r=r.concat(Ty(t.serverSyncTree_,i,s));const o=GY(t,i);y1(t,o)}),t.onDisconnect_=Jm(),Rl(t.eventQueue_,yt(),r)}function WY(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PY)}function JP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_r(n,...e)}function ZP(t,e,n){return UP(t.serverSyncTree_,e,n)||lt.EMPTY_NODE}function g1(t,e=t.transactionQueueTree_){if(e||Ay(t,e),Nu(e)){const n=eL(t,e);fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&VY(t,Zf(e),n)}else GP(e)&&ky(e,n=>{g1(t,n)})}function VY(t,e,n){const r=n.map(c=>c.currentWriteId),i=ZP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];fe(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ri(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{JP(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(yc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ay(t,p1(t.transactionQueueTree_,e)),g1(t,t.transactionQueueTree_),Rl(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Qf(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{pi("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}y1(t,e)}},o)}function y1(t,e){const n=XP(t,e),r=Zf(n),i=eL(t,n);return HY(t,i,r),r}function HY(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ri(n,l.path);let u=!1,d;if(fe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(yc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=LY)u=!0,d="maxretry",i=i.concat(yc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ZP(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){YP("transaction failed: Data returned ",h,l.path);let w=Sr(h);typeof h=="object"&&h!=null&&Io(h,".priority")||(w=w.updatePriority(f.getPriority()));const A=l.currentWriteId,S=QP(t),y=bY(w,f,S);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=y,l.currentWriteId=jY(t),o.splice(o.indexOf(A),1),i=i.concat(pY(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(yc(t.serverSyncTree_,A,!0))}else u=!0,d="nodata",i=i.concat(yc(t.serverSyncTree_,l.currentWriteId,!0))}Rl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ay(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qf(r[a]);g1(t,t.transactionQueueTree_)}function XP(t,e){let n,r=t.transactionQueueTree_;for(n=Ze(e);n!==null&&Nu(r)===void 0;)r=p1(r,n),e=Mt(e),n=Ze(e);return r}function eL(t,e){const n=[];return tL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function tL(t,e,n){const r=Nu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ky(e,i=>{tL(t,i,n)})}function Ay(t,e){const n=Nu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HP(e,n.length>0?n:void 0)}ky(e,r=>{Ay(t,r)})}function GY(t,e){const n=Zf(XP(t,e)),r=p1(t.transactionQueueTree_,e);return TY(r,i=>{yw(t,i)}),yw(t,r),qP(r,i=>{yw(t,i)}),n}function yw(t,e){const n=Nu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?HP(e,void 0):n.length=s+1,Rl(t.eventQueue_,Zf(e),i);for(let o=0;o<r.length;o++)Qf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function KY(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pi(`Invalid query segment '${n}' in query '${t}'`)}return e}const TA=function(t,e){const n=YY(t),r=n.namespace;n.domain==="firebase.com"&&bo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Iq();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Pt(n.pathString)}},YY=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=qY(t.substring(u,d)));const f=KY(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ke(this._path)?null:pP(this._path)}get ref(){return new Mu(this._repo,this._path)}get _queryIdentifier(){const e=cA(this._queryParams),n=ZE(e);return n==="{}"?"default":n}get _queryObject(){return cA(this._queryParams)}isEqual(e){if(e=by(e),!(e instanceof w1))return!1;const n=this._repo===e._repo,r=yP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+aK(this._path)}}class Mu extends w1{constructor(e,n){super(e,n,new i1,!1)}get parent(){const e=gP(this._path);return e===null?null:new Mu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}fY(Mu);hY(Mu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY="FIREBASE_DATABASE_EMULATOR_HOST",sS={};let JY=!1;function ZY(t,e,n,r){t.repoInfo_=new sP(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function XY(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||bo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_r("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=TA(s,i),a=o.repoInfo,l;typeof nD<"u"&&Vk&&(l=Vk[QY]),l?(s=`http://${l}?ns=${a.namespace}`,o=TA(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new Pq(t.name,t.options,e);MY("Invalid Firebase Database URL",o),Ke(o.path)||bo("Database URL must point to the root of a Firebase Database (not including a child path).");const u=tQ(a,t,c,new Oq(t.name,n));return new nQ(u,t)}function eQ(t,e){const n=sS[e];(!n||n[t.key]!==t)&&bo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),WY(t),delete n[t.key]}function tQ(t,e,n,r){let i=sS[e.name];i||(i={},sS[e.name]=i);let s=i[t.toURLString()];return s&&bo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $Y(t,JY,n,r),i[t.toURLString()]=s,s}class nQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BY(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mu(this._repo,yt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bo("Cannot call "+e+" on a deleted database.")}}function rQ(t=j2(),e){const n=qf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=VH("database");r&&iQ(n,...r)}return n}function iQ(t,e,n,r={}){t=by(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&bo("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&bo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pp(Pp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:HH(r.mockUserToken,t.app.options.projectId);s=new Pp(o)}ZY(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sQ(t){vq(aq),pa(new _o("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return XY(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xs(Hk,Gk,t),xs(Hk,Gk,"esm2017")}fo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sQ();const nL="@firebase/installations",v1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e4,iL=`w:${v1}`,sL="FIS_v2",oQ="https://firebaseinstallations.googleapis.com/v1",aQ=60*60*1e3,lQ="installations",cQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wl=new _y(lQ,cQ,uQ);function oL(t){return t instanceof Nl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL({projectId:t}){return`${oQ}/projects/${t}/installations`}function lL(t){return{token:t.token,requestStatus:2,expiresIn:fQ(t.expiresIn),creationTime:Date.now()}}async function cL(t,e){const r=(await e.json()).error;return wl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dQ(t,{refreshToken:e}){const n=uL(t);return n.append("Authorization",hQ(e)),n}async function dL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fQ(t){return Number(t.replace("s","000"))}function hQ(t){return`${sL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pQ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aL(t),i=uL(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:sL,appId:t.appId,sdkVersion:iL},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dL(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lL(c.authToken)}}else throw await cL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=/^[cdef][\w-]{21}$/,oS="";function yQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wQ(t);return gQ.test(n)?n:oS}catch{return oS}}function wQ(t){return mQ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Map;function pL(t,e){const n=Cy(t);mL(n,e),vQ(n,e)}function mL(t,e){const n=hL.get(t);if(n)for(const r of n)r(e)}function vQ(t,e){const n=_Q();n&&n.postMessage({key:t,fid:e}),SQ()}let Za=null;function _Q(){return!Za&&"BroadcastChannel"in self&&(Za=new BroadcastChannel("[Firebase] FID Change"),Za.onmessage=t=>{mL(t.data.key,t.data.fid)}),Za}function SQ(){hL.size===0&&Za&&(Za.close(),Za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ="firebase-installations-database",EQ=1,vl="firebase-installations-store";let ww=null;function _1(){return ww||(ww=U2(bQ,EQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vl)}}})),ww}async function tg(t,e){const n=Cy(t),i=(await _1()).transaction(vl,"readwrite"),s=i.objectStore(vl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&pL(t,e.fid),e}async function gL(t){const e=Cy(t),r=(await _1()).transaction(vl,"readwrite");await r.objectStore(vl).delete(e),await r.done}async function Ny(t,e){const n=Cy(t),i=(await _1()).transaction(vl,"readwrite"),s=i.objectStore(vl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&pL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){let e;const n=await Ny(t.appConfig,r=>{const i=TQ(r),s=IQ(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===oS?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TQ(t){const e=t||{fid:yQ(),registrationStatus:0};return yL(e)}function IQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(wl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AQ(t)}:{installationEntry:e}}async function kQ(t,e){try{const n=await pQ(t,e);return tg(t.appConfig,n)}catch(n){throw oL(n)&&n.customData.serverCode===409?await gL(t.appConfig):await tg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AQ(t){let e=await IA(t.appConfig);for(;e.registrationStatus===1;)await fL(100),e=await IA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await S1(t);return r||n}return e}function IA(t){return Ny(t,e=>{if(!e)throw wl.create("installation-not-found");return yL(e)})}function yL(t){return CQ(t)?{fid:t.fid,registrationStatus:0}:t}function CQ(t){return t.registrationStatus===1&&t.registrationTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ({appConfig:t,heartbeatServiceProvider:e},n){const r=MQ(t,n),i=dQ(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:iL,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dL(()=>fetch(r,a));if(l.ok){const c=await l.json();return lL(c)}else throw await cL("Generate Auth Token",l)}function MQ(t,{fid:e}){return`${aL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e=!1){let n;const r=await Ny(t.appConfig,s=>{if(!wL(s))throw wl.create("not-registered");const o=s.authToken;if(!e&&DQ(o))return s;if(o.requestStatus===1)return n=RQ(t,e),s;{if(!navigator.onLine)throw wl.create("app-offline");const a=PQ(s);return n=xQ(t,a),a}});return n?await n:r.authToken}async function RQ(t,e){let n=await kA(t.appConfig);for(;n.authToken.requestStatus===1;)await fL(100),n=await kA(t.appConfig);const r=n.authToken;return r.requestStatus===0?b1(t,e):r}function kA(t){return Ny(t,e=>{if(!wL(e))throw wl.create("not-registered");const n=e.authToken;return LQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function xQ(t,e){try{const n=await NQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await tg(t.appConfig,r),n}catch(n){if(oL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tg(t.appConfig,r)}throw n}}function wL(t){return t!==void 0&&t.registrationStatus===2}function DQ(t){return t.requestStatus===2&&!OQ(t)}function OQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aQ}function PQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LQ(t){return t.requestStatus===1&&t.requestTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Q(t){const e=t,{installationEntry:n,registrationPromise:r}=await S1(e);return r?r.catch(console.error):b1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BQ(t,e=!1){const n=t;return await UQ(n),(await b1(n,e)).token}async function UQ(t){const{registrationPromise:e}=await S1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t){if(!t||!t.options)throw vw("App Configuration");if(!t.name)throw vw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vw(t){return wl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="installations",jQ="installations-internal",zQ=t=>{const e=t.getProvider("app").getImmediate(),n=FQ(e),r=qf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WQ=t=>{const e=t.getProvider("app").getImmediate(),n=qf(e,vL).getImmediate();return{getId:()=>$Q(n),getToken:i=>BQ(n,i)}};function VQ(){pa(new _o(vL,zQ,"PUBLIC")),pa(new _o(jQ,WQ,"PRIVATE"))}VQ();xs(nL,v1);xs(nL,v1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="analytics",HQ="firebase_id",GQ="origin",qQ=60*1e3,KQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new QE("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new _y("analytics","Analytics",YQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t){if(!t.startsWith(E1)){const e=mi.create("invalid-gtag-resource",{gtagURL:t});return Xr.warn(e.message),""}return t}function _L(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function JQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ZQ(t,e){const n=JQ("firebase-js-sdk-policy",{createScriptURL:QQ}),r=document.createElement("script"),i=`${E1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function XQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eJ(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await _L(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Xr.error(a)}t("config",i,s)}async function tJ(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await _L(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xr.error(s)}}function nJ(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await tJ(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await eJ(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Xr.error(a)}}return i}function rJ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=nJ(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function iJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(E1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=30,oJ=1e3;class aJ{constructor(e={},n=oJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SL=new aJ;function lJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cJ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:lJ(r)},s=KQ.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function uJ(t,e=SL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw mi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new hJ;return setTimeout(async()=>{a.abort()},qQ),bL({appId:r,apiKey:i,measurementId:s},o,a,e)}async function bL(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SL){var s;const{appId:o,measurementId:a}=t;try{await dJ(r,e)}catch(l){if(a)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await cJ(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!fJ(c)){if(i.deleteThrottleMetadata(o),a)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Pk(n,i.intervalMillis,sJ):Pk(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Xr.debug(`Calling attemptFetch again in ${u} millis`),bL(t,d,r,i)}}function dJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fJ(t){if(!(t instanceof Nl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class hJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mJ(){if(O2())try{await P2()}catch(t){return Xr.warn(mi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xr.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gJ(t,e,n,r,i,s,o){var a;const l=uJ(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xr.error(h)),e.push(l);const c=mJ().then(h=>{if(h)return r.getId()}),[u,d]=await Promise.all([l,c]);iJ(s)||ZQ(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[GQ]="firebase",f.update=!0,d!=null&&(f[HQ]=d),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.app=e}_delete(){return delete Bd[this.app.options.appId],Promise.resolve()}}let Bd={},AA=[];const CA={};let _w="dataLayer",wJ="gtag",NA,EL,MA=!1;function vJ(){const t=[];if(qH()&&t.push("This is a browser extension environment."),QH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=mi.create("invalid-analytics-context",{errorInfo:e});Xr.warn(n.message)}}function _J(t,e,n){vJ();const r=t.options.appId;if(!r)throw mi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(Bd[r]!=null)throw mi.create("already-exists",{id:r});if(!MA){XQ(_w);const{wrappedGtag:s,gtagCore:o}=rJ(Bd,AA,CA,_w,wJ);EL=s,NA=o,MA=!0}return Bd[r]=gJ(t,AA,CA,e,NA,_w,n),new yJ(t)}function SJ(t=j2()){t=by(t);const e=qf(t,ng);return e.isInitialized()?e.getImmediate():bJ(t)}function bJ(t,e={}){const n=qf(t,ng);if(n.isInitialized()){const i=n.getImmediate();if(Hm(e,n.getOptions()))return i;throw mi.create("already-initialized")}return n.initialize({options:e})}function EJ(t,e,n,r){t=by(t),pJ(EL,Bd[t.app.options.appId],e,n,r).catch(i=>Xr.error(i))}const RA="@firebase/analytics",xA="0.10.8";function TJ(){pa(new _o(ng,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return _J(r,i,n)},"PUBLIC")),pa(new _o("analytics-internal",t,"PRIVATE")),xs(RA,xA),xs(RA,xA,"esm2017");function t(e){try{const n=e.getProvider(ng).getImmediate();return{logEvent:(r,i,s)=>EJ(n,r,i,s)}}catch(n){throw mi.create("interop-component-reg-failed",{reason:n})}}}TJ();const IJ="https://edge.test.honeycombprotocol.com/";kH(IJ,!0);const kJ={apiKey:"AIzaSyBryYJ_BEXB9zuJCRnO1RdDbj1T5piAuKc",authDomain:"astroworld-ac31d.firebaseapp.com",databaseURL:"https://astroworld-ac31d-default-rtdb.firebaseio.com",projectId:"astroworld-ac31d",storageBucket:"astroworld-ac31d.firebasestorage.app",messagingSenderId:"589271153603",appId:"1:589271153603:web:028ab408f1ac3f3bbddb76",measurementId:"G-FYJBPBFM34"},TL=F2(kJ);SJ(TL);rQ(TL);function AJ({onStartGame:t,wallet:e,setVisible:n}){ce.useEffect(()=>{const o=document.createElement("style");return o.textContent=`
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        font-family: monospace;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
      }
      * {
        box-sizing: border-box;
      }
      .fade-in {
        opacity: 0;
        animation: fadeIn 0.5s ease-in-out forwards;
      }
      .fade-out {
        animation: fadeOut 0.3s ease-in-out forwards;
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }
      /* Mobile responsive styles */
      @media (max-width: 768px) {
        .game-title {
          font-size: 48px !important;
        }
        .menu-button {
          font-size: 16px !important;
          padding: 12px 25px !important;
          min-width: 180px !important;
        }
        .menu-button.primary {
          font-size: 20px !important;
          padding: 16px 30px !important;
        }
      }
      @media (max-width: 480px) {
        .game-title {
          font-size: 36px !important;
          letter-spacing: 4px !important;
        }
        .menu-button {
          font-size: 14px !important;
          padding: 10px 20px !important;
          min-width: 160px !important;
        }
        .menu-button.primary {
          font-size: 18px !important;
          padding: 14px 25px !important;
        }
      }
    `,document.head.appendChild(o),()=>document.head.removeChild(o)},[]);const r=(o,a)=>{let l;return(...c)=>{clearTimeout(l),l=setTimeout(()=>o(...c),a)}};function i(o,a,l=!1){const c=document.createElement("button");c.className=`menu-button${l?" primary":""}`,c.style.cssText=`
      background: ${l?"#4169e1":"#2a4d8a"};
      color: white;
      border: 2px solid ${l?"#4169e1":"#2a4d8a"};
      padding: ${l?"20px 40px":"15px 35px"};
      font-size: ${l?"24px":"18px"};
      font-family: monospace;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      letter-spacing: 2px;
      transition: all 0.3s ease;
      min-width: 200px;
    `,c.textContent=o;const u=()=>{c.style.transform="scale(1.05)",c.style.background=l?"#5a7dff":"#3d6bb3"},d=()=>{c.style.transform="scale(1)",c.style.background=l?"#4169e1":"#2a4d8a"};return c.addEventListener("mouseenter",u),c.addEventListener("mouseleave",d),c.addEventListener("touchstart",u),c.addEventListener("touchend",d),c.addEventListener("click",r(a,300)),c}function s(o){const a=document.createElement("div");i("PLAY VS A.I.",()=>{a.classList.add("fade-out"),setTimeout(()=>a.remove(),300),t("normal")},!0),i("PLAY TIMED MATCH",()=>{a.classList.add("fade-out"),setTimeout(()=>a.remove(),300),t("timed")}),i("BACK",()=>{a.classList.add("fade-out"),setTimeout(()=>a.remove(),300),o()}),document.body.appendChild(a)}return ce.useEffect(()=>{const o=document.createElement("div");return o.id="start-screen",i(e.connected?"WALLET CONNECTED":"CONNECT WALLET",()=>{e.connected||n(!0)}).classList.add("wallet-connect-button"),i("PLAY",()=>{o.classList.add("fade-out"),setTimeout(()=>o.remove(),300),s(()=>showStartScreenInternal())},!0),document.body.appendChild(o),()=>o.remove()},[e.connected]),null}function CJ({mode:t}){const[e,n]=ce.useState(!0);return ce.useEffect(()=>(loadSun().then(()=>{n(!1),animate()}),()=>{}),[]),e?Zi.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"black",color:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading Reality Coil..."}):null}function NJ(){const[t,e]=ce.useState(!1),[n,r]=ce.useState(null),i=FR(),{setVisible:s}=oD(),o=a=>{r(a),e(!0)};return Zi.jsx(Zi.Fragment,{children:t?Zi.jsx(CJ,{mode:n}):Zi.jsx(AJ,{onStartGame:o,wallet:i,setVisible:s})})}function MJ(){const t=ce.useMemo(()=>"https://rpc.test.honeycombprotocol.com",[]),e=ce.useMemo(()=>[new uW,new yW],[]);return Zi.jsx(F8,{endpoint:t,children:Zi.jsx(oW,{wallets:e,autoConnect:!0,children:Zi.jsx(kW,{children:Zi.jsx(NJ,{})})})})}Sw.createRoot(document.getElementById("root")).render(Zi.jsx(le.StrictMode,{children:Zi.jsx(MJ,{})}));export{Rg as E,oe as P,Je as T,Hc as V,Fe as c,_l as g};
